{"version":3,"sources":["meteor://ðŸ’»app/packages/cultofcoders:grapher-react/main.client.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/defaults.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/setDefaults.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/withQuery.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/legacy/createQueryContainer.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/lib/checkOptions.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/lib/getDisplayName.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/lib/withQueryContainer.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/lib/withReactiveQuery.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/lib/withStaticQuery.js"],"names":["module","watch","require","v","exports","setDefaults","withQuery","createQueryContainer","checkNpmVersions","react","exportDefault","reactive","single","export","defaults","newDefaults","Object","assign","React","withTracker","withReactiveQuery","withQueryContainer","withStaticQuery","checkOptions","handler","_config","config","component","queryContainer","staticQueryContainer","props","query","createElement","createContainer","options","Meteor","isDevelopment","console","warn","params","setParams","subscribe","loading","ready","dataProp","_","first","fetch","MethodQueryComponent","state","undefined","error","componentWillReceiveProps","nextProps","_fetch","componentDidMount","data","setState","render","Component","propTypes","PropTypes","object","check","Match","Maybe","Boolean","pollingMs","Number","errorComponent","loadingComponent","poll","Error","getDisplayName","WrappedComponent","displayName","name","Query","NamedQuery","grapher","shape","isLoading","bool","isRequired","array","oneOfType","instanceOf","GrapherQueryContainer","withReactiveContainer","ReactiveVar","QueryComponent","subscriptionError","subscriptionHandle","onStop","err","set","onReady","isReady","errorTracker","get","withStaticQueryContainer","GrapherStaticQueryContainer","refetch","pollingInterval","setInterval","componentWillUnmount","clearInterval"],"mappings":"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","file":"/packages/cultofcoders_grapher-react.js","sourcesContent":["import { checkNpmVersions } from 'meteor/tmeasday:check-npm-versions';\n\ncheckNpmVersions({\n    react: '15.3 - 16',\n    'prop-types': '15.0 - 16',\n}, 'cultofcoders:grapher-react');\n\nexport {\n    default as setDefaults\n} from './setDefaults.js';\n\nexport {\n    default as withQuery\n} from './withQuery.js';\n\nexport {\n    default as createQueryContainer\n} from './legacy/createQueryContainer.js';","export default {\n    reactive: false,\n    single: false,\n}","import defaults from './defaults';\n\nexport default function setDefaults(newDefaults) {\n    Object.assign(defaults, newDefaults);\n}","import React from 'react';\nimport defaults from './defaults';\nimport {withTracker} from 'meteor/react-meteor-data';\nimport withReactiveQuery from './lib/withReactiveQuery';\nimport withQueryContainer from './lib/withQueryContainer';\nimport withStaticQuery from './lib/withStaticQuery';\nimport checkOptions from './lib/checkOptions';\n\nexport default function (handler, _config = {}) {\n    checkOptions(_config);\n    const config = Object.assign({}, defaults, _config);\n\n    return function (component) {\n        const queryContainer = withQueryContainer(component);\n\n        if (!config.reactive) {\n            const staticQueryContainer = withStaticQuery(queryContainer);\n\n            return function (props) {\n                const query = handler(props);\n\n                return React.createElement(staticQueryContainer, {\n                    query,\n                    props,\n                    config\n                })\n            }\n        } else {\n            return withReactiveQuery(handler, config, queryContainer);\n        }\n    };\n}","import React from 'react';\nimport {createContainer} from 'meteor/react-meteor-data';\n\nexport default (query, component, options = {}) => {\n    if (Meteor.isDevelopment) {\n        console.warn('createQueryContainer() is deprecated, please use withQuery() instead')\n    }\n\n    if (options.reactive) {\n        return createContainer((props) => {\n            if (props.params) {\n                query.setParams(props.params);\n            }\n\n            const handler = query.subscribe();\n\n            return {\n                query,\n                loading: !handler.ready(),\n                [options.dataProp]: options.single ? _.first(query.fetch()) : query.fetch(),\n                ...props\n            }\n        }, component);\n    }\n\n    class MethodQueryComponent extends React.Component {\n        constructor() {\n            super();\n            this.state = {\n                [options.dataProp]: undefined,\n                error: undefined,\n                loading: true\n            }\n        }\n\n        componentWillReceiveProps(nextProps) {\n            this._fetch(nextProps.params);\n        }\n\n        componentDidMount() {\n            this._fetch(this.props.params);\n        }\n\n        _fetch(params) {\n            if (params) {\n                query.setParams(params);\n            }\n\n            query.fetch((error, data) => {\n                const state = {\n                    error,\n                    [options.dataProp]: options.single ? _.first(data) : data,\n                    loading: false\n                };\n\n                this.setState(state);\n            });\n        }\n\n        render() {\n            const {state, props} = this;\n\n            return React.createElement(component, {\n                query,\n                ...state,\n                ...props\n            })\n        }\n    }\n\n    MethodQueryComponent.propTypes = {\n        params: React.PropTypes.object\n    };\n\n    return MethodQueryComponent;\n}","import React from 'react';\nimport {check, Match} from 'meteor/check';\n\nexport default function (options) {\n    check(options, {\n        reactive: Match.Maybe(Boolean),\n        single: Match.Maybe(Boolean),\n        pollingMs: Match.Maybe(Number),\n        errorComponent: Match.Maybe(React.Component),\n        loadingComponent: Match.Maybe(React.Component),\n    });\n\n    if (options.reactive && options.poll) {\n       throw new Meteor.Error(`You cannot have a query that is reactive and it is with polling`)\n    }\n}","export default function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Query, NamedQuery} from 'meteor/cultofcoders:grapher-react';\nimport getDisplayName from './getDisplayName';\nimport {withTracker} from 'meteor/react-meteor-data';\n\nconst propTypes = {\n    grapher: PropTypes.shape({\n        isLoading: PropTypes.bool.isRequired,\n        error: PropTypes.object,\n        data: PropTypes.array,\n        query: PropTypes.oneOfType([\n            PropTypes.instanceOf(Query),\n            PropTypes.instanceOf(NamedQuery),\n        ])\n    }).isRequired,\n    config: PropTypes.object.isRequired,\n    props: PropTypes.object,\n};\n\nexport default function withQueryContainer(WrappedComponent) {\n    let GrapherQueryContainer = function({grapher, config, query, props}) {\n        const {isLoading, error, data} = grapher;\n\n        if (error && config.errorComponent) {\n            return React.createElement(config.errorComponent, {\n                error,\n                query,\n            })\n        }\n\n        if (isLoading && config.loadingComponent) {\n            return React.createElement(config.loadingComponent, {\n                query,\n            })\n        }\n\n        return React.createElement(WrappedComponent, {\n            ...props,\n            isLoading: error ? false : isLoading,\n            error,\n            data: config.single ? data[0] : data,\n            query\n        })\n    };\n\n    GrapherQueryContainer.propTypes = propTypes;\n    GrapherQueryContainer.displayName = `GrapherQuery(${getDisplayName(WrappedComponent)})`;\n\n    return GrapherQueryContainer;\n}\n","import {withTracker} from 'meteor/react-meteor-data';\nimport {ReactiveVar} from 'meteor/reactive-var';\n\n/**\n * Wraps the query and provides reactive data fetching utility\n *\n * @param handler\n * @param config\n * @param QueryComponent\n */\nexport default function withReactiveContainer(handler, config, QueryComponent) {\n    let subscriptionError = new ReactiveVar();\n\n    return withTracker((props) => {\n        const query = handler(props);\n\n        const subscriptionHandle = query.subscribe({\n            onStop(err) {\n                if (err) {\n                    subscriptionError.set(err);\n                }\n            },\n            onReady() {\n                subscriptionError.set(null);\n            }\n        });\n\n        const isReady = subscriptionHandle.ready();\n\n        const data = query.fetch();\n\n        return {\n            grapher: {\n                isLoading: !isReady,\n                data,\n                error: subscriptionError,\n            },\n            query,\n            config,\n            props,\n        }\n    })(errorTracker(QueryComponent))\n}\n\nconst errorTracker = withTracker((props) => {\n    const error = props.grapher.error.get();\n\n    return {\n        ...props,\n        grapher: {\n            ...props.grapher,\n            error,\n        }\n    };\n});","import React from 'react';\nimport getDisplayName from './getDisplayName';\n\nexport default function withStaticQueryContainer(WrappedComponent) {\n    /**\n     * We use it like this so we can have naming inside React Dev Tools\n     * This is a standard pattern in HOCs\n     */\n    class GrapherStaticQueryContainer extends React.Component {\n        state = {\n            isLoading: true,\n            error: null,\n            data: [],\n        };\n\n        componentWillReceiveProps(nextProps) {\n            const {query} = nextProps;\n            this.fetch(query);\n        }\n\n        componentDidMount() {\n            const {query, config} = this.props;\n            this.fetch(query);\n\n            if (config.pollingMs) {\n                this.pollingInterval = setInterval(() => {\n                    this.fetch(query);\n                }, config.pollingMs)\n            }\n        }\n\n        componentWillUnmount() {\n            this.pollingInterval && clearInterval(this.pollingInterval);\n        }\n\n        fetch(query) {\n            query.fetch((error, data) => {\n                if (error) {\n                    this.setState({\n                        error,\n                        data: [],\n                        isLoading: false,\n                    })\n                } else {\n                    this.setState({\n                        error: null,\n                        data,\n                        isLoading: false,\n                    });\n                }\n            });\n        }\n\n        refetch = () => {\n            const {query} = this.props;\n            this.fetch(query);\n        };\n\n        render() {\n            const {config, props, query} = this.props;\n\n            return React.createElement(WrappedComponent, {\n                grapher: this.state,\n                config,\n                query,\n                props: {...props, refetch: this.refetch},\n            });\n        }\n    }\n\n    GrapherStaticQueryContainer.displayName = `StaticQuery(${getDisplayName(WrappedComponent)})`;\n\n    return GrapherStaticQueryContainer;\n}"]}