{"version":3,"sources":["meteor://ðŸ’»app/packages/cultofcoders:grapher-react/main.server.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/defaults.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/setDefaults.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/withQuery.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/legacy/createQueryContainer.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/lib/checkOptions.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/lib/getDisplayName.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/lib/withQueryContainer.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/lib/withReactiveQuery.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/lib/withStaticQuery.js"],"names":["module","watch","require","default","v","exports","setDefaults","withQuery","createQueryContainer","checkNpmVersions","react","exportDefault","reactive","single","export","defaults","newDefaults","Object","assign","React","withTracker","withReactiveQuery","withQueryContainer","withStaticQuery","checkOptions","handler","_config","config","component","queryContainer","staticQueryContainer","props","query","createElement","createContainer","options","Meteor","isDevelopment","console","warn","params","setParams","subscribe","loading","ready","dataProp","_","first","fetch","MethodQueryComponent","Component","constructor","state","undefined","error","componentWillReceiveProps","nextProps","_fetch","componentDidMount","data","setState","render","propTypes","PropTypes","object","check","Match","Maybe","Boolean","pollingMs","Number","errorComponent","loadingComponent","poll","Error","getDisplayName","WrappedComponent","displayName","name","Query","NamedQuery","grapher","shape","isLoading","bool","isRequired","array","oneOfType","instanceOf","GrapherQueryContainer","withReactiveContainer","ReactiveVar","QueryComponent","subscriptionError","subscriptionHandle","onStop","err","set","onReady","isReady","errorTracker","get","withStaticQueryContainer","GrapherStaticQueryContainer","refetch","pollingInterval","setInterval","componentWillUnmount","clearInterval"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,OAAOC,KAAP,CAAaC,QAAQ,kBAAR,CAAb,EAAyC;AAACC,YAAQC,CAAR,EAAU;AAACC,gBAAQC,WAAR,GAAoBF,CAApB;AAAsB;;AAAlC,CAAzC,EAA6E,CAA7E;AAAgFJ,OAAOC,KAAP,CAAaC,QAAQ,gBAAR,CAAb,EAAuC;AAACC,YAAQC,CAAR,EAAU;AAACC,gBAAQE,SAAR,GAAkBH,CAAlB;AAAoB;;AAAhC,CAAvC,EAAyE,CAAzE;AAA4EJ,OAAOC,KAAP,CAAaC,QAAQ,kCAAR,CAAb,EAAyD;AAACC,YAAQC,CAAR,EAAU;AAACC,gBAAQG,oBAAR,GAA6BJ,CAA7B;AAA+B;;AAA3C,CAAzD,EAAsG,CAAtG;AAAyG,IAAIK,gBAAJ;AAAqBT,OAAOC,KAAP,CAAaC,QAAQ,oCAAR,CAAb,EAA2D;AAACO,qBAAiBL,CAAjB,EAAmB;AAACK,2BAAiBL,CAAjB;AAAmB;;AAAxC,CAA3D,EAAqG,CAArG;AAE1RK,iBAAiB;AACbC,WAAO,WADM;AAEb,kBAAc;AAFD,CAAjB,EAGG,4BAHH,E;;;;;;;;;;;ACFAV,OAAOW,aAAP,CAAe;AACXC,cAAU,KADC;AAEXC,YAAQ;AAFG,CAAf,E;;;;;;;;;;;ACAAb,OAAOc,MAAP,CAAc;AAACX,aAAQ,MAAIG;AAAb,CAAd;AAAyC,IAAIS,QAAJ;AAAaf,OAAOC,KAAP,CAAaC,QAAQ,YAAR,CAAb,EAAmC;AAACC,YAAQC,CAAR,EAAU;AAACW,mBAASX,CAAT;AAAW;;AAAvB,CAAnC,EAA4D,CAA5D;;AAEvC,SAASE,WAAT,CAAqBU,WAArB,EAAkC;AAC7CC,WAAOC,MAAP,CAAcH,QAAd,EAAwBC,WAAxB;AACH,C;;;;;;;;;;;ACJD,IAAIG,KAAJ;AAAUnB,OAAOC,KAAP,CAAaC,QAAQ,OAAR,CAAb,EAA8B;AAACC,YAAQC,CAAR,EAAU;AAACe,gBAAMf,CAAN;AAAQ;;AAApB,CAA9B,EAAoD,CAApD;AAAuD,IAAIW,QAAJ;AAAaf,OAAOC,KAAP,CAAaC,QAAQ,YAAR,CAAb,EAAmC;AAACC,YAAQC,CAAR,EAAU;AAACW,mBAASX,CAAT;AAAW;;AAAvB,CAAnC,EAA4D,CAA5D;AAA+D,IAAIgB,WAAJ;AAAgBpB,OAAOC,KAAP,CAAaC,QAAQ,0BAAR,CAAb,EAAiD;AAACkB,gBAAYhB,CAAZ,EAAc;AAACgB,sBAAYhB,CAAZ;AAAc;;AAA9B,CAAjD,EAAiF,CAAjF;AAAoF,IAAIiB,iBAAJ;AAAsBrB,OAAOC,KAAP,CAAaC,QAAQ,yBAAR,CAAb,EAAgD;AAACC,YAAQC,CAAR,EAAU;AAACiB,4BAAkBjB,CAAlB;AAAoB;;AAAhC,CAAhD,EAAkF,CAAlF;AAAqF,IAAIkB,kBAAJ;AAAuBtB,OAAOC,KAAP,CAAaC,QAAQ,0BAAR,CAAb,EAAiD;AAACC,YAAQC,CAAR,EAAU;AAACkB,6BAAmBlB,CAAnB;AAAqB;;AAAjC,CAAjD,EAAoF,CAApF;AAAuF,IAAImB,eAAJ;AAAoBvB,OAAOC,KAAP,CAAaC,QAAQ,uBAAR,CAAb,EAA8C;AAACC,YAAQC,CAAR,EAAU;AAACmB,0BAAgBnB,CAAhB;AAAkB;;AAA9B,CAA9C,EAA8E,CAA9E;AAAiF,IAAIoB,YAAJ;AAAiBxB,OAAOC,KAAP,CAAaC,QAAQ,oBAAR,CAAb,EAA2C;AAACC,YAAQC,CAAR,EAAU;AAACoB,uBAAapB,CAAb;AAAe;;AAA3B,CAA3C,EAAwE,CAAxE;AAAhkBJ,OAAOW,aAAP,CAQe,UAAUc,OAAV,EAAmBC,UAAU,EAA7B,EAAiC;AAC5CF,iBAAaE,OAAb;AACA,UAAMC,SAASV,OAAOC,MAAP,CAAc,EAAd,EAAkBH,QAAlB,EAA4BW,OAA5B,CAAf;AAEA,WAAO,UAAUE,SAAV,EAAqB;AACxB,cAAMC,iBAAiBP,mBAAmBM,SAAnB,CAAvB;;AAEA,YAAI,CAACD,OAAOf,QAAZ,EAAsB;AAClB,kBAAMkB,uBAAuBP,gBAAgBM,cAAhB,CAA7B;AAEA,mBAAO,UAAUE,KAAV,EAAiB;AACpB,sBAAMC,QAAQP,QAAQM,KAAR,CAAd;AAEA,uBAAOZ,MAAMc,aAAN,CAAoBH,oBAApB,EAA0C;AAC7CE,yBAD6C;AAE7CD,yBAF6C;AAG7CJ;AAH6C,iBAA1C,CAAP;AAKH,aARD;AASH,SAZD,MAYO;AACH,mBAAON,kBAAkBI,OAAlB,EAA2BE,MAA3B,EAAmCE,cAAnC,CAAP;AACH;AACJ,KAlBD;AAmBH,CA/BD,E;;;;;;;;;;;;;;;;;ACAA,IAAIV,KAAJ;AAAUnB,OAAOC,KAAP,CAAaC,QAAQ,OAAR,CAAb,EAA8B;AAACC,YAAQC,CAAR,EAAU;AAACe,gBAAMf,CAAN;AAAQ;;AAApB,CAA9B,EAAoD,CAApD;AAAuD,IAAI8B,eAAJ;AAAoBlC,OAAOC,KAAP,CAAaC,QAAQ,0BAAR,CAAb,EAAiD;AAACgC,oBAAgB9B,CAAhB,EAAkB;AAAC8B,0BAAgB9B,CAAhB;AAAkB;;AAAtC,CAAjD,EAAyF,CAAzF;AAArFJ,OAAOW,aAAP,CAGe,CAACqB,KAAD,EAAQJ,SAAR,EAAmBO,UAAU,EAA7B,KAAoC;AAC/C,QAAIC,OAAOC,aAAX,EAA0B;AACtBC,gBAAQC,IAAR,CAAa,sEAAb;AACH;;AAED,QAAIJ,QAAQvB,QAAZ,EAAsB;AAClB,eAAOsB,gBAAiBH,KAAD,IAAW;AAC9B,gBAAIA,MAAMS,MAAV,EAAkB;AACdR,sBAAMS,SAAN,CAAgBV,MAAMS,MAAtB;AACH;;AAED,kBAAMf,UAAUO,MAAMU,SAAN,EAAhB;AAEA;AACIV,qBADJ;AAEIW,yBAAS,CAAClB,QAAQmB,KAAR,EAFd;AAGI,iBAACT,QAAQU,QAAT,GAAoBV,QAAQtB,MAAR,GAAiBiC,EAAEC,KAAF,CAAQf,MAAMgB,KAAN,EAAR,CAAjB,GAA0ChB,MAAMgB,KAAN;AAHlE,eAIOjB,KAJP;AAMH,SAbM,EAaJH,SAbI,CAAP;AAcH;;AAED,UAAMqB,oBAAN,SAAmC9B,MAAM+B,SAAzC,CAAmD;AAC/CC,sBAAc;AACV;AACA,iBAAKC,KAAL,GAAa;AACT,iBAACjB,QAAQU,QAAT,GAAoBQ,SADX;AAETC,uBAAOD,SAFE;AAGTV,yBAAS;AAHA,aAAb;AAKH;;AAEDY,kCAA0BC,SAA1B,EAAqC;AACjC,iBAAKC,MAAL,CAAYD,UAAUhB,MAAtB;AACH;;AAEDkB,4BAAoB;AAChB,iBAAKD,MAAL,CAAY,KAAK1B,KAAL,CAAWS,MAAvB;AACH;;AAEDiB,eAAOjB,MAAP,EAAe;AACX,gBAAIA,MAAJ,EAAY;AACRR,sBAAMS,SAAN,CAAgBD,MAAhB;AACH;;AAEDR,kBAAMgB,KAAN,CAAY,CAACM,KAAD,EAAQK,IAAR,KAAiB;AACzB,sBAAMP,QAAQ;AACVE,yBADU;AAEV,qBAACnB,QAAQU,QAAT,GAAoBV,QAAQtB,MAAR,GAAiBiC,EAAEC,KAAF,CAAQY,IAAR,CAAjB,GAAiCA,IAF3C;AAGVhB,6BAAS;AAHC,iBAAd;AAMA,qBAAKiB,QAAL,CAAcR,KAAd;AACH,aARD;AASH;;AAEDS,iBAAS;AACL,kBAAM;AAACT,qBAAD;AAAQrB;AAAR,gBAAiB,IAAvB;AAEA,mBAAOZ,MAAMc,aAAN,CAAoBL,SAApB;AACHI;AADG,eAEAoB,KAFA,EAGArB,KAHA,EAAP;AAKH;;AA1C8C;;AA6CnDkB,yBAAqBa,SAArB,GAAiC;AAC7BtB,gBAAQrB,MAAM4C,SAAN,CAAgBC;AADK,KAAjC;AAIA,WAAOf,oBAAP;AACH,CA3ED,E;;;;;;;;;;;ACAA,IAAI9B,KAAJ;AAAUnB,OAAOC,KAAP,CAAaC,QAAQ,OAAR,CAAb,EAA8B;AAACC,YAAQC,CAAR,EAAU;AAACe,gBAAMf,CAAN;AAAQ;;AAApB,CAA9B,EAAoD,CAApD;AAAuD,IAAI6D,KAAJ,EAAUC,KAAV;AAAgBlE,OAAOC,KAAP,CAAaC,QAAQ,cAAR,CAAb,EAAqC;AAAC+D,UAAM7D,CAAN,EAAQ;AAAC6D,gBAAM7D,CAAN;AAAQ,KAAlB;;AAAmB8D,UAAM9D,CAAN,EAAQ;AAAC8D,gBAAM9D,CAAN;AAAQ;;AAApC,CAArC,EAA2E,CAA3E;AAAjFJ,OAAOW,aAAP,CAGe,UAAUwB,OAAV,EAAmB;AAC9B8B,UAAM9B,OAAN,EAAe;AACXvB,kBAAUsD,MAAMC,KAAN,CAAYC,OAAZ,CADC;AAEXvD,gBAAQqD,MAAMC,KAAN,CAAYC,OAAZ,CAFG;AAGXC,mBAAWH,MAAMC,KAAN,CAAYG,MAAZ,CAHA;AAIXC,wBAAgBL,MAAMC,KAAN,CAAYhD,MAAM+B,SAAlB,CAJL;AAKXsB,0BAAkBN,MAAMC,KAAN,CAAYhD,MAAM+B,SAAlB;AALP,KAAf;;AAQA,QAAIf,QAAQvB,QAAR,IAAoBuB,QAAQsC,IAAhC,EAAsC;AACnC,cAAM,IAAIrC,OAAOsC,KAAX,CAAkB,iEAAlB,CAAN;AACF;AACJ,CAfD,E;;;;;;;;;;;ACAA1E,OAAOc,MAAP,CAAc;AAACX,aAAQ,MAAIwE;AAAb,CAAd;;AAAe,SAASA,cAAT,CAAwBC,gBAAxB,EAA0C;AACrD,WAAOA,iBAAiBC,WAAjB,IAAgCD,iBAAiBE,IAAjD,IAAyD,WAAhE;AACH,C;;;;;;;;;;;;;;;;;ACFD9E,OAAOc,MAAP,CAAc;AAACX,aAAQ,MAAImB;AAAb,CAAd;AAAgD,IAAIH,KAAJ;AAAUnB,OAAOC,KAAP,CAAaC,QAAQ,OAAR,CAAb,EAA8B;AAACC,YAAQC,CAAR,EAAU;AAACe,gBAAMf,CAAN;AAAQ;;AAApB,CAA9B,EAAoD,CAApD;AAAuD,IAAI2D,SAAJ;AAAc/D,OAAOC,KAAP,CAAaC,QAAQ,YAAR,CAAb,EAAmC;AAACC,YAAQC,CAAR,EAAU;AAAC2D,oBAAU3D,CAAV;AAAY;;AAAxB,CAAnC,EAA6D,CAA7D;AAAgE,IAAI2E,KAAJ,EAAUC,UAAV;AAAqBhF,OAAOC,KAAP,CAAaC,QAAQ,mCAAR,CAAb,EAA0D;AAAC6E,UAAM3E,CAAN,EAAQ;AAAC2E,gBAAM3E,CAAN;AAAQ,KAAlB;;AAAmB4E,eAAW5E,CAAX,EAAa;AAAC4E,qBAAW5E,CAAX;AAAa;;AAA9C,CAA1D,EAA0G,CAA1G;AAA6G,IAAIuE,cAAJ;AAAmB3E,OAAOC,KAAP,CAAaC,QAAQ,kBAAR,CAAb,EAAyC;AAACC,YAAQC,CAAR,EAAU;AAACuE,yBAAevE,CAAf;AAAiB;;AAA7B,CAAzC,EAAwE,CAAxE;AAA2E,IAAIgB,WAAJ;AAAgBpB,OAAOC,KAAP,CAAaC,QAAQ,0BAAR,CAAb,EAAiD;AAACkB,gBAAYhB,CAAZ,EAAc;AAACgB,sBAAYhB,CAAZ;AAAc;;AAA9B,CAAjD,EAAiF,CAAjF;AAM/a,MAAM0D,YAAY;AACdmB,aAASlB,UAAUmB,KAAV,CAAgB;AACrBC,mBAAWpB,UAAUqB,IAAV,CAAeC,UADL;AAErB/B,eAAOS,UAAUC,MAFI;AAGrBL,cAAMI,UAAUuB,KAHK;AAIrBtD,eAAO+B,UAAUwB,SAAV,CAAoB,CACvBxB,UAAUyB,UAAV,CAAqBT,KAArB,CADuB,EAEvBhB,UAAUyB,UAAV,CAAqBR,UAArB,CAFuB,CAApB;AAJc,KAAhB,EAQNK,UATW;AAUd1D,YAAQoC,UAAUC,MAAV,CAAiBqB,UAVX;AAWdtD,WAAOgC,UAAUC;AAXH,CAAlB;;AAce,SAAS1C,kBAAT,CAA4BsD,gBAA5B,EAA8C;AACzD,QAAIa,wBAAwB,UAAS;AAACR,eAAD;AAAUtD,cAAV;AAAkBK,aAAlB;AAAyBD;AAAzB,KAAT,EAA0C;AAClE,cAAM;AAACoD,qBAAD;AAAY7B,iBAAZ;AAAmBK;AAAnB,YAA2BsB,OAAjC;;AAEA,YAAI3B,SAAS3B,OAAO4C,cAApB,EAAoC;AAChC,mBAAOpD,MAAMc,aAAN,CAAoBN,OAAO4C,cAA3B,EAA2C;AAC9CjB,qBAD8C;AAE9CtB;AAF8C,aAA3C,CAAP;AAIH;;AAED,YAAImD,aAAaxD,OAAO6C,gBAAxB,EAA0C;AACtC,mBAAOrD,MAAMc,aAAN,CAAoBN,OAAO6C,gBAA3B,EAA6C;AAChDxC;AADgD,aAA7C,CAAP;AAGH;;AAED,eAAOb,MAAMc,aAAN,CAAoB2C,gBAApB,6BACA7C,KADA;AAEHoD,uBAAW7B,QAAQ,KAAR,GAAgB6B,SAFxB;AAGH7B,iBAHG;AAIHK,kBAAMhC,OAAOd,MAAP,GAAgB8C,KAAK,CAAL,CAAhB,GAA0BA,IAJ7B;AAKH3B;AALG,WAAP;AAOH,KAvBD;;AAyBAyD,0BAAsB3B,SAAtB,GAAkCA,SAAlC;AACA2B,0BAAsBZ,WAAtB,GAAqC,gBAAeF,eAAeC,gBAAf,CAAiC,GAArF;AAEA,WAAOa,qBAAP;AACH,C;;;;;;;;;;;;;;;;;AClDDzF,OAAOc,MAAP,CAAc;AAACX,aAAQ,MAAIuF;AAAb,CAAd;AAAmD,IAAItE,WAAJ;AAAgBpB,OAAOC,KAAP,CAAaC,QAAQ,0BAAR,CAAb,EAAiD;AAACkB,gBAAYhB,CAAZ,EAAc;AAACgB,sBAAYhB,CAAZ;AAAc;;AAA9B,CAAjD,EAAiF,CAAjF;AAAoF,IAAIuF,WAAJ;AAAgB3F,OAAOC,KAAP,CAAaC,QAAQ,qBAAR,CAAb,EAA4C;AAACyF,gBAAYvF,CAAZ,EAAc;AAACuF,sBAAYvF,CAAZ;AAAc;;AAA9B,CAA5C,EAA4E,CAA5E;;AAUxJ,SAASsF,qBAAT,CAA+BjE,OAA/B,EAAwCE,MAAxC,EAAgDiE,cAAhD,EAAgE;AAC3E,QAAIC,oBAAoB,IAAIF,WAAJ,EAAxB;AAEA,WAAOvE,YAAaW,KAAD,IAAW;AAC1B,cAAMC,QAAQP,QAAQM,KAAR,CAAd;AAEA,cAAM+D,qBAAqB9D,MAAMU,SAAN,CAAgB;AACvCqD,mBAAOC,GAAP,EAAY;AACR,oBAAIA,GAAJ,EAAS;AACLH,sCAAkBI,GAAlB,CAAsBD,GAAtB;AACH;AACJ,aALsC;;AAMvCE,sBAAU;AACNL,kCAAkBI,GAAlB,CAAsB,IAAtB;AACH;;AARsC,SAAhB,CAA3B;AAWA,cAAME,UAAUL,mBAAmBlD,KAAnB,EAAhB;AAEA,cAAMe,OAAO3B,MAAMgB,KAAN,EAAb;AAEA,eAAO;AACHiC,qBAAS;AACLE,2BAAW,CAACgB,OADP;AAELxC,oBAFK;AAGLL,uBAAOuC;AAHF,aADN;AAMH7D,iBANG;AAOHL,kBAPG;AAQHI;AARG,SAAP;AAUH,KA5BM,EA4BJqE,aAAaR,cAAb,CA5BI,CAAP;AA6BH;;AAED,MAAMQ,eAAehF,YAAaW,KAAD,IAAW;AACxC,UAAMuB,QAAQvB,MAAMkD,OAAN,CAAc3B,KAAd,CAAoB+C,GAApB,EAAd;AAEA,sCACOtE,KADP;AAEIkD,4CACOlD,MAAMkD,OADb;AAEI3B;AAFJ;AAFJ;AAOH,CAVoB,CAArB,C;;;;;;;;;;;;;;;;;AC5CAtD,OAAOc,MAAP,CAAc;AAACX,aAAQ,MAAImG;AAAb,CAAd;AAAsD,IAAInF,KAAJ;AAAUnB,OAAOC,KAAP,CAAaC,QAAQ,OAAR,CAAb,EAA8B;AAACC,YAAQC,CAAR,EAAU;AAACe,gBAAMf,CAAN;AAAQ;;AAApB,CAA9B,EAAoD,CAApD;AAAuD,IAAIuE,cAAJ;AAAmB3E,OAAOC,KAAP,CAAaC,QAAQ,kBAAR,CAAb,EAAyC;AAACC,YAAQC,CAAR,EAAU;AAACuE,yBAAevE,CAAf;AAAiB;;AAA7B,CAAzC,EAAwE,CAAxE;;AAG3H,SAASkG,wBAAT,CAAkC1B,gBAAlC,EAAoD;AAC/D;;;OAIA,MAAM2B,2BAAN,SAA0CpF,MAAM+B,SAAhD,CAA0D;AAAA;AAAA;;AAAA,gDACtDE,KADsD,GAC9C;AACJ+B,2BAAW,IADP;AAEJ7B,uBAAO,IAFH;AAGJK,sBAAM;AAHF,aAD8C,OA6CtD6C,OA7CsD,GA6C5C,MAAM;AACZ,sBAAM;AAACxE;AAAD,oBAAU,KAAKD,KAArB;AACA,qBAAKiB,KAAL,CAAWhB,KAAX;AACH,aAhDqD;AAAA;;AAOtDuB,kCAA0BC,SAA1B,EAAqC;AACjC,kBAAM;AAACxB;AAAD,gBAAUwB,SAAhB;AACA,iBAAKR,KAAL,CAAWhB,KAAX;AACH;;AAED0B,4BAAoB;AAChB,kBAAM;AAAC1B,qBAAD;AAAQL;AAAR,gBAAkB,KAAKI,KAA7B;AACA,iBAAKiB,KAAL,CAAWhB,KAAX;;AAEA,gBAAIL,OAAO0C,SAAX,EAAsB;AAClB,qBAAKoC,eAAL,GAAuBC,YAAY,MAAM;AACrC,yBAAK1D,KAAL,CAAWhB,KAAX;AACH,iBAFsB,EAEpBL,OAAO0C,SAFa,CAAvB;AAGH;AACJ;;AAEDsC,+BAAuB;AACnB,iBAAKF,eAAL,IAAwBG,cAAc,KAAKH,eAAnB,CAAxB;AACH;;AAEDzD,cAAMhB,KAAN,EAAa;AACTA,kBAAMgB,KAAN,CAAY,CAACM,KAAD,EAAQK,IAAR,KAAiB;AACzB,oBAAIL,KAAJ,EAAW;AACP,yBAAKM,QAAL,CAAc;AACVN,6BADU;AAEVK,8BAAM,EAFI;AAGVwB,mCAAW;AAHD,qBAAd;AAKH,iBAND,MAMO;AACH,yBAAKvB,QAAL,CAAc;AACVN,+BAAO,IADG;AAEVK,4BAFU;AAGVwB,mCAAW;AAHD,qBAAd;AAKH;AACJ,aAdD;AAeH;;AAODtB,iBAAS;AACL,kBAAM;AAAClC,sBAAD;AAASI,qBAAT;AAAgBC;AAAhB,gBAAyB,KAAKD,KAApC;AAEA,mBAAOZ,MAAMc,aAAN,CAAoB2C,gBAApB,EAAsC;AACzCK,yBAAS,KAAK7B,KAD2B;AAEzCzB,sBAFyC;AAGzCK,qBAHyC;AAIzCD,kDAAWA,KAAX;AAAkByE,6BAAS,KAAKA;AAAhC;AAJyC,aAAtC,CAAP;AAMH;;AA3DqD;;AA8D1DD,gCAA4B1B,WAA5B,GAA2C,eAAcF,eAAeC,gBAAf,CAAiC,GAA1F;AAEA,WAAO2B,2BAAP;AACH,C","file":"/packages/cultofcoders_grapher-react.js","sourcesContent":["import { checkNpmVersions } from 'meteor/tmeasday:check-npm-versions';\n\ncheckNpmVersions({\n    react: '15.3 - 16',\n    'prop-types': '15.0 - 16',\n}, 'cultofcoders:grapher-react');\n\nexport {\n    default as setDefaults\n} from './setDefaults.js';\n\nexport {\n    default as withQuery\n} from './withQuery.js';\n\nexport {\n    default as createQueryContainer\n} from './legacy/createQueryContainer.js';","export default {\n    reactive: false,\n    single: false,\n}","import defaults from './defaults';\n\nexport default function setDefaults(newDefaults) {\n    Object.assign(defaults, newDefaults);\n}","import React from 'react';\nimport defaults from './defaults';\nimport {withTracker} from 'meteor/react-meteor-data';\nimport withReactiveQuery from './lib/withReactiveQuery';\nimport withQueryContainer from './lib/withQueryContainer';\nimport withStaticQuery from './lib/withStaticQuery';\nimport checkOptions from './lib/checkOptions';\n\nexport default function (handler, _config = {}) {\n    checkOptions(_config);\n    const config = Object.assign({}, defaults, _config);\n\n    return function (component) {\n        const queryContainer = withQueryContainer(component);\n\n        if (!config.reactive) {\n            const staticQueryContainer = withStaticQuery(queryContainer);\n\n            return function (props) {\n                const query = handler(props);\n\n                return React.createElement(staticQueryContainer, {\n                    query,\n                    props,\n                    config\n                })\n            }\n        } else {\n            return withReactiveQuery(handler, config, queryContainer);\n        }\n    };\n}","import React from 'react';\nimport {createContainer} from 'meteor/react-meteor-data';\n\nexport default (query, component, options = {}) => {\n    if (Meteor.isDevelopment) {\n        console.warn('createQueryContainer() is deprecated, please use withQuery() instead')\n    }\n\n    if (options.reactive) {\n        return createContainer((props) => {\n            if (props.params) {\n                query.setParams(props.params);\n            }\n\n            const handler = query.subscribe();\n\n            return {\n                query,\n                loading: !handler.ready(),\n                [options.dataProp]: options.single ? _.first(query.fetch()) : query.fetch(),\n                ...props\n            }\n        }, component);\n    }\n\n    class MethodQueryComponent extends React.Component {\n        constructor() {\n            super();\n            this.state = {\n                [options.dataProp]: undefined,\n                error: undefined,\n                loading: true\n            }\n        }\n\n        componentWillReceiveProps(nextProps) {\n            this._fetch(nextProps.params);\n        }\n\n        componentDidMount() {\n            this._fetch(this.props.params);\n        }\n\n        _fetch(params) {\n            if (params) {\n                query.setParams(params);\n            }\n\n            query.fetch((error, data) => {\n                const state = {\n                    error,\n                    [options.dataProp]: options.single ? _.first(data) : data,\n                    loading: false\n                };\n\n                this.setState(state);\n            });\n        }\n\n        render() {\n            const {state, props} = this;\n\n            return React.createElement(component, {\n                query,\n                ...state,\n                ...props\n            })\n        }\n    }\n\n    MethodQueryComponent.propTypes = {\n        params: React.PropTypes.object\n    };\n\n    return MethodQueryComponent;\n}","import React from 'react';\nimport {check, Match} from 'meteor/check';\n\nexport default function (options) {\n    check(options, {\n        reactive: Match.Maybe(Boolean),\n        single: Match.Maybe(Boolean),\n        pollingMs: Match.Maybe(Number),\n        errorComponent: Match.Maybe(React.Component),\n        loadingComponent: Match.Maybe(React.Component),\n    });\n\n    if (options.reactive && options.poll) {\n       throw new Meteor.Error(`You cannot have a query that is reactive and it is with polling`)\n    }\n}","export default function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Query, NamedQuery} from 'meteor/cultofcoders:grapher-react';\nimport getDisplayName from './getDisplayName';\nimport {withTracker} from 'meteor/react-meteor-data';\n\nconst propTypes = {\n    grapher: PropTypes.shape({\n        isLoading: PropTypes.bool.isRequired,\n        error: PropTypes.object,\n        data: PropTypes.array,\n        query: PropTypes.oneOfType([\n            PropTypes.instanceOf(Query),\n            PropTypes.instanceOf(NamedQuery),\n        ])\n    }).isRequired,\n    config: PropTypes.object.isRequired,\n    props: PropTypes.object,\n};\n\nexport default function withQueryContainer(WrappedComponent) {\n    let GrapherQueryContainer = function({grapher, config, query, props}) {\n        const {isLoading, error, data} = grapher;\n\n        if (error && config.errorComponent) {\n            return React.createElement(config.errorComponent, {\n                error,\n                query,\n            })\n        }\n\n        if (isLoading && config.loadingComponent) {\n            return React.createElement(config.loadingComponent, {\n                query,\n            })\n        }\n\n        return React.createElement(WrappedComponent, {\n            ...props,\n            isLoading: error ? false : isLoading,\n            error,\n            data: config.single ? data[0] : data,\n            query\n        })\n    };\n\n    GrapherQueryContainer.propTypes = propTypes;\n    GrapherQueryContainer.displayName = `GrapherQuery(${getDisplayName(WrappedComponent)})`;\n\n    return GrapherQueryContainer;\n}\n","import {withTracker} from 'meteor/react-meteor-data';\nimport {ReactiveVar} from 'meteor/reactive-var';\n\n/**\n * Wraps the query and provides reactive data fetching utility\n *\n * @param handler\n * @param config\n * @param QueryComponent\n */\nexport default function withReactiveContainer(handler, config, QueryComponent) {\n    let subscriptionError = new ReactiveVar();\n\n    return withTracker((props) => {\n        const query = handler(props);\n\n        const subscriptionHandle = query.subscribe({\n            onStop(err) {\n                if (err) {\n                    subscriptionError.set(err);\n                }\n            },\n            onReady() {\n                subscriptionError.set(null);\n            }\n        });\n\n        const isReady = subscriptionHandle.ready();\n\n        const data = query.fetch();\n\n        return {\n            grapher: {\n                isLoading: !isReady,\n                data,\n                error: subscriptionError,\n            },\n            query,\n            config,\n            props,\n        }\n    })(errorTracker(QueryComponent))\n}\n\nconst errorTracker = withTracker((props) => {\n    const error = props.grapher.error.get();\n\n    return {\n        ...props,\n        grapher: {\n            ...props.grapher,\n            error,\n        }\n    };\n});","import React from 'react';\nimport getDisplayName from './getDisplayName';\n\nexport default function withStaticQueryContainer(WrappedComponent) {\n    /**\n     * We use it like this so we can have naming inside React Dev Tools\n     * This is a standard pattern in HOCs\n     */\n    class GrapherStaticQueryContainer extends React.Component {\n        state = {\n            isLoading: true,\n            error: null,\n            data: [],\n        };\n\n        componentWillReceiveProps(nextProps) {\n            const {query} = nextProps;\n            this.fetch(query);\n        }\n\n        componentDidMount() {\n            const {query, config} = this.props;\n            this.fetch(query);\n\n            if (config.pollingMs) {\n                this.pollingInterval = setInterval(() => {\n                    this.fetch(query);\n                }, config.pollingMs)\n            }\n        }\n\n        componentWillUnmount() {\n            this.pollingInterval && clearInterval(this.pollingInterval);\n        }\n\n        fetch(query) {\n            query.fetch((error, data) => {\n                if (error) {\n                    this.setState({\n                        error,\n                        data: [],\n                        isLoading: false,\n                    })\n                } else {\n                    this.setState({\n                        error: null,\n                        data,\n                        isLoading: false,\n                    });\n                }\n            });\n        }\n\n        refetch = () => {\n            const {query} = this.props;\n            this.fetch(query);\n        };\n\n        render() {\n            const {config, props, query} = this.props;\n\n            return React.createElement(WrappedComponent, {\n                grapher: this.state,\n                config,\n                query,\n                props: {...props, refetch: this.refetch},\n            });\n        }\n    }\n\n    GrapherStaticQueryContainer.displayName = `StaticQuery(${getDisplayName(WrappedComponent)})`;\n\n    return GrapherStaticQueryContainer;\n}"]}