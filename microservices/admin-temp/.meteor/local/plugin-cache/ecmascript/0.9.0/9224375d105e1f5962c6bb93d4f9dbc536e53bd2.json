{"metadata":{"usedHelpers":["extends","inherits","possibleConstructorReturn","createClass","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"meteor/meteor","imported":["Meteor"],"specifiers":[{"kind":"named","imported":"Meteor","local":"Meteor"}]},{"source":"react","imported":["default","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"prop-types","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PropTypes"}]},{"source":"../../api/cleanMethods","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"cleanMethod"}]},{"source":"meteor/alanning:roles","imported":["Roles"],"specifiers":[{"kind":"named","imported":"Roles","local":"Roles"}]},{"source":"../../api/borrowers/fakes","imported":["completeFakeBorrower"],"specifiers":[{"kind":"named","imported":"completeFakeBorrower","local":"completeFakeBorrower"}]},{"source":"../../api/loans/fakes","imported":["loanStep1","loanStep2","loanStep3"],"specifiers":[{"kind":"named","imported":"loanStep1","local":"loanStep1"},{"kind":"named","imported":"loanStep2","local":"loanStep2"},{"kind":"named","imported":"loanStep3","local":"loanStep3"}]},{"source":"../../api/offers/fakes","imported":["getRandomOffer"],"specifiers":[{"kind":"named","imported":"getRandomOffer","local":"getRandomOffer"}]},{"source":"../../api/properties/fakes","imported":["fakeProperty"],"specifiers":[{"kind":"named","imported":"fakeProperty","local":"fakeProperty"}]}],"exports":{"exported":["DevPage"],"specifiers":[{"kind":"local","local":"DevPage","exported":"default"}]}}},"options":{"filename":"imports/core/components/DevPage/DevPage.jsx","filenameRelative":"imports/core/components/DevPage/DevPage.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/components/DevPage/DevPage.jsx.map","sourceFileName":"imports/core/components/DevPage/DevPage.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"DevPage"},"ignored":false,"code":"\"use strict\";\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nmodule.export({\n  \"default\": function () {\n    function _default() {\n      return DevPage;\n    }\n\n    return _default;\n  }()\n});\n\nvar _Meteor = void 0;\n\nmodule.watch(require(\"meteor/meteor\"), {\n  Meteor: function () {\n    function Meteor(v) {\n      _Meteor = v;\n    }\n\n    return Meteor;\n  }()\n}, 0);\n\nvar React = void 0,\n    _Component = void 0;\n\nmodule.watch(require(\"react\"), {\n  \"default\": function () {\n    function _default(v) {\n      React = v;\n    }\n\n    return _default;\n  }(),\n  Component: function () {\n    function Component(v) {\n      _Component = v;\n    }\n\n    return Component;\n  }()\n}, 1);\nvar PropTypes = void 0;\nmodule.watch(require(\"prop-types\"), {\n  \"default\": function () {\n    function _default(v) {\n      PropTypes = v;\n    }\n\n    return _default;\n  }()\n}, 2);\nvar cleanMethod = void 0;\nmodule.watch(require(\"../../api/cleanMethods\"), {\n  \"default\": function () {\n    function _default(v) {\n      cleanMethod = v;\n    }\n\n    return _default;\n  }()\n}, 3);\n\nvar _Roles = void 0;\n\nmodule.watch(require(\"meteor/alanning:roles\"), {\n  Roles: function () {\n    function Roles(v) {\n      _Roles = v;\n    }\n\n    return Roles;\n  }()\n}, 4);\n\nvar _completeFakeBorrower = void 0;\n\nmodule.watch(require(\"../../api/borrowers/fakes\"), {\n  completeFakeBorrower: function () {\n    function completeFakeBorrower(v) {\n      _completeFakeBorrower = v;\n    }\n\n    return completeFakeBorrower;\n  }()\n}, 5);\n\nvar _loanStep = void 0,\n    _loanStep2 = void 0,\n    _loanStep3 = void 0;\n\nmodule.watch(require(\"../../api/loans/fakes\"), {\n  loanStep1: function () {\n    function loanStep1(v) {\n      _loanStep = v;\n    }\n\n    return loanStep1;\n  }(),\n  loanStep2: function () {\n    function loanStep2(v) {\n      _loanStep2 = v;\n    }\n\n    return loanStep2;\n  }(),\n  loanStep3: function () {\n    function loanStep3(v) {\n      _loanStep3 = v;\n    }\n\n    return loanStep3;\n  }()\n}, 6);\n\nvar _getRandomOffer = void 0;\n\nmodule.watch(require(\"../../api/offers/fakes\"), {\n  getRandomOffer: function () {\n    function getRandomOffer(v) {\n      _getRandomOffer = v;\n    }\n\n    return getRandomOffer;\n  }()\n}, 7);\n\nvar _fakeProperty = void 0;\n\nmodule.watch(require(\"../../api/properties/fakes\"), {\n  fakeProperty: function () {\n    function fakeProperty(v) {\n      _fakeProperty = v;\n    }\n\n    return fakeProperty;\n  }()\n}, 8);\n\nvar addStep1Loan = function () {\n  function addStep1Loan(twoBorrowers) {\n    var borrowerIds = [];\n    cleanMethod('insertBorrower', {\n      object: _completeFakeBorrower\n    }).then(function (id1) {\n      borrowerIds.push(id1);\n      return twoBorrowers ? cleanMethod('insertBorrower', {\n        object: _completeFakeBorrower\n      }) : false;\n    }).then(function (id2) {\n      if (id2) {\n        borrowerIds.push(id2);\n      }\n\n      return cleanMethod('insertProperty', {\n        object: _fakeProperty\n      });\n    }).then(function (propertyId) {\n      var loan = _loanStep;\n      loan.borrowerIds = borrowerIds;\n      loan.propertyId = propertyId;\n      cleanMethod('insertLoan', {\n        object: loan\n      });\n    }).catch(console.log);\n  }\n\n  return addStep1Loan;\n}();\n\nvar addStep2Loan = function () {\n  function addStep2Loan(twoBorrowers) {\n    var borrowerIds = [];\n    cleanMethod('insertBorrower', {\n      object: _completeFakeBorrower\n    }).then(function (id1) {\n      borrowerIds.push(id1);\n      return twoBorrowers ? cleanMethod('insertBorrower', {\n        object: _completeFakeBorrower\n      }) : false;\n    }).then(function (id2) {\n      if (id2) {\n        borrowerIds.push(id2);\n      }\n\n      return cleanMethod('insertProperty', {\n        object: _fakeProperty\n      });\n    }).then(function (propertyId) {\n      var loan = _loanStep2;\n      loan.borrowerIds = borrowerIds;\n      loan.propertyId = propertyId;\n      cleanMethod('insertLoan', {\n        object: loan\n      });\n    }).catch(console.log);\n  }\n\n  return addStep2Loan;\n}();\n\nvar addStep3Loan = function () {\n  function addStep3Loan(twoBorrowers) {\n    var completeFiles = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var borrowerIds = [];\n\n    var loan = _loanStep3(completeFiles);\n\n    var loanId = void 0;\n    cleanMethod('insertBorrower', {\n      object: _completeFakeBorrower\n    }).then(function (id1) {\n      borrowerIds.push(id1);\n      return twoBorrowers ? cleanMethod('insertBorrower', {\n        object: _completeFakeBorrower\n      }) : false;\n    }).then(function (id2) {\n      if (id2) {\n        borrowerIds.push(id2);\n      }\n\n      return cleanMethod('insertProperty', {\n        object: _fakeProperty\n      });\n    }).then(function (propertyId) {\n      loan.borrowerIds = borrowerIds;\n      loan.propertyId = propertyId;\n    }).then(function () {\n      return cleanMethod('insertLoan', {\n        object: loan\n      });\n    }).then(function (id) {\n      loanId = id;\n\n      var object = _getRandomOffer({\n        loan: (0, _extends3.default)({}, loan, {\n          _id: id\n        }),\n        property: _fakeProperty\n      }, true);\n\n      return cleanMethod('insertAdminOffer', {\n        object: object\n      });\n    }).then(function (offerId) {\n      return cleanMethod('updateLoan', {\n        object: {\n          'logic.lender.offerId': offerId,\n          'logic.lender.chosenTime': new Date()\n        },\n        id: loanId\n      });\n    }).then(function () {\n      // Weird bug with offers publications that forces me to reload TODO: fix it\n      location.reload();\n    }).catch(console.log);\n  }\n\n  return addStep3Loan;\n}();\n\nvar DevPage = function (_Component2) {\n  (0, _inherits3.default)(DevPage, _Component2);\n\n  function DevPage(props) {\n    (0, _classCallCheck3.default)(this, DevPage);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (DevPage.__proto__ || Object.getPrototypeOf(DevPage)).call(this, props));\n\n    _this.handleChange = function () {\n      return _this.setState(function (prev) {\n        return {\n          twoBorrowers: !prev.twoBorrowers\n        };\n      });\n    };\n\n    _this.state = {\n      twoBorrowers: false\n    };\n    return _this;\n  }\n\n  (0, _createClass3.default)(DevPage, [{\n    key: \"componentDidMount\",\n    value: function () {\n      function componentDidMount() {\n        if (!_Roles.userIsInRole(this.props.currentUser, 'dev')) {\n          this.props.history.push('/');\n        }\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function () {\n      function render() {\n        var twoBorrowers = this.state.twoBorrowers;\n        var currentUser = this.props.currentUser;\n\n        if (!_Meteor.isProduction) {\n          return React.createElement(\n            \"div\",\n            null,\n            React.createElement(\"input\", {\n              type: \"checkbox\",\n              name: \"vehicle\",\n              value: twoBorrowers,\n              onChange: this.handleChange\n            }),\n            \"2 borrowers\",\n            React.createElement(\"br\", null),\n            React.createElement(\n              \"button\",\n              {\n                onClick: function () {\n                  function onClick() {\n                    return addStep1Loan(twoBorrowers);\n                  }\n\n                  return onClick;\n                }()\n              },\n              \"step 1 Loan\"\n            ),\n            React.createElement(\n              \"button\",\n              {\n                onClick: function () {\n                  function onClick() {\n                    return addStep2Loan(twoBorrowers);\n                  }\n\n                  return onClick;\n                }()\n              },\n              \"step 2 Loan\"\n            ),\n            React.createElement(\n              \"button\",\n              {\n                onClick: function () {\n                  function onClick() {\n                    return addStep3Loan(twoBorrowers);\n                  }\n\n                  return onClick;\n                }()\n              },\n              \"step 3 Loan\"\n            ),\n            React.createElement(\n              \"button\",\n              {\n                onClick: function () {\n                  function onClick() {\n                    return addStep3Loan(twoBorrowers, false);\n                  }\n\n                  return onClick;\n                }()\n              },\n              \"step 3 Loan, few files\"\n            ),\n            React.createElement(\n              \"button\",\n              {\n                onClick: function () {\n                  function onClick() {\n                    return _Meteor.call('generateTestData');\n                  }\n\n                  return onClick;\n                }()\n              },\n              \"Generate test data\"\n            ),\n            React.createElement(\n              \"button\",\n              {\n                onClick: function () {\n                  function onClick() {\n                    return _Meteor.call('purgeDatabase', currentUser._id);\n                  }\n\n                  return onClick;\n                }()\n              },\n              \"Purge\"\n            ),\n            React.createElement(\n              \"p\",\n              null,\n              \"Insert task related to a random borrower\"\n            ),\n            React.createElement(\n              \"button\",\n              {\n                onClick: function () {\n                  function onClick() {\n                    return _Meteor.call('insertBorrowerRelatedTask');\n                  }\n\n                  return onClick;\n                }()\n              },\n              \"Borrower Task\"\n            ),\n            React.createElement(\n              \"p\",\n              null,\n              \"Insert task related to a random loan\"\n            ),\n            React.createElement(\n              \"button\",\n              {\n                onClick: function () {\n                  function onClick() {\n                    return _Meteor.call('insertBorrowerRelatedTask');\n                  }\n\n                  return onClick;\n                }()\n              },\n              \"Loan Task\"\n            ),\n            React.createElement(\n              \"p\",\n              null,\n              \"Insert task related to a random property\"\n            ),\n            React.createElement(\n              \"button\",\n              {\n                onClick: function () {\n                  function onClick() {\n                    return _Meteor.call('insertBorrowerRelatedTask');\n                  }\n\n                  return onClick;\n                }()\n              },\n              \"Property Task\"\n            )\n          );\n        }\n\n        return null;\n      }\n\n      return render;\n    }()\n  }]);\n  return DevPage;\n}(_Component);\n\nDevPage.propTypes = {\n  currentUser: PropTypes.object\n};\nDevPage.defaultProps = {\n  currentUser: {}\n};","map":{"version":3,"sources":["imports/core/components/DevPage/DevPage.jsx"],"names":["module","export","DevPage","Meteor","watch","require","v","React","Component","PropTypes","cleanMethod","Roles","completeFakeBorrower","loanStep1","loanStep2","loanStep3","getRandomOffer","fakeProperty","addStep1Loan","twoBorrowers","borrowerIds","object","then","id1","push","id2","propertyId","loan","catch","console","log","addStep2Loan","addStep3Loan","completeFiles","loanId","id","_id","property","offerId","Date","location","reload","props","handleChange","setState","prev","state","userIsInRole","currentUser","history","isProduction","call","propTypes","defaultProps"],"mappings":"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","file":"imports/core/components/DevPage/DevPage.jsx.map","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cleanMethod from 'core/api/cleanMethods';\nimport { Roles } from 'meteor/alanning:roles';\n\nimport { completeFakeBorrower } from 'core/api/borrowers/fakes';\nimport { loanStep1, loanStep2, loanStep3 } from 'core/api/loans/fakes';\nimport { getRandomOffer } from 'core/api/offers/fakes';\nimport { fakeProperty } from 'core/api/properties/fakes';\n\nconst addStep1Loan = (twoBorrowers) => {\n  const borrowerIds = [];\n  cleanMethod('insertBorrower', { object: completeFakeBorrower })\n    .then((id1) => {\n      borrowerIds.push(id1);\n      return twoBorrowers\n        ? cleanMethod('insertBorrower', {\n          object: completeFakeBorrower,\n        })\n        : false;\n    })\n    .then((id2) => {\n      if (id2) {\n        borrowerIds.push(id2);\n      }\n\n      return cleanMethod('insertProperty', { object: fakeProperty });\n    })\n    .then((propertyId) => {\n      const loan = loanStep1;\n      loan.borrowerIds = borrowerIds;\n      loan.propertyId = propertyId;\n      cleanMethod('insertLoan', { object: loan });\n    })\n    .catch(console.log);\n};\n\nconst addStep2Loan = (twoBorrowers) => {\n  const borrowerIds = [];\n\n  cleanMethod('insertBorrower', { object: completeFakeBorrower })\n    .then((id1) => {\n      borrowerIds.push(id1);\n      return twoBorrowers\n        ? cleanMethod('insertBorrower', {\n          object: completeFakeBorrower,\n        })\n        : false;\n    })\n    .then((id2) => {\n      if (id2) {\n        borrowerIds.push(id2);\n      }\n\n      return cleanMethod('insertProperty', { object: fakeProperty });\n    })\n    .then((propertyId) => {\n      const loan = loanStep2;\n      loan.borrowerIds = borrowerIds;\n      loan.propertyId = propertyId;\n      cleanMethod('insertLoan', { object: loan });\n    })\n    .catch(console.log);\n};\n\nconst addStep3Loan = (twoBorrowers, completeFiles = true) => {\n  const borrowerIds = [];\n  const loan = loanStep3(completeFiles);\n  let loanId;\n  cleanMethod('insertBorrower', { object: completeFakeBorrower })\n    .then((id1) => {\n      borrowerIds.push(id1);\n      return twoBorrowers\n        ? cleanMethod('insertBorrower', {\n          object: completeFakeBorrower,\n        })\n        : false;\n    })\n    .then((id2) => {\n      if (id2) {\n        borrowerIds.push(id2);\n      }\n\n      return cleanMethod('insertProperty', { object: fakeProperty });\n    })\n    .then((propertyId) => {\n      loan.borrowerIds = borrowerIds;\n      loan.propertyId = propertyId;\n    })\n    .then(() => cleanMethod('insertLoan', { object: loan }))\n    .then((id) => {\n      loanId = id;\n      const object = getRandomOffer(\n        { loan: { ...loan, _id: id }, property: fakeProperty },\n        true,\n      );\n      return cleanMethod('insertAdminOffer', { object });\n    })\n    .then(offerId =>\n      cleanMethod('updateLoan', {\n        object: {\n          'logic.lender.offerId': offerId,\n          'logic.lender.chosenTime': new Date(),\n        },\n        id: loanId,\n      }))\n    .then(() => {\n      // Weird bug with offers publications that forces me to reload TODO: fix it\n      location.reload();\n    })\n    .catch(console.log);\n};\n\nexport default class DevPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { twoBorrowers: false };\n  }\n\n  componentDidMount() {\n    if (!Roles.userIsInRole(this.props.currentUser, 'dev')) {\n      this.props.history.push('/');\n    }\n  }\n\n  handleChange = () =>\n    this.setState(prev => ({ twoBorrowers: !prev.twoBorrowers }));\n\n  render() {\n    const { twoBorrowers } = this.state;\n    const { currentUser } = this.props;\n       \n    if (!Meteor.isProduction) {\n      return (\n        <div>\n          <input\n            type=\"checkbox\"\n            name=\"vehicle\"\n            value={twoBorrowers}\n            onChange={this.handleChange}\n          />\n          2 borrowers<br />\n          <button onClick={() => addStep1Loan(twoBorrowers)}>step 1 Loan</button>\n          <button onClick={() => addStep2Loan(twoBorrowers)}>step 2 Loan</button>\n          <button onClick={() => addStep3Loan(twoBorrowers)}>step 3 Loan</button>\n          <button onClick={() => addStep3Loan(twoBorrowers, false)}>\n            step 3 Loan, few files\n          </button>\n          <button onClick={() => Meteor.call('generateTestData')}>Generate test data</button>\n          <button onClick={() => Meteor.call('purgeDatabase', currentUser._id)}>Purge</button>\n\n          <p>Insert task related to a random borrower</p>\n          <button onClick={() => Meteor.call('insertBorrowerRelatedTask')}>Borrower Task</button>\n\n          <p>Insert task related to a random loan</p>\n          <button onClick={() => Meteor.call('insertBorrowerRelatedTask')}>Loan Task</button>\n\n          <p>Insert task related to a random property</p>\n          <button onClick={() => Meteor.call('insertBorrowerRelatedTask')}>Property Task</button>\n\n        </div>\n      );\n    }\n    return null;\n  }\n}\n\nDevPage.propTypes = {\n  currentUser: PropTypes.object,\n};\n\nDevPage.defaultProps = {\n  currentUser: {},\n};\n\n"]},"hash":"9224375d105e1f5962c6bb93d4f9dbc536e53bd2"}
