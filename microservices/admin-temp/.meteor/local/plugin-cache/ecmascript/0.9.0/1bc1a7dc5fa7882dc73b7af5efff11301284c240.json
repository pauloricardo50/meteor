{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"moment","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"moment"}]},{"source":"../api/loans/LoanService","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"LoanService"}]},{"source":"../api/loans/loanConstants","imported":["LOAN_STATUS","PURCHASE_TYPE","CANTONS","INTEREST_RATES","OWNER","AUCTION_STATUS","CLOSING_STEPS_TYPE","CLOSING_STEPS_STATUS","AUCTION_MOST_IMPORTANT","INSURANCE_USE_PRESET","LOAN_STRATEGY_PRESET","AMORTIZATION_STRATEGY_PRESET","PAYMENT_SCHEDULES"],"specifiers":[{"kind":"named","imported":"LOAN_STATUS","local":"LOAN_STATUS"},{"kind":"named","imported":"PURCHASE_TYPE","local":"PURCHASE_TYPE"},{"kind":"named","imported":"CANTONS","local":"CANTONS"},{"kind":"named","imported":"INTEREST_RATES","local":"INTEREST_RATES"},{"kind":"named","imported":"OWNER","local":"OWNER"},{"kind":"named","imported":"AUCTION_STATUS","local":"AUCTION_STATUS"},{"kind":"named","imported":"CLOSING_STEPS_TYPE","local":"CLOSING_STEPS_TYPE"},{"kind":"named","imported":"CLOSING_STEPS_STATUS","local":"CLOSING_STEPS_STATUS"},{"kind":"named","imported":"AUCTION_MOST_IMPORTANT","local":"AUCTION_MOST_IMPORTANT"},{"kind":"named","imported":"INSURANCE_USE_PRESET","local":"INSURANCE_USE_PRESET"},{"kind":"named","imported":"LOAN_STRATEGY_PRESET","local":"LOAN_STRATEGY_PRESET"},{"kind":"named","imported":"AMORTIZATION_STRATEGY_PRESET","local":"AMORTIZATION_STRATEGY_PRESET"},{"kind":"named","imported":"PAYMENT_SCHEDULES","local":"PAYMENT_SCHEDULES"}]},{"source":"../api/files/files","imported":["fakeFile"],"specifiers":[{"kind":"named","imported":"fakeFile","local":"fakeFile"}]},{"source":"./config","imported":["STEPS_PER_LOAN"],"specifiers":[{"kind":"named","imported":"STEPS_PER_LOAN","local":"STEPS_PER_LOAN"}]},{"source":"./borrowers","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"createFakeBorrowers"}]},{"source":"./properties","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"createFakeProperty"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/core/fixtures/loans.js","filenameRelative":"imports/core/fixtures/loans.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/fixtures/loans.js.map","sourceFileName":"imports/core/fixtures/loans.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"loans"},"ignored":false,"code":"\"use strict\";\n\nvar moment = void 0;\nmodule.watch(require(\"moment\"), {\n  default: function _default(v) {\n    moment = v;\n  }\n}, 0);\nvar LoanService = void 0;\nmodule.watch(require(\"../api/loans/LoanService\"), {\n  default: function _default(v) {\n    LoanService = v;\n  }\n}, 1);\n\nvar _LOAN_STATUS = void 0,\n    _PURCHASE_TYPE = void 0,\n    _CANTONS = void 0,\n    _INTEREST_RATES = void 0,\n    _OWNER = void 0,\n    _AUCTION_STATUS = void 0,\n    _CLOSING_STEPS_TYPE = void 0,\n    _CLOSING_STEPS_STATUS = void 0,\n    _AUCTION_MOST_IMPORTANT = void 0,\n    _INSURANCE_USE_PRESET = void 0,\n    _LOAN_STRATEGY_PRESET = void 0,\n    _AMORTIZATION_STRATEGY_PRESET = void 0,\n    _PAYMENT_SCHEDULES = void 0;\n\nmodule.watch(require(\"../api/loans/loanConstants\"), {\n  LOAN_STATUS: function LOAN_STATUS(v) {\n    _LOAN_STATUS = v;\n  },\n  PURCHASE_TYPE: function PURCHASE_TYPE(v) {\n    _PURCHASE_TYPE = v;\n  },\n  CANTONS: function CANTONS(v) {\n    _CANTONS = v;\n  },\n  INTEREST_RATES: function INTEREST_RATES(v) {\n    _INTEREST_RATES = v;\n  },\n  OWNER: function OWNER(v) {\n    _OWNER = v;\n  },\n  AUCTION_STATUS: function AUCTION_STATUS(v) {\n    _AUCTION_STATUS = v;\n  },\n  CLOSING_STEPS_TYPE: function CLOSING_STEPS_TYPE(v) {\n    _CLOSING_STEPS_TYPE = v;\n  },\n  CLOSING_STEPS_STATUS: function CLOSING_STEPS_STATUS(v) {\n    _CLOSING_STEPS_STATUS = v;\n  },\n  AUCTION_MOST_IMPORTANT: function AUCTION_MOST_IMPORTANT(v) {\n    _AUCTION_MOST_IMPORTANT = v;\n  },\n  INSURANCE_USE_PRESET: function INSURANCE_USE_PRESET(v) {\n    _INSURANCE_USE_PRESET = v;\n  },\n  LOAN_STRATEGY_PRESET: function LOAN_STRATEGY_PRESET(v) {\n    _LOAN_STRATEGY_PRESET = v;\n  },\n  AMORTIZATION_STRATEGY_PRESET: function AMORTIZATION_STRATEGY_PRESET(v) {\n    _AMORTIZATION_STRATEGY_PRESET = v;\n  },\n  PAYMENT_SCHEDULES: function PAYMENT_SCHEDULES(v) {\n    _PAYMENT_SCHEDULES = v;\n  }\n}, 2);\n\nvar _fakeFile = void 0;\n\nmodule.watch(require(\"../api/files/files\"), {\n  fakeFile: function fakeFile(v) {\n    _fakeFile = v;\n  }\n}, 3);\n\nvar _STEPS_PER_LOAN = void 0;\n\nmodule.watch(require(\"./config\"), {\n  STEPS_PER_LOAN: function STEPS_PER_LOAN(v) {\n    _STEPS_PER_LOAN = v;\n  }\n}, 4);\nvar createFakeBorrowers = void 0;\nmodule.watch(require(\"./borrowers\"), {\n  default: function _default(v) {\n    createFakeBorrowers = v;\n  }\n}, 5);\nvar createFakeProperty = void 0;\nmodule.watch(require(\"./properties\"), {\n  default: function _default(v) {\n    createFakeProperty = v;\n  }\n}, 6);\nvar purchaseTypes = Object.values(_PURCHASE_TYPE);\n\nvar generateRandomNumber = function generateRandomNumber(maxSteps) {\n  return Math.floor(Math.random() * maxSteps + 1);\n};\n\nvar fakeGeneral = {\n  purchaseType: purchaseTypes[Math.floor(Math.random() * purchaseTypes.length)],\n  fortuneUsed: 250000,\n  insuranceFortuneUsed: 100000,\n  wantedClosingDate: moment().add(15, 'd').toDate()\n};\nvar logic1 = {};\nvar logic2 = {\n  step: 2,\n  verification: {\n    requested: false,\n    validated: true,\n    comments: []\n  },\n  auction: {}\n};\nvar logic3 = {\n  step: 3,\n  verification: {\n    requested: false,\n    validated: true,\n    comments: []\n  },\n  // auctionStarted: true,\n  auction: {\n    status: 'ENDED',\n    startTime: new Date(),\n    endTime: new Date()\n  },\n  // auctionEndTime: new Date(),\n  hasValidatedStructure: true,\n  insuranceUsePreset: 'WITHDRAWAL',\n  loanStrategyPreset: 'FIXED',\n  amortizationStrategyPreset: 'INDIRECT',\n  lender: {},\n  closingSteps: [{\n    id: 'upload0',\n    title: 'Contrat de prêt signé',\n    type: 'UPLOAD'\n  }, {\n    id: 'todo0',\n    title: 'Ouverture de compte chez votre prêteur',\n    description: 'Il faut ouvrir un compte bancaire chez votre prêteur où les fonds de votre hypothèque résideront.',\n    type: 'TODO',\n    status: 'VALID'\n  }, {\n    id: 'todo1',\n    title: 'Versement des fonds propres',\n    description: 'Vous devez aller chez le notaire et verser les fonds propres nécessaires sur un compte escrow.',\n    type: 'TODO',\n    status: 'UNVERIFIED'\n  }, {\n    id: 'todo2',\n    title: 'Engagement du notaire relative aux cédules hypothécaires',\n    description: '',\n    type: 'TODO',\n    status: 'ERROR',\n    error: 'Le notaire doit vous convier à un 2ème rendez-vous'\n  }]\n};\nvar fakeFiles = {\n  plans: [_fakeFile],\n  cubage: [_fakeFile],\n  pictures: [_fakeFile],\n  buyersContract: [_fakeFile],\n  landRegisterExtract: [_fakeFile],\n  coownershipAllocationAgreement: [_fakeFile],\n  coownershipAgreement: [_fakeFile],\n  upload0: [_fakeFile]\n};\nvar fakeFiles2 = {\n  plans: [_fakeFile],\n  cubage: [_fakeFile],\n  pictures: [_fakeFile] // buyersContract: [fakeFile],\n  // landRegisterExtract: [fakeFile],\n  // marketingBrochure: [fakeFile],\n  // coownershipAllocationAgreement: [fakeFile],\n  // coownershipAgreement: [fakeFile],\n\n};\n\nvar createFakeLoans = function createFakeLoans(userId) {\n  var completeFiles = Math.random() > 0.5;\n  var borrowerIds = createFakeBorrowers(userId);\n  var propertyId = createFakeProperty(userId);\n  var loan = {\n    name: \"Rue du Test \" + Math.floor(Math.random()),\n    borrowerIds: borrowerIds,\n    propertyId: propertyId,\n    general: fakeGeneral,\n    files: fakeFiles\n  };\n\n  switch (generateRandomNumber(_STEPS_PER_LOAN)) {\n    case 3:\n      loan.logic = logic3;\n      loan.files = completeFiles ? fakeFiles : fakeFiles2;\n      loan.loanTranches = [{\n        value: 750000,\n        type: 'interest10' // TODO add tranches here\n\n      }];\n      break;\n\n    case 2:\n      loan.logic = logic2;\n      break;\n\n    default:\n      loan.logic = logic1;\n  }\n\n  return LoanService.insert({\n    loan: loan,\n    userId: userId\n  });\n};\n\nmodule.exportDefault(createFakeLoans);","map":{"version":3,"sources":["imports/core/fixtures/loans.js"],"names":["moment","module","watch","require","default","v","LoanService","LOAN_STATUS","PURCHASE_TYPE","CANTONS","INTEREST_RATES","OWNER","AUCTION_STATUS","CLOSING_STEPS_TYPE","CLOSING_STEPS_STATUS","AUCTION_MOST_IMPORTANT","INSURANCE_USE_PRESET","LOAN_STRATEGY_PRESET","AMORTIZATION_STRATEGY_PRESET","PAYMENT_SCHEDULES","fakeFile","STEPS_PER_LOAN","createFakeBorrowers","createFakeProperty","purchaseTypes","Object","values","generateRandomNumber","Math","floor","random","maxSteps","fakeGeneral","purchaseType","length","fortuneUsed","insuranceFortuneUsed","wantedClosingDate","add","toDate","logic1","logic2","step","verification","requested","validated","comments","auction","logic3","status","startTime","Date","endTime","hasValidatedStructure","insuranceUsePreset","loanStrategyPreset","amortizationStrategyPreset","lender","closingSteps","id","title","type","description","error","fakeFiles","plans","cubage","pictures","buyersContract","landRegisterExtract","coownershipAllocationAgreement","coownershipAgreement","upload0","fakeFiles2","createFakeLoans","userId","completeFiles","borrowerIds","propertyId","loan","name","general","files","logic","loanTranches","value","insert","exportDefault"],"mappings":"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","file":"imports/core/fixtures/loans.js.map","sourcesContent":["import moment from 'moment';\nimport LoanService from 'core/api/loans/LoanService';\nimport {\n  LOAN_STATUS,\n  PURCHASE_TYPE,\n  CANTONS,\n  INTEREST_RATES,\n  OWNER,\n  AUCTION_STATUS,\n  CLOSING_STEPS_TYPE,\n  CLOSING_STEPS_STATUS,\n  AUCTION_MOST_IMPORTANT,\n  INSURANCE_USE_PRESET,\n  LOAN_STRATEGY_PRESET,\n  AMORTIZATION_STRATEGY_PRESET,\n  PAYMENT_SCHEDULES,\n} from 'core/api/loans/loanConstants';\nimport { fakeFile } from 'core/api/files/files';\nimport { STEPS_PER_LOAN } from './config';\nimport createFakeBorrowers from './borrowers';\nimport createFakeProperty from './properties';\n\nconst purchaseTypes = Object.values(PURCHASE_TYPE);\n\nconst generateRandomNumber = maxSteps =>\n  Math.floor(Math.random() * maxSteps + 1);\n\nconst fakeGeneral = {\n  purchaseType: purchaseTypes[Math.floor(Math.random() * purchaseTypes.length)],\n  fortuneUsed: 250000,\n  insuranceFortuneUsed: 100000,\n  wantedClosingDate: moment()\n    .add(15, 'd')\n    .toDate(),\n};\n\nconst logic1 = {};\n\nconst logic2 = {\n  step: 2,\n  verification: {\n    requested: false,\n    validated: true,\n    comments: [],\n  },\n  auction: {},\n};\n\nconst logic3 = {\n  step: 3,\n  verification: {\n    requested: false,\n    validated: true,\n    comments: [],\n  },\n  // auctionStarted: true,\n  auction: {\n    status: 'ENDED',\n    startTime: new Date(),\n    endTime: new Date(),\n  },\n  // auctionEndTime: new Date(),\n  hasValidatedStructure: true,\n  insuranceUsePreset: 'WITHDRAWAL',\n  loanStrategyPreset: 'FIXED',\n  amortizationStrategyPreset: 'INDIRECT',\n  lender: {},\n  closingSteps: [\n    { id: 'upload0', title: 'Contrat de prêt signé', type: 'UPLOAD' },\n    {\n      id: 'todo0',\n      title: 'Ouverture de compte chez votre prêteur',\n      description:\n        'Il faut ouvrir un compte bancaire chez votre prêteur où les fonds de votre hypothèque résideront.',\n      type: 'TODO',\n      status: 'VALID',\n    },\n    {\n      id: 'todo1',\n      title: 'Versement des fonds propres',\n      description:\n        'Vous devez aller chez le notaire et verser les fonds propres nécessaires sur un compte escrow.',\n      type: 'TODO',\n      status: 'UNVERIFIED',\n    },\n    {\n      id: 'todo2',\n      title: 'Engagement du notaire relative aux cédules hypothécaires',\n      description: '',\n      type: 'TODO',\n      status: 'ERROR',\n      error: 'Le notaire doit vous convier à un 2ème rendez-vous',\n    },\n  ],\n};\n\nconst fakeFiles = {\n  plans: [fakeFile],\n  cubage: [fakeFile],\n  pictures: [fakeFile],\n  buyersContract: [fakeFile],\n  landRegisterExtract: [fakeFile],\n  coownershipAllocationAgreement: [fakeFile],\n  coownershipAgreement: [fakeFile],\n  upload0: [fakeFile],\n};\n\nconst fakeFiles2 = {\n  plans: [fakeFile],\n  cubage: [fakeFile],\n  pictures: [fakeFile],\n  // buyersContract: [fakeFile],\n  // landRegisterExtract: [fakeFile],\n  // marketingBrochure: [fakeFile],\n  // coownershipAllocationAgreement: [fakeFile],\n  // coownershipAgreement: [fakeFile],\n};\n\nconst createFakeLoans = (userId) => {\n  const completeFiles = Math.random() > 0.5;\n  const borrowerIds = createFakeBorrowers(userId);\n  const propertyId = createFakeProperty(userId);\n  const loan = {\n    name: `Rue du Test ${Math.floor(Math.random())}`,\n    borrowerIds,\n    propertyId,\n    general: fakeGeneral,\n    files: fakeFiles,\n  };\n\n  switch (generateRandomNumber(STEPS_PER_LOAN)) {\n  case 3:\n    loan.logic = logic3;\n    loan.files = completeFiles ? fakeFiles : fakeFiles2;\n    loan.loanTranches = [\n      {\n        value: 750000,\n        type: 'interest10',\n        // TODO add tranches here\n      },\n    ];\n    break;\n  case 2:\n    loan.logic = logic2;\n    break;\n  default:\n    loan.logic = logic1;\n  }\n\n  return LoanService.insert({ loan, userId });\n};\n\nexport default createFakeLoans;\n"]},"hash":"1bc1a7dc5fa7882dc73b7af5efff11301284c240"}
