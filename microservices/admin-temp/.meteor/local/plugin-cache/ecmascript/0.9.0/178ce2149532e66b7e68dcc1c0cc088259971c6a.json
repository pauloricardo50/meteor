{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":["restrictLinks","parentNode","args","getLinks","node","args"],"specifiers":[{"kind":"local","local":"restrictLinks","exported":"default"},{"kind":"local","local":"parentNode","exported":"default"},{"kind":"local","local":"args","exported":"default"},{"kind":"local","local":"getLinks","exported":"getLinks"},{"kind":"local","local":"node","exported":"node"},{"kind":"local","local":"args","exported":"args"}]}}},"options":{"filename":"packages/cultofcoders:grapher/lib/exposure/lib/restrictLinks.js","filenameRelative":"packages/cultofcoders:grapher/lib/exposure/lib/restrictLinks.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"packages/cultofcoders:grapher/lib/exposure/lib/restrictLinks.js.map","sourceFileName":"packages/cultofcoders:grapher/lib/exposure/lib/restrictLinks.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"restrictLinks"},"ignored":false,"code":"module.export({\n    \"default\": function () {\n        return restrictLinks;\n    },\n    getLinks: function () {\n        return getLinks;\n    }\n});\n\nfunction restrictLinks(parentNode) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n    }\n\n    var restrictedLinks = getLinks.apply(undefined, [parentNode].concat(args));\n\n    if (!restrictedLinks || restrictedLinks.length) {\n        return;\n    }\n\n    _.each(parentNode.collectionNodes, function (collectionNode) {\n        if (_.contains(restrictedLinks, collectionNode.linkName)) {\n            parentNode.remove(collectionNode);\n        }\n    });\n}\n\nfunction getLinks(node) {\n    if (node.collection && node.collection.__exposure) {\n        var exposure = node.collection.__exposure;\n\n        if (exposure.config.restrictLinks) {\n            var configRestrictLinks = exposure.config.restrictLinks;\n\n            if (_.isArray(configRestrictLinks)) {\n                return configRestrictLinks;\n            }\n\n            for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n                args[_key2 - 1] = arguments[_key2];\n            }\n\n            return configRestrictLinks.apply(undefined, args);\n        }\n    }\n}","map":{"version":3,"sources":["packages/cultofcoders:grapher/lib/exposure/lib/restrictLinks.js"],"names":["module","export","restrictLinks","getLinks","parentNode","args","restrictedLinks","length","_","each","collectionNodes","contains","collectionNode","linkName","remove","node","collection","__exposure","exposure","config","configRestrictLinks","isArray"],"mappings":"AAAAA,OAAOC,MAAP,CAAc;AAAC,eAAQ;AAAA,eAAIC,aAAJ;AAAA,KAAT;AAA2BC,cAAS;AAAA,eAAIA,QAAJ;AAAA;AAApC,CAAd;;AAAe,SAASD,aAAT,CAAuBE,UAAvB,EAA4C;AAAA,sCAANC,IAAM;AAANA,YAAM;AAAA;;AACvD,QAAMC,kBAAkBH,2BAASC,UAAT,SAAwBC,IAAxB,EAAxB;;AAEA,QAAI,CAACC,eAAD,IAAoBA,gBAAgBC,MAAxC,EAAgD;AAC5C;AACH;;AAEDC,MAAEC,IAAF,CAAOL,WAAWM,eAAlB,EAAmC,0BAAkB;AACjD,YAAIF,EAAEG,QAAF,CAAWL,eAAX,EAA4BM,eAAeC,QAA3C,CAAJ,EAA0D;AACtDT,uBAAWU,MAAX,CAAkBF,cAAlB;AACH;AACJ,KAJD;AAKH;;AAEM,SAAST,QAAT,CAAkBY,IAAlB,EAAiC;AACpC,QAAIA,KAAKC,UAAL,IAAmBD,KAAKC,UAAL,CAAgBC,UAAvC,EAAmD;AAC/C,YAAMC,WAAWH,KAAKC,UAAL,CAAgBC,UAAjC;;AAEA,YAAIC,SAASC,MAAT,CAAgBjB,aAApB,EAAmC;AAC/B,gBAAMkB,sBAAsBF,SAASC,MAAT,CAAgBjB,aAA5C;;AAEA,gBAAIM,EAAEa,OAAF,CAAUD,mBAAV,CAAJ,EAAoC;AAChC,uBAAOA,mBAAP;AACH;;AAL8B,+CAJTf,IAIS;AAJTA,oBAIS;AAAA;;AAO/B,mBAAOe,qCAAuBf,IAAvB,CAAP;AACH;AACJ;AACJ","file":"packages/cultofcoders:grapher/lib/exposure/lib/restrictLinks.js.map","sourcesContent":["export default function restrictLinks(parentNode, ...args) {\n    const restrictedLinks = getLinks(parentNode, ...args);\n\n    if (!restrictedLinks || restrictedLinks.length) {\n        return;\n    }\n\n    _.each(parentNode.collectionNodes, collectionNode => {\n        if (_.contains(restrictedLinks, collectionNode.linkName)) {\n            parentNode.remove(collectionNode);\n        }\n    });\n}\n\nexport function getLinks(node, ...args) {\n    if (node.collection && node.collection.__exposure) {\n        const exposure = node.collection.__exposure;\n\n        if (exposure.config.restrictLinks) {\n            const configRestrictLinks = exposure.config.restrictLinks;\n\n            if (_.isArray(configRestrictLinks)) {\n                return configRestrictLinks;\n            }\n\n            return configRestrictLinks(...args);\n        }\n    }\n}"]},"hash":"178ce2149532e66b7e68dcc1c0cc088259971c6a"}
