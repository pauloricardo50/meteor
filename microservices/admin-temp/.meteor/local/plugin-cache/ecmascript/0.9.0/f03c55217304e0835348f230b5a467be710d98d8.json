{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","createClass","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"React"}]},{"source":"prop-types","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PropTypes"}]},{"source":"material-ui/styles","imported":["withStyles"],"specifiers":[{"kind":"named","imported":"withStyles","local":"withStyles"}]},{"source":"../../../core/components/TextInput","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"TextInput"}]},{"source":"../../../core/components/Button","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Button"}]},{"source":"../../../core/components/Icon","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Icon"}]},{"source":"../../../core/api","imported":["callMutation","mutations"],"specifiers":[{"kind":"named","imported":"callMutation","local":"callMutation"},{"kind":"named","imported":"mutations","local":"mutations"}]},{"source":"../../../core/components/Translation","imported":["T"],"specifiers":[{"kind":"named","imported":"T","local":"T"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/ui/components/AdminNote/AdminNotes2.jsx","filenameRelative":"imports/ui/components/AdminNote/AdminNotes2.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/ui/components/AdminNote/AdminNotes2.jsx.map","sourceFileName":"imports/ui/components/AdminNote/AdminNotes2.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"AdminNotes2"},"ignored":false,"code":"\"use strict\";\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar React = void 0;\nmodule.watch(require(\"react\"), {\n  default: function _default(v) {\n    React = v;\n  }\n}, 0);\nvar PropTypes = void 0;\nmodule.watch(require(\"prop-types\"), {\n  default: function _default(v) {\n    PropTypes = v;\n  }\n}, 1);\n\nvar _withStyles = void 0;\n\nmodule.watch(require(\"material-ui/styles\"), {\n  withStyles: function withStyles(v) {\n    _withStyles = v;\n  }\n}, 2);\nvar TextInput = void 0;\nmodule.watch(require(\"../../../core/components/TextInput\"), {\n  default: function _default(v) {\n    TextInput = v;\n  }\n}, 3);\nvar Button = void 0;\nmodule.watch(require(\"../../../core/components/Button\"), {\n  default: function _default(v) {\n    Button = v;\n  }\n}, 4);\nvar Icon = void 0;\nmodule.watch(require(\"../../../core/components/Icon\"), {\n  default: function _default(v) {\n    Icon = v;\n  }\n}, 5);\n\nvar _callMutation = void 0,\n    _mutations = void 0;\n\nmodule.watch(require(\"../../../core/api\"), {\n  callMutation: function callMutation(v) {\n    _callMutation = v;\n  },\n  mutations: function mutations(v) {\n    _mutations = v;\n  }\n}, 6);\n\nvar _T = void 0;\n\nmodule.watch(require(\"../../../core/components/Translation\"), {\n  T: function T(v) {\n    _T = v;\n  }\n}, 7);\nvar styles = {\n  container: {\n    width: '100%',\n    flexWrap: 'wrap',\n    justifyContent: 'space-around'\n  },\n  textField: {\n    paddingBottom: 20\n  },\n  button: {\n    marginLeft: 0\n  }\n};\n\nvar AdminNotes = function (_React$Component) {\n  (0, _inherits3.default)(AdminNotes, _React$Component);\n\n  function AdminNotes() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, AdminNotes);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = AdminNotes.__proto__ || Object.getPrototypeOf(AdminNotes)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      textFieldText: _this.props.adminNoteText,\n      showButton: false\n    }, _this.handleChange = function () {\n      return function (id, value, event) {\n        console.log(value);\n\n        _this.setState({\n          textFieldText: value,\n          showButton: true\n        });\n      };\n    }, _this.saveAdminNote = function (_ref2) {\n      var loanId = _ref2.loanId,\n          adminNoteText = _ref2.adminNoteText,\n          textFieldText = _ref2.textFieldText;\n      return function () {\n        if (textFieldText !== adminNoteText) {\n          console.log('saving');\n\n          _callMutation(_mutations.LOAN_CHANGE_ADMIN_NOTE, {\n            loanId: loanId,\n            adminNote: textFieldText\n          }).then(function () {\n            return _this.setState({\n              showButton: false\n            });\n          });\n        }\n      };\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(AdminNotes, [{\n    key: \"render\",\n    value: function render() {\n      var _props = this.props,\n          loanId = _props.loanId,\n          adminNoteText = _props.adminNoteText;\n      var _state = this.state,\n          showButton = _state.showButton,\n          textFieldText = _state.textFieldText;\n      return React.createElement(\n        \"div\",\n        {\n          className: \"flex\",\n          style: styles.container\n        },\n        React.createElement(TextInput, {\n          id: \"adminNote\",\n          label: React.createElement(_T, {\n            id: \"AdminNote.adminNotes\"\n          }),\n          fullWidth: true,\n          multiline: true,\n          value: this.state.textFieldText,\n          onChange: this.handleChange(),\n          placeholder: \"AdminNote.addNote\"\n        }),\n        showButton && React.createElement(\n          Button,\n          {\n            variant: \"raised\",\n            size: \"small\",\n            onClick: this.saveAdminNote({\n              loanId: loanId,\n              adminNoteText: adminNoteText,\n              textFieldText: textFieldText\n            }),\n            style: styles.button\n          },\n          React.createElement(Icon, {\n            className: \"leftIcon iconSmall\",\n            type: \"phone\",\n            style: styles.icon\n          })\n        ),\n        React.createElement(\"br\", null),\n        React.createElement(\"br\", null)\n      );\n    }\n  }]);\n  return AdminNotes;\n}(React.Component);\n\nAdminNotes.propTypes = {\n  adminNoteText: PropTypes.string.isRequired,\n  loanId: PropTypes.string.isRequired\n};\nmodule.exportDefault(AdminNotes);","map":{"version":3,"sources":["imports/ui/components/AdminNote/AdminNotes2.jsx"],"names":["React","module","watch","require","default","v","PropTypes","withStyles","TextInput","Button","Icon","callMutation","mutations","T","styles","container","width","flexWrap","justifyContent","textField","paddingBottom","button","marginLeft","AdminNotes","state","textFieldText","props","adminNoteText","showButton","handleChange","id","value","event","console","log","setState","saveAdminNote","loanId","LOAN_CHANGE_ADMIN_NOTE","adminNote","then","icon","Component","propTypes","string","isRequired","exportDefault"],"mappings":"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","file":"imports/ui/components/AdminNote/AdminNotes2.jsx.map","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from 'material-ui/styles';\nimport TextInput from 'core/components/TextInput';\nimport Button from 'core/components/Button';\n// import IconButton from 'core/components/IconButton';\nimport Icon from 'core/components/Icon';\nimport { callMutation, mutations } from 'core/api';\nimport { T } from 'core/components/Translation/';\n\nconst styles = {\n  container: {\n    width: '100%',\n    flexWrap: 'wrap',\n    justifyContent: 'space-around',\n  },\n  textField: {\n    paddingBottom: 20,\n  },\n  button: {\n    marginLeft: 0,\n  },\n};\n\nclass AdminNotes extends React.Component {\n  state = {\n    textFieldText: this.props.adminNoteText,\n    showButton: false,\n  };\n\n  handleChange = () => (id, value, event) => {\n    console.log(value);\n    this.setState({\n      textFieldText: value,\n      showButton: true,\n    });\n  };\n\n  saveAdminNote = ({ loanId, adminNoteText, textFieldText }) => () => {\n    if (textFieldText !== adminNoteText) {\n      console.log('saving');\n      callMutation(mutations.LOAN_CHANGE_ADMIN_NOTE, {\n        loanId,\n        adminNote: textFieldText,\n      }).then(() => this.setState({ showButton: false }));\n    }\n  };\n\n  render() {\n    const { loanId, adminNoteText } = this.props;\n    const { showButton, textFieldText } = this.state;\n\n    return (\n      <div className=\"flex\" style={styles.container}>\n        <TextInput\n          id=\"adminNote\"\n          label={<T id=\"AdminNote.adminNotes\" />}\n          fullWidth\n          multiline\n          value={this.state.textFieldText}\n          onChange={this.handleChange()}\n          placeholder=\"AdminNote.addNote\"\n        />\n\n        {showButton && (\n          <Button\n            variant=\"raised\"\n            size=\"small\"\n            onClick={this.saveAdminNote({\n              loanId,\n              adminNoteText,\n              textFieldText,\n            })}\n            style={styles.button}\n          >\n            <Icon className=\"leftIcon iconSmall\" type=\"phone\" style={styles.icon} />\n          </Button>\n        )}\n\n        <br />\n        <br />\n      </div>\n    );\n  }\n}\n\nAdminNotes.propTypes = {\n  adminNoteText: PropTypes.string.isRequired,\n  loanId: PropTypes.string.isRequired,\n};\n\nexport default AdminNotes;\n"]},"hash":"f03c55217304e0835348f230b5a467be710d98d8"}
