{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","createClass","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"prop-types","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PropTypes"}]},{"source":"react","imported":["default","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"../../core/components/Table","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Table"}]},{"source":"moment","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"moment"}]},{"source":"../../core/components/Translation","imported":["IntlNumber"],"specifiers":[{"kind":"named","imported":"IntlNumber","local":"IntlNumber"}]}],"exports":{"exported":["AllLoansTable"],"specifiers":[{"kind":"local","local":"AllLoansTable","exported":"default"}]}}},"options":{"filename":"imports/ui/components/AllLoansTable.jsx","filenameRelative":"imports/ui/components/AllLoansTable.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/ui/components/AllLoansTable.jsx.map","sourceFileName":"imports/ui/components/AllLoansTable.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"AllLoansTable"},"ignored":false,"code":"\"use strict\";\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nmodule.export({\n  \"default\": function () {\n    function _default() {\n      return AllLoansTable;\n    }\n\n    return _default;\n  }()\n});\nvar PropTypes = void 0;\nmodule.watch(require(\"prop-types\"), {\n  \"default\": function () {\n    function _default(v) {\n      PropTypes = v;\n    }\n\n    return _default;\n  }()\n}, 0);\n\nvar React = void 0,\n    _Component = void 0;\n\nmodule.watch(require(\"react\"), {\n  \"default\": function () {\n    function _default(v) {\n      React = v;\n    }\n\n    return _default;\n  }(),\n  Component: function () {\n    function Component(v) {\n      _Component = v;\n    }\n\n    return Component;\n  }()\n}, 1);\nvar Table = void 0;\nmodule.watch(require(\"../../core/components/Table\"), {\n  \"default\": function () {\n    function _default(v) {\n      Table = v;\n    }\n\n    return _default;\n  }()\n}, 2);\nvar moment = void 0;\nmodule.watch(require(\"moment\"), {\n  \"default\": function () {\n    function _default(v) {\n      moment = v;\n    }\n\n    return _default;\n  }()\n}, 3);\n\nvar _IntlNumber = void 0;\n\nmodule.watch(require(\"../../core/components/Translation\"), {\n  IntlNumber: function () {\n    function IntlNumber(v) {\n      _IntlNumber = v;\n    }\n\n    return IntlNumber;\n  }()\n}, 4);\nvar columnOptions = [{\n  id: '#' // style: { width: 32, textAlign: 'left' },\n\n}, {\n  id: 'Nom' // style: { width: 40, textAlign: 'left' },\n\n}, {\n  id: 'Créé le' // style: { width: 40, textAlign: 'left' },\n\n}, {\n  id: 'Updaté le' // style: { width: 40, textAlign: 'left' },\n\n}, {\n  id: 'Étape',\n  // style: { width: 40, textAlign: 'left' },\n  numeric: true\n}, {\n  id: 'Valeur du bien',\n  // style: { width: 40, textAlign: 'left' },\n  format: function () {\n    function format(value) {\n      return React.createElement(_IntlNumber, {\n        value: value,\n        format: \"money\"\n      });\n    }\n\n    return format;\n  }(),\n  numeric: true\n}, {\n  id: 'Fortune totale',\n  // style: { width: 40, textAlign: 'left' },\n  format: function () {\n    function format(value) {\n      return React.createElement(_IntlNumber, {\n        value: value,\n        format: \"money\"\n      });\n    }\n\n    return format;\n  }(),\n  numeric: true\n}, {\n  id: 'Qualité' // style: { width: 40, textAlign: 'left' },\n\n}];\n\nvar AllLoansTable = function (_Component2) {\n  (0, _inherits3.default)(AllLoansTable, _Component2);\n\n  function AllLoansTable(props) {\n    (0, _classCallCheck3.default)(this, AllLoansTable);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (AllLoansTable.__proto__ || Object.getPrototypeOf(AllLoansTable)).call(this, props));\n\n    _this.setupRows = function () {\n      var _this$props = _this.props,\n          loans = _this$props.loans,\n          properties = _this$props.properties,\n          history = _this$props.history;\n      _this.rows = loans.map(function (loan, index) {\n        var propertyValue = properties.find(function (property) {\n          return property._id === loan.propertyId;\n        }).value;\n        return {\n          id: loan._id,\n          columns: [index + 1, loan.name, moment(loan.createdAt).format('D MMM YY à HH:mm:ss'), moment(loan.updatedAt).format('D MMM YY à HH:mm:ss'), loan.logic.step + 1, propertyValue, loan.general.fortuneUsed + (loan.general.insuranceFortuneUsed || 0), 'Très Bon'],\n          handleClick: function () {\n            function handleClick() {\n              return history.push(\"/loans/\" + loan._id);\n            }\n\n            return handleClick;\n          }()\n        };\n      });\n    };\n\n    _this.setupRows();\n\n    return _this;\n  }\n\n  (0, _createClass3.default)(AllLoansTable, [{\n    key: \"render\",\n    value: function () {\n      function render() {\n        return React.createElement(Table, {\n          columnOptions: columnOptions,\n          rows: this.rows,\n          noIntl: true,\n          clickable: true\n        });\n      }\n\n      return render;\n    }()\n  }]);\n  return AllLoansTable;\n}(_Component);\n\nAllLoansTable.propTypes = {\n  loans: PropTypes.arrayOf(PropTypes.any).isRequired,\n  history: PropTypes.objectOf(PropTypes.any).isRequired\n};","map":{"version":3,"sources":["imports/ui/components/AllLoansTable.jsx"],"names":["module","export","AllLoansTable","PropTypes","watch","require","v","React","Component","Table","moment","IntlNumber","columnOptions","id","numeric","format","value","props","setupRows","loans","properties","history","rows","map","loan","index","propertyValue","find","property","_id","propertyId","columns","name","createdAt","updatedAt","logic","step","general","fortuneUsed","insuranceFortuneUsed","handleClick","push","propTypes","arrayOf","any","isRequired","objectOf"],"mappings":"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","file":"imports/ui/components/AllLoansTable.jsx.map","sourcesContent":["import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\n\nimport Table from 'core/components/Table';\nimport moment from 'moment';\n\nimport { IntlNumber } from 'core/components/Translation';\n\nconst columnOptions = [\n  {\n    id: '#',\n    // style: { width: 32, textAlign: 'left' },\n  },\n  {\n    id: 'Nom',\n    // style: { width: 40, textAlign: 'left' },\n  },\n  {\n    id: 'Créé le',\n    // style: { width: 40, textAlign: 'left' },\n  },\n  {\n    id: 'Updaté le',\n    // style: { width: 40, textAlign: 'left' },\n  },\n  {\n    id: 'Étape',\n    // style: { width: 40, textAlign: 'left' },\n    numeric: true,\n  },\n  {\n    id: 'Valeur du bien',\n    // style: { width: 40, textAlign: 'left' },\n    format: value => <IntlNumber value={value} format=\"money\" />,\n    numeric: true,\n  },\n  {\n    id: 'Fortune totale',\n    // style: { width: 40, textAlign: 'left' },\n    format: value => <IntlNumber value={value} format=\"money\" />,\n    numeric: true,\n  },\n  {\n    id: 'Qualité',\n    // style: { width: 40, textAlign: 'left' },\n  },\n];\n\nexport default class AllLoansTable extends Component {\n  constructor(props) {\n    super(props);\n\n    this.setupRows();\n  }\n\n  setupRows = () => {\n    const { loans, properties, history } = this.props;\n    this.rows = loans.map((loan, index) => {\n      const propertyValue = properties.find(property => property._id === loan.propertyId).value;\n      return {\n        id: loan._id,\n        columns: [\n          index + 1,\n          loan.name,\n          moment(loan.createdAt).format('D MMM YY à HH:mm:ss'),\n          moment(loan.updatedAt).format('D MMM YY à HH:mm:ss'),\n          loan.logic.step + 1,\n          propertyValue,\n          loan.general.fortuneUsed + (loan.general.insuranceFortuneUsed || 0),\n          'Très Bon',\n        ],\n        handleClick: () => history.push(`/loans/${loan._id}`),\n      };\n    });\n  };\n\n  render() {\n    return (\n      <Table columnOptions={columnOptions} rows={this.rows} noIntl clickable />\n    );\n  }\n}\n\nAllLoansTable.propTypes = {\n  loans: PropTypes.arrayOf(PropTypes.any).isRequired,\n  history: PropTypes.objectOf(PropTypes.any).isRequired,\n};\n"]},"hash":"665e9816aaaac021dea96850ac0844bd79d7cffa"}
