{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"meteor/meteor","imported":["Meteor"],"specifiers":[{"kind":"named","imported":"Meteor","local":"Meteor"}]},{"source":"../../api","imported":["Loans","Offers","Borrowers","Properties","Comparators"],"specifiers":[{"kind":"named","imported":"Loans","local":"Loans"},{"kind":"named","imported":"Offers","local":"Offers"},{"kind":"named","imported":"Borrowers","local":"Borrowers"},{"kind":"named","imported":"Properties","local":"Properties"},{"kind":"named","imported":"Comparators","local":"Comparators"}]}],"exports":{"exported":["userCompareComposer","props","onData","userLoansComposer","props","onData","userBorrowersComposer","props","onData","userOffersComposer","props","onData","userPropertiesComposer","props","onData","userLoanComposer","props","onData","userBorrowerComposer","props","onData"],"specifiers":[{"kind":"local","local":"userCompareComposer","exported":"userCompareComposer"},{"kind":"local","local":"props","exported":"props"},{"kind":"local","local":"onData","exported":"onData"},{"kind":"local","local":"userLoansComposer","exported":"userLoansComposer"},{"kind":"local","local":"props","exported":"props"},{"kind":"local","local":"onData","exported":"onData"},{"kind":"local","local":"userBorrowersComposer","exported":"userBorrowersComposer"},{"kind":"local","local":"props","exported":"props"},{"kind":"local","local":"onData","exported":"onData"},{"kind":"local","local":"userOffersComposer","exported":"userOffersComposer"},{"kind":"local","local":"props","exported":"props"},{"kind":"local","local":"onData","exported":"onData"},{"kind":"local","local":"userPropertiesComposer","exported":"userPropertiesComposer"},{"kind":"local","local":"props","exported":"props"},{"kind":"local","local":"onData","exported":"onData"},{"kind":"local","local":"userLoanComposer","exported":"userLoanComposer"},{"kind":"local","local":"props","exported":"props"},{"kind":"local","local":"onData","exported":"onData"},{"kind":"local","local":"userBorrowerComposer","exported":"userBorrowerComposer"},{"kind":"local","local":"props","exported":"props"},{"kind":"local","local":"onData","exported":"onData"}]}}},"options":{"filename":"imports/core/containers/composers/UserComposers.js","filenameRelative":"imports/core/containers/composers/UserComposers.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/containers/composers/UserComposers.js.map","sourceFileName":"imports/core/containers/composers/UserComposers.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"UserComposers"},"ignored":false,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nmodule.export({\n  userCompareComposer: function () {\n    function userCompareComposer() {\n      return _userCompareComposer;\n    }\n\n    return userCompareComposer;\n  }(),\n  userLoansComposer: function () {\n    function userLoansComposer() {\n      return _userLoansComposer;\n    }\n\n    return userLoansComposer;\n  }(),\n  userBorrowersComposer: function () {\n    function userBorrowersComposer() {\n      return _userBorrowersComposer;\n    }\n\n    return userBorrowersComposer;\n  }(),\n  userOffersComposer: function () {\n    function userOffersComposer() {\n      return _userOffersComposer;\n    }\n\n    return userOffersComposer;\n  }(),\n  userPropertiesComposer: function () {\n    function userPropertiesComposer() {\n      return _userPropertiesComposer;\n    }\n\n    return userPropertiesComposer;\n  }(),\n  userLoanComposer: function () {\n    function userLoanComposer() {\n      return _userLoanComposer;\n    }\n\n    return userLoanComposer;\n  }(),\n  userBorrowerComposer: function () {\n    function userBorrowerComposer() {\n      return _userBorrowerComposer;\n    }\n\n    return userBorrowerComposer;\n  }()\n});\n\nvar _Meteor = void 0;\n\nmodule.watch(require(\"meteor/meteor\"), {\n  Meteor: function () {\n    function Meteor(v) {\n      _Meteor = v;\n    }\n\n    return Meteor;\n  }()\n}, 0);\nexports.userCompareComposer = _userCompareComposer;\n\nvar _Loans = void 0,\n    _Offers = void 0,\n    _Borrowers = void 0,\n    _Properties = void 0,\n    _Comparators = void 0;\n\nexports.userLoansComposer = _userLoansComposer;\nmodule.watch(require(\"../../api\"), {\n  Loans: function () {\n    function Loans(v) {\n      _Loans = v;\n    }\n\n    return Loans;\n  }(),\n  Offers: function () {\n    function Offers(v) {\n      _Offers = v;\n    }\n\n    return Offers;\n  }(),\n  Borrowers: function () {\n    function Borrowers(v) {\n      _Borrowers = v;\n    }\n\n    return Borrowers;\n  }(),\n  Properties: function () {\n    function Properties(v) {\n      _Properties = v;\n    }\n\n    return Properties;\n  }(),\n  Comparators: function () {\n    function Comparators(v) {\n      _Comparators = v;\n    }\n\n    return Comparators;\n  }()\n}, 1);\nexports.userBorrowersComposer = _userBorrowersComposer;\n\nfunction _userCompareComposer(props, onData) {\n  if (_Meteor.subscribe('properties').ready() && _Meteor.subscribe('userComparators').ready()) {\n    var properties = _Properties.find({}, {\n      sort: {\n        createdAt: -1\n      }\n    }).fetch();\n\n    var comparators = _Comparators.find({}).fetch();\n\n    onData(null, {\n      properties: properties,\n      comparator: comparators[0] || undefined\n    });\n  }\n} // Get all loans for this user\n\n\nexports.userOffersComposer = _userOffersComposer;\n\nfunction _userLoansComposer(props, onData) {\n  if (_Meteor.subscribe('loans').ready()) {\n    var loans = _Loans.find({}).fetch();\n\n    onData(null, {\n      loans: loans\n    });\n  }\n} // Get all borrowers for this user\n\n\nexports.userPropertiesComposer = _userPropertiesComposer;\n\nfunction _userBorrowersComposer(props, onData) {\n  if (_Meteor.subscribe('borrowers').ready()) {\n    var borrowers = _Borrowers.find({}).fetch();\n\n    onData(null, {\n      borrowers: borrowers\n    });\n  }\n} // Get all offers for this user\n\n\nexports.userLoanComposer = _userLoanComposer;\n\nfunction _userOffersComposer(props, onData) {\n  if (_Meteor.subscribe('userOffers').ready()) {\n    var offers = _Offers.find({}).fetch();\n\n    onData(null, {\n      offers: offers\n    });\n  }\n} // Get all properties for this user\n\n\nexports.userBorrowerComposer = _userBorrowerComposer;\n\nfunction _userPropertiesComposer(props, onData) {\n  if (_Meteor.subscribe('properties').ready()) {\n    var properties = _Properties.find({}).fetch();\n\n    onData(null, {\n      properties: properties\n    });\n  }\n} // Get a specific loan for this user\n\n\nfunction _userLoanComposer(props, onData) {\n  if (_Meteor.subscribe('loans').ready() && _Meteor.subscribe('borrowers').ready() && _Meteor.subscribe('userOffers').ready()) {\n    var loanId = props.match.params.loanId;\n\n    var loan = _Loans.find({\n      _id: loanId\n    }).fetch()[0];\n\n    var borrowers = _Borrowers.find({\n      _id: {\n        $in: loan.borrowerIds\n      }\n    }).fetch();\n\n    var offers = _Offers.find({\n      loanId: loanId\n    }).fetch();\n\n    onData(null, {\n      loan: loan,\n      borrowers: borrowers,\n      offers: offers\n    });\n  }\n} // Get a specific borrower for this user\n\n\nfunction _userBorrowerComposer(props, onData) {\n  var borrowerId = props.match.params.borrowerId;\n\n  if (_Meteor.subscribe('borrower', borrowerId).ready()) {\n    var borrower = _Borrowers.findOne(borrowerId);\n\n    onData(null, {\n      borrower: borrower\n    });\n  }\n}","map":{"version":3,"sources":["imports/core/containers/composers/UserComposers.js"],"names":["module","export","userCompareComposer","userLoansComposer","userBorrowersComposer","userOffersComposer","userPropertiesComposer","userLoanComposer","userBorrowerComposer","Meteor","watch","require","v","Loans","Offers","Borrowers","Properties","Comparators","props","onData","subscribe","ready","properties","find","sort","createdAt","fetch","comparators","comparator","undefined","loans","borrowers","offers","loanId","match","params","loan","_id","$in","borrowerIds","borrowerId","borrower","findOne"],"mappings":"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","file":"imports/core/containers/composers/UserComposers.js.map","sourcesContent":["import { Meteor } from 'meteor/meteor';\n\nimport { Loans, Offers, Borrowers, Properties, Comparators } from '../../api';\n\nexport function userCompareComposer(props, onData) {\n  if (\n    Meteor.subscribe('properties').ready() &&\n    Meteor.subscribe('userComparators').ready()\n  ) {\n    const properties = Properties.find({}, { sort: { createdAt: -1 } }).fetch();\n    const comparators = Comparators.find({}).fetch();\n    onData(null, { properties, comparator: comparators[0] || undefined });\n  }\n}\n\n// Get all loans for this user\nexport function userLoansComposer(props, onData) {\n  if (Meteor.subscribe('loans').ready()) {\n    const loans = Loans.find({}).fetch();\n    onData(null, { loans });\n  }\n}\n\n// Get all borrowers for this user\nexport function userBorrowersComposer(props, onData) {\n  if (Meteor.subscribe('borrowers').ready()) {\n    const borrowers = Borrowers.find({}).fetch();\n    onData(null, { borrowers });\n  }\n}\n\n// Get all offers for this user\nexport function userOffersComposer(props, onData) {\n  if (Meteor.subscribe('userOffers').ready()) {\n    const offers = Offers.find({}).fetch();\n    onData(null, { offers });\n  }\n}\n\n// Get all properties for this user\nexport function userPropertiesComposer(props, onData) {\n  if (Meteor.subscribe('properties').ready()) {\n    const properties = Properties.find({}).fetch();\n    onData(null, { properties });\n  }\n}\n\n// Get a specific loan for this user\nexport function userLoanComposer(props, onData) {\n  if (\n    Meteor.subscribe('loans').ready() &&\n    Meteor.subscribe('borrowers').ready() &&\n    Meteor.subscribe('userOffers').ready()\n  ) {\n    const loanId = props.match.params.loanId;\n    const loan = Loans.find({ _id: loanId }).fetch()[0];\n    const borrowers = Borrowers.find({\n      _id: { $in: loan.borrowerIds },\n    }).fetch();\n    const offers = Offers.find({ loanId }).fetch();\n    onData(null, { loan, borrowers, offers });\n  }\n}\n\n// Get a specific borrower for this user\nexport function userBorrowerComposer(props, onData) {\n  const borrowerId = props.match.params.borrowerId;\n  if (Meteor.subscribe('borrower', borrowerId).ready()) {\n    const borrower = Borrowers.findOne(borrowerId);\n    onData(null, { borrower });\n  }\n}\n"]},"hash":"a7af356fba560fae3d9268b0514c6dfdb38ec47d"}
