{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","createClass","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"React"}]},{"source":"prop-types","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PropTypes"}]},{"source":"material-ui/styles","imported":["withStyles"],"specifiers":[{"kind":"named","imported":"withStyles","local":"withStyles"}]},{"source":"material-ui/TextField","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"TextField"}]},{"source":"material-ui/Button","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Button"}]},{"source":"material-ui-icons/Save","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Save"}]},{"source":"../../../core/api","imported":["callMutation","mutations"],"specifiers":[{"kind":"named","imported":"callMutation","local":"callMutation"},{"kind":"named","imported":"mutations","local":"mutations"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/ui/components/AdminNote/AdminNote.jsx","filenameRelative":"imports/ui/components/AdminNote/AdminNote.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/ui/components/AdminNote/AdminNote.jsx.map","sourceFileName":"imports/ui/components/AdminNote/AdminNote.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"AdminNote"},"ignored":false,"code":"\"use strict\";\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React = void 0;\nmodule.watch(require(\"react\"), {\n  \"default\": function () {\n    function _default(v) {\n      React = v;\n    }\n\n    return _default;\n  }()\n}, 0);\nvar PropTypes = void 0;\nmodule.watch(require(\"prop-types\"), {\n  \"default\": function () {\n    function _default(v) {\n      PropTypes = v;\n    }\n\n    return _default;\n  }()\n}, 1);\n\nvar _withStyles = void 0;\n\nmodule.watch(require(\"material-ui/styles\"), {\n  withStyles: function () {\n    function withStyles(v) {\n      _withStyles = v;\n    }\n\n    return withStyles;\n  }()\n}, 2);\nvar TextField = void 0;\nmodule.watch(require(\"material-ui/TextField\"), {\n  \"default\": function () {\n    function _default(v) {\n      TextField = v;\n    }\n\n    return _default;\n  }()\n}, 3);\nvar Button = void 0;\nmodule.watch(require(\"material-ui/Button\"), {\n  \"default\": function () {\n    function _default(v) {\n      Button = v;\n    }\n\n    return _default;\n  }()\n}, 4);\nvar Save = void 0;\nmodule.watch(require(\"material-ui-icons/Save\"), {\n  \"default\": function () {\n    function _default(v) {\n      Save = v;\n    }\n\n    return _default;\n  }()\n}, 5);\n\nvar _callMutation = void 0,\n    _mutations = void 0;\n\nmodule.watch(require(\"../../../core/api\"), {\n  callMutation: function () {\n    function callMutation(v) {\n      _callMutation = v;\n    }\n\n    return callMutation;\n  }(),\n  mutations: function () {\n    function mutations(v) {\n      _mutations = v;\n    }\n\n    return mutations;\n  }()\n}, 6);\nvar styles = {\n  container: {\n    width: '100%',\n    flexWrap: 'wrap',\n    justifyContent: 'space-around'\n  },\n  textField: {\n    flex: 1\n  },\n  button: {\n    display: 'block'\n  }\n};\n\nvar AdminNotes = function (_React$Component) {\n  (0, _inherits3.default)(AdminNotes, _React$Component);\n\n  function AdminNotes() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, AdminNotes);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = AdminNotes.__proto__ || Object.getPrototypeOf(AdminNotes)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      textFieldText: _this.props.adminNoteText,\n      showButton: false\n    }, _this.handleChange = function () {\n      return function (event) {\n        _this.setState({\n          textFieldText: event.target.value,\n          showButton: true\n        });\n      };\n    }, _this.saveAdminNote = function () {\n      return function (_ref2) {\n        var loanId = _ref2.loanId,\n            adminNoteText = _ref2.adminNoteText,\n            textFieldText = _ref2.textFieldText;\n\n        if (textFieldText !== adminNoteText) {\n          _callMutation(_mutations.LOAN_CHANGE_ADMIN_NOTE, {\n            loanId: loanId,\n            adminNote: textFieldText\n          }).then(_this.setState({\n            showButton: false\n          }));\n        }\n      };\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(AdminNotes, [{\n    key: \"render\",\n    value: function () {\n      function render() {\n        var _props = this.props,\n            adminNoteText = _props.adminNoteText,\n            loanId = _props.loanId;\n        var _state = this.state,\n            showButton = _state.showButton,\n            textFieldText = _state.textFieldText;\n        return React.createElement(\n          \"div\",\n          {\n            className: \"flex\",\n            style: styles.container\n          },\n          React.createElement(TextField, {\n            label: \"Admin Notes\",\n            multiline: true,\n            rowsMax: \"4\",\n            value: this.state.text,\n            onChange: this.handleChange(),\n            margin: \"normal\",\n            placeholder: \"Ajouter une note\",\n            style: styles.textField\n          }),\n          React.createElement(\"br\", null),\n          React.createElement(\"br\", null),\n          showButton && React.createElement(\n            Button,\n            {\n              variant: \"raised\",\n              size: \"small\",\n              onClick: this.saveAdminNote({\n                loanId: loanId,\n                adminNoteText: adminNoteText,\n                textFieldText: textFieldText\n              }),\n              style: styles.button\n            },\n            React.createElement(Save, {\n              className: \"leftIcon iconSmall\"\n            }),\n            \"Save\"\n          )\n        );\n      }\n\n      return render;\n    }()\n  }]);\n  return AdminNotes;\n}(React.Component);\n\nAdminNotes.propTypes = {\n  adminNoteText: PropTypes.string.isRequired,\n  loanId: PropTypes.string.isRequired\n};\nmodule.exportDefault(AdminNotes);","map":{"version":3,"sources":["imports/ui/components/AdminNote/AdminNote.jsx"],"names":["React","module","watch","require","v","PropTypes","withStyles","TextField","Button","Save","callMutation","mutations","styles","container","width","flexWrap","justifyContent","textField","flex","button","display","AdminNotes","state","textFieldText","props","adminNoteText","showButton","handleChange","event","setState","target","value","saveAdminNote","loanId","LOAN_CHANGE_ADMIN_NOTE","adminNote","then","text","Component","propTypes","string","isRequired","exportDefault"],"mappings":"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","file":"imports/ui/components/AdminNote/AdminNote.jsx.map","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from 'material-ui/styles';\nimport TextField from 'material-ui/TextField';\nimport Button from 'material-ui/Button';\nimport Save from 'material-ui-icons/Save';\nimport { callMutation, mutations } from 'core/api';\n\nconst styles = {\n  container: {\n    width: '100%',\n    flexWrap: 'wrap',\n    justifyContent: 'space-around',\n  },\n  textField: {\n    flex: 1,\n  },\n  button: {\n    display: 'block',\n  },\n};\n\nclass AdminNotes extends React.Component {\n  state = {\n    textFieldText: this.props.adminNoteText,\n    showButton: false,\n  };\n\n  handleChange = () => (event) => {\n    this.setState({\n      textFieldText: event.target.value,\n      showButton: true,\n    });\n  };\n\n  saveAdminNote = () => ({ loanId, adminNoteText, textFieldText }) => {\n    if (textFieldText !== adminNoteText) {\n      callMutation(mutations.LOAN_CHANGE_ADMIN_NOTE, {\n        loanId,\n        adminNote: textFieldText,\n      }).then(this.setState({ showButton: false }));\n    }\n  };\n\n  render() {\n    const { adminNoteText, loanId } = this.props;\n    const { showButton, textFieldText } = this.state;\n\n    return (\n      <div className=\"flex\" style={styles.container}>\n        <TextField\n          label=\"Admin Notes\"\n          multiline\n          rowsMax=\"4\"\n          value={this.state.text}\n          onChange={this.handleChange()}\n          margin=\"normal\"\n          placeholder=\"Ajouter une note\"\n          style={styles.textField}\n        />\n\n        <br />\n        <br />\n\n        {showButton && (\n          <Button\n            variant=\"raised\"\n            size=\"small\"\n            onClick={this.saveAdminNote({\n              loanId,\n              adminNoteText,\n              textFieldText,\n            })}\n            style={styles.button}\n          >\n            <Save className=\"leftIcon iconSmall\" />\n            Save\n          </Button>\n        )}\n      </div>\n    );\n  }\n}\n\nAdminNotes.propTypes = {\n  adminNoteText: PropTypes.string.isRequired,\n  loanId: PropTypes.string.isRequired,\n};\n\nexport default AdminNotes;\n"]},"hash":"027c378fa24a03af0c1e617b12ccd559a9e1c517"}
