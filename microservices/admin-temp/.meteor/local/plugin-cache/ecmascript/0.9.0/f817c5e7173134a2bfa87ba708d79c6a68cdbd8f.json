{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"prop-types","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PropTypes"}]},{"source":"react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"React"}]},{"source":"meteor/meteor","imported":["Meteor"],"specifiers":[{"kind":"named","imported":"Meteor","local":"Meteor"}]},{"source":"../../utils/analytics","imported":["addUserTracking"],"specifiers":[{"kind":"named","imported":"addUserTracking","local":"addUserTracking"}]},{"source":"../Translation","imported":["T"],"specifiers":[{"kind":"named","imported":"T","local":"T"}]},{"source":"./Accounts","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Accounts"}]},{"source":"query-string","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"queryString"}]},{"source":"../../api","imported":["callMutation","mutations"],"specifiers":[{"kind":"named","imported":"callMutation","local":"callMutation"},{"kind":"named","imported":"mutations","local":"mutations"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/core/components/LoginPage/LoginPage.jsx","filenameRelative":"imports/core/components/LoginPage/LoginPage.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/components/LoginPage/LoginPage.jsx.map","sourceFileName":"imports/core/components/LoginPage/LoginPage.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"LoginPage"},"ignored":false,"code":"\"use strict\";\n\nvar PropTypes = void 0;\nmodule.watch(require(\"prop-types\"), {\n  default: function _default(v) {\n    PropTypes = v;\n  }\n}, 0);\nvar React = void 0;\nmodule.watch(require(\"react\"), {\n  default: function _default(v) {\n    React = v;\n  }\n}, 1);\n\nvar _Meteor = void 0;\n\nmodule.watch(require(\"meteor/meteor\"), {\n  Meteor: function Meteor(v) {\n    _Meteor = v;\n  }\n}, 2);\n\nvar _addUserTracking = void 0;\n\nmodule.watch(require(\"../../utils/analytics\"), {\n  addUserTracking: function addUserTracking(v) {\n    _addUserTracking = v;\n  }\n}, 3);\n\nvar _T = void 0;\n\nmodule.watch(require(\"../Translation\"), {\n  T: function T(v) {\n    _T = v;\n  }\n}, 4);\nvar Accounts = void 0;\nmodule.watch(require(\"./Accounts\"), {\n  default: function _default(v) {\n    Accounts = v;\n  }\n}, 5);\nvar queryString = void 0;\nmodule.watch(require(\"query-string\"), {\n  default: function _default(v) {\n    queryString = v;\n  }\n}, 6);\n\nvar _callMutation = void 0,\n    _mutations = void 0;\n\nmodule.watch(require(\"../../api\"), {\n  callMutation: function callMutation(v) {\n    _callMutation = v;\n  },\n  mutations: function mutations(v) {\n    _mutations = v;\n  }\n}, 7);\nvar styles = {\n  section: {\n    width: '100%',\n    minHeight: 'calc(100% - 64px)',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    overflowY: 'scroll',\n    padding: '0 16px'\n  }\n};\n\nvar handlePasswordReset = function handlePasswordReset() {\n  console.log('resetting password (not)');\n};\n\nvar LoginPage = function LoginPage(_ref) {\n  var search = _ref.location.search,\n      push = _ref.history.push;\n\n  var _queryString$parse = queryString.parse(search),\n      path = _queryString$parse.path;\n\n  return React.createElement(\n    \"section\",\n    {\n      style: styles.section\n    },\n    React.createElement(\n      \"h1\",\n      null,\n      React.createElement(_T, {\n        id: \"LoginPage.title\"\n      })\n    ),\n    React.createElement(Accounts.ui.LoginForm, {\n      onSignedInHook: function onSignedInHook() {\n        return push(path || '/');\n      },\n      onPostSignUpHook: function onPostSignUpHook() {\n        push(path || '/');\n\n        _callMutation(_mutations.SEND_VERIFICATION_LINK); // Create user for analytics\n\n\n        _addUserTracking(_Meteor.userId(), {\n          email: _Meteor.user().emails[0].address,\n          id: _Meteor.userId()\n        });\n      },\n      onResetPasswordHook: handlePasswordReset\n    })\n  );\n};\n\nLoginPage.propTypes = {\n  history: PropTypes.objectOf(PropTypes.any).isRequired\n};\nmodule.exportDefault(LoginPage);","map":{"version":3,"sources":["imports/core/components/LoginPage/LoginPage.jsx"],"names":["PropTypes","module","watch","require","default","v","React","Meteor","addUserTracking","T","Accounts","queryString","callMutation","mutations","styles","section","width","minHeight","display","alignItems","justifyContent","flexDirection","overflowY","padding","handlePasswordReset","console","log","LoginPage","search","location","push","history","parse","path","SEND_VERIFICATION_LINK","userId","email","user","emails","address","id","propTypes","objectOf","any","isRequired","exportDefault"],"mappings":"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","file":"imports/core/components/LoginPage/LoginPage.jsx.map","sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Meteor } from 'meteor/meteor';\n\nimport { addUserTracking } from '../../utils/analytics';\nimport { T } from '../Translation';\nimport Accounts from './Accounts';\nimport queryString from 'query-string';\nimport { callMutation, mutations } from 'core/api';\n\nconst styles = {\n  section: {\n    width: '100%',\n    minHeight: 'calc(100% - 64px)',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    overflowY: 'scroll',\n    padding: '0 16px',\n  },\n};\n\nconst handlePasswordReset = () => {\n  console.log('resetting password (not)');\n};\n\nconst LoginPage = ({ location: { search }, history: { push } }) => {\n  const { path } = queryString.parse(search);\n\n  return (\n    <section style={styles.section}>\n      <h1>\n        <T id=\"LoginPage.title\" />\n      </h1>\n      <Accounts.ui.LoginForm\n        onSignedInHook={() => push(path || '/')}\n        onPostSignUpHook={() => {\n          push(path || '/');\n          callMutation(mutations.SEND_VERIFICATION_LINK);\n\n          // Create user for analytics\n          addUserTracking(Meteor.userId(), {\n            email: Meteor.user().emails[0].address,\n            id: Meteor.userId(),\n          });\n        }}\n        onResetPasswordHook={handlePasswordReset}\n      />\n    </section>\n  );\n};\n\nLoginPage.propTypes = {\n  history: PropTypes.objectOf(PropTypes.any).isRequired,\n};\n\nexport default LoginPage;\n"]},"hash":"f817c5e7173134a2bfa87ba708d79c6a68cdbd8f"}
