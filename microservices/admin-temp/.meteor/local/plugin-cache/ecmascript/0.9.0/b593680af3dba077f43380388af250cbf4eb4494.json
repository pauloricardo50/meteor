{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"React"}]},{"source":"prop-types","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PropTypes"}]},{"source":"../../../core/components/Button","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Button"}]},{"source":"../../../core/components/DialogSimple","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"DialogSimple"}]},{"source":"../../../core/components/DropzoneArray","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"DropzoneArray"}]},{"source":"../../../core/api/constants","imported":["AUCTION_STATUS"],"specifiers":[{"kind":"named","imported":"AUCTION_STATUS","local":"AUCTION_STATUS"}]},{"source":"./../../components/ClosingForm","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"ClosingForm"}]},{"source":"./../../components/ClosingStepsForm","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"ClosingStepsForm"}]},{"source":"../../../core/utils/download-pdf","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"downloadPDF"}]},{"source":"../../../core/api/cleanMethods","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"cleanMethod"}]},{"source":"./ConfirmMethod","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"ConfirmMethod"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/ui/pages/SingleLoanPage/ActionsTab.jsx","filenameRelative":"imports/ui/pages/SingleLoanPage/ActionsTab.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/ui/pages/SingleLoanPage/ActionsTab.jsx.map","sourceFileName":"imports/ui/pages/SingleLoanPage/ActionsTab.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"ActionsTab"},"ignored":false,"code":"\"use strict\";\n\nvar React = void 0;\nmodule.watch(require(\"react\"), {\n  default: function _default(v) {\n    React = v;\n  }\n}, 0);\nvar PropTypes = void 0;\nmodule.watch(require(\"prop-types\"), {\n  default: function _default(v) {\n    PropTypes = v;\n  }\n}, 1);\nvar Button = void 0;\nmodule.watch(require(\"../../../core/components/Button\"), {\n  default: function _default(v) {\n    Button = v;\n  }\n}, 2);\nvar DialogSimple = void 0;\nmodule.watch(require(\"../../../core/components/DialogSimple\"), {\n  default: function _default(v) {\n    DialogSimple = v;\n  }\n}, 3);\nvar DropzoneArray = void 0;\nmodule.watch(require(\"../../../core/components/DropzoneArray\"), {\n  default: function _default(v) {\n    DropzoneArray = v;\n  }\n}, 4);\n\nvar _AUCTION_STATUS = void 0;\n\nmodule.watch(require(\"../../../core/api/constants\"), {\n  AUCTION_STATUS: function AUCTION_STATUS(v) {\n    _AUCTION_STATUS = v;\n  }\n}, 5);\nvar ClosingForm = void 0;\nmodule.watch(require(\"./../../components/ClosingForm\"), {\n  default: function _default(v) {\n    ClosingForm = v;\n  }\n}, 6);\nvar ClosingStepsForm = void 0;\nmodule.watch(require(\"./../../components/ClosingStepsForm\"), {\n  default: function _default(v) {\n    ClosingStepsForm = v;\n  }\n}, 7);\nvar downloadPDF = void 0;\nmodule.watch(require(\"../../../core/utils/download-pdf\"), {\n  default: function _default(v) {\n    downloadPDF = v;\n  }\n}, 8);\nvar cleanMethod = void 0;\nmodule.watch(require(\"../../../core/api/cleanMethods\"), {\n  default: function _default(v) {\n    cleanMethod = v;\n  }\n}, 9);\nvar ConfirmMethod = void 0;\nmodule.watch(require(\"./ConfirmMethod\"), {\n  default: function _default(v) {\n    ConfirmMethod = v;\n  }\n}, 10);\nvar styles = {\n  div: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  button: {\n    margin: 8\n  },\n  backDrop: {\n    backgroundColor: 'transparent',\n    display: 'none'\n  },\n  dialog: {\n    width: '100%',\n    maxWidth: '80%'\n  }\n};\n\nvar ActionsTab = function ActionsTab(props) {\n  var loan = props.loan;\n  var l = loan.logic;\n  return React.createElement(\n    \"div\",\n    {\n      style: styles.div\n    },\n    React.createElement(Button, {\n      raised: true,\n      label: \"T\\xE9l\\xE9charger PDF Anonyme\",\n      onClick: function onClick(e) {\n        return downloadPDF(e, loan._id, 'anonymous');\n      },\n      style: styles.button\n    }),\n    React.createElement(Button, {\n      raised: true,\n      label: \"T\\xE9l\\xE9charger PDF Complet\",\n      onClick: function onClick(e) {\n        return downloadPDF(e, loan._id, 'default');\n      },\n      style: styles.button\n    }),\n    React.createElement(ConfirmMethod, {\n      label: \"Annuler les ench\\xE8res\",\n      keyword: \"ANNULER\",\n      method: function method(cb) {\n        return cleanMethod('cancelAuction', {\n          id: loan._id\n        }).then(cb);\n      },\n      style: styles.button,\n      disabled: !(l.auction.status === _AUCTION_STATUS.STARTED)\n    }),\n    React.createElement(ConfirmMethod, {\n      label: \"Terminer les ench\\xE8res\",\n      keyword: \"TERMINER\",\n      method: function method(cb) {\n        return cleanMethod('endAuction', {\n          id: loan._id\n        }).then(cb);\n      },\n      style: styles.button,\n      disabled: !(l.auction.status === _AUCTION_STATUS.STARTED)\n    }),\n    React.createElement(\n      DialogSimple,\n      {\n        title: \"Confirmer le d\\xE9caissement\",\n        label: \"Confirmer d\\xE9caissement\",\n        buttonStyle: styles.button,\n        passProps: true\n      },\n      React.createElement(ClosingForm, {\n        loan: loan\n      })\n    ),\n    React.createElement(ConfirmMethod, {\n      label: \"Supprimer la demande\",\n      keyword: \"SUPPRIMER\",\n      method: function method(cb) {\n        return cleanMethod('deleteLoan', {\n          id: loan._id\n        }).then(cb).catch(function (err) {\n          if (!err) {\n            window.location.href = '/';\n          }\n        });\n      },\n      style: styles.button\n    }),\n    React.createElement(\n      DialogSimple,\n      {\n        title: \"Uploader contrat\",\n        label: \"Uploader contrat\",\n        buttonStyle: styles.button\n      },\n      React.createElement(\n        \"div\",\n        {\n          style: {\n            width: 400\n          }\n        },\n        React.createElement(DropzoneArray, {\n          array: [{\n            id: 'contract'\n          }],\n          docId: loan._id,\n          pushFunc: \"pushLoanValue\",\n          updateFunc: \"updateLoan\",\n          collection: \"loans\",\n          filesObject: loan.files,\n          filesObjectSelector: \"files\",\n          disabled: false\n        })\n      )\n    ),\n    React.createElement(\n      DialogSimple,\n      {\n        title: \"\\xC9tapes du D\\xE9caissement\",\n        label: \"\\xC9tapes du D\\xE9caissement\",\n        passProps: true,\n        autoScroll: true\n      },\n      React.createElement(ClosingStepsForm, {\n        loan: loan\n      })\n    )\n  );\n};\n\nActionsTab.propTypes = {\n  loan: PropTypes.objectOf(PropTypes.any).isRequired\n};\nmodule.exportDefault(ActionsTab);","map":{"version":3,"sources":["imports/ui/pages/SingleLoanPage/ActionsTab.jsx"],"names":["React","module","watch","require","default","v","PropTypes","Button","DialogSimple","DropzoneArray","AUCTION_STATUS","ClosingForm","ClosingStepsForm","downloadPDF","cleanMethod","ConfirmMethod","styles","div","display","flexDirection","alignItems","button","margin","backDrop","backgroundColor","dialog","width","maxWidth","ActionsTab","props","loan","l","logic","e","_id","id","then","cb","auction","status","STARTED","catch","err","window","location","href","files","propTypes","objectOf","any","isRequired","exportDefault"],"mappings":"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","file":"imports/ui/pages/SingleLoanPage/ActionsTab.jsx.map","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Button from 'core/components/Button';\n\nimport DialogSimple from 'core/components/DialogSimple';\nimport DropzoneArray from 'core/components/DropzoneArray';\nimport { AUCTION_STATUS } from 'core/api/constants';\nimport ClosingForm from '/imports/ui/components/ClosingForm';\nimport ClosingStepsForm from '/imports/ui/components/ClosingStepsForm';\nimport downloadPDF from 'core/utils/download-pdf';\nimport cleanMethod from 'core/api/cleanMethods';\nimport ConfirmMethod from './ConfirmMethod';\n\nconst styles = {\n  div: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  button: {\n    margin: 8,\n  },\n  backDrop: {\n    backgroundColor: 'transparent',\n    display: 'none',\n  },\n  dialog: {\n    width: '100%',\n    maxWidth: '80%',\n  },\n};\n\nconst ActionsTab = (props) => {\n  const { loan } = props;\n\n  const l = loan.logic;\n\n  return (\n    <div style={styles.div}>\n      <Button\n        raised\n        label=\"Télécharger PDF Anonyme\"\n        onClick={e => downloadPDF(e, loan._id, 'anonymous')}\n        style={styles.button}\n      />\n      <Button\n        raised\n        label=\"Télécharger PDF Complet\"\n        onClick={e => downloadPDF(e, loan._id, 'default')}\n        style={styles.button}\n      />\n\n      <ConfirmMethod\n        label=\"Annuler les enchères\"\n        keyword=\"ANNULER\"\n        method={cb => cleanMethod('cancelAuction', { id: loan._id }).then(cb)}\n        style={styles.button}\n        disabled={!(l.auction.status === AUCTION_STATUS.STARTED)}\n      />\n      <ConfirmMethod\n        label=\"Terminer les enchères\"\n        keyword=\"TERMINER\"\n        method={cb => cleanMethod('endAuction', { id: loan._id }).then(cb)}\n        style={styles.button}\n        disabled={!(l.auction.status === AUCTION_STATUS.STARTED)}\n      />\n      <DialogSimple\n        title=\"Confirmer le décaissement\"\n        label=\"Confirmer décaissement\"\n        buttonStyle={styles.button}\n        passProps\n      >\n        <ClosingForm loan={loan} />\n      </DialogSimple>\n      <ConfirmMethod\n        label=\"Supprimer la demande\"\n        keyword=\"SUPPRIMER\"\n        method={cb =>\n          cleanMethod('deleteLoan', { id: loan._id })\n            .then(cb)\n            .catch((err) => {\n              if (!err) {\n                window.location.href = '/';\n              }\n            })\n        }\n        style={styles.button}\n      />\n      <DialogSimple\n        title=\"Uploader contrat\"\n        label=\"Uploader contrat\"\n        buttonStyle={styles.button}\n      >\n        <div style={{ width: 400 }}>\n          <DropzoneArray\n            array={[{ id: 'contract' }]}\n            docId={loan._id}\n            pushFunc=\"pushLoanValue\"\n            updateFunc=\"updateLoan\"\n            collection=\"loans\"\n            filesObject={loan.files}\n            filesObjectSelector=\"files\"\n            disabled={false}\n          />\n        </div>\n      </DialogSimple>\n      <DialogSimple\n        title=\"Étapes du Décaissement\"\n        label=\"Étapes du Décaissement\"\n        passProps\n        autoScroll\n      >\n        <ClosingStepsForm loan={loan} />\n      </DialogSimple>\n    </div>\n  );\n};\n\nActionsTab.propTypes = {\n  loan: PropTypes.objectOf(PropTypes.any).isRequired,\n};\n\nexport default ActionsTab;\n"]},"hash":"b593680af3dba077f43380388af250cbf4eb4494"}
