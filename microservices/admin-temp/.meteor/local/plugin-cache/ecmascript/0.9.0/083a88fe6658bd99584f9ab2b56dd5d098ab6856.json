{"metadata":{"usedHelpers":["extends","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"../api/constants","imported":["PROPERTY_STYLE","PURCHASE_TYPE","OWNER","USAGE_TYPE","EXPERTISE_RATING"],"specifiers":[{"kind":"named","imported":"PROPERTY_STYLE","local":"PROPERTY_STYLE"},{"kind":"named","imported":"PURCHASE_TYPE","local":"PURCHASE_TYPE"},{"kind":"named","imported":"OWNER","local":"OWNER"},{"kind":"named","imported":"USAGE_TYPE","local":"USAGE_TYPE"},{"kind":"named","imported":"EXPERTISE_RATING","local":"EXPERTISE_RATING"}]}],"exports":{"exported":["getPropertyLoanArray","getPropertyArray"],"specifiers":[{"kind":"local","local":"getPropertyLoanArray","exported":"getPropertyLoanArray"},{"kind":"local","local":"getPropertyArray","exported":"getPropertyArray"}]}}},"options":{"filename":"imports/core/arrays/PropertyFormArray.js","filenameRelative":"imports/core/arrays/PropertyFormArray.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/arrays/PropertyFormArray.js.map","sourceFileName":"imports/core/arrays/PropertyFormArray.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"PropertyFormArray"},"ignored":false,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getPropertyLoanArray = undefined;\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nmodule.export({\n  getPropertyLoanArray: function () {\n    function getPropertyLoanArray() {\n      return _getPropertyLoanArray;\n    }\n\n    return getPropertyLoanArray;\n  }(),\n  getPropertyArray: function () {\n    function getPropertyArray() {\n      return _getPropertyArray;\n    }\n\n    return getPropertyArray;\n  }()\n});\n\nvar _PROPERTY_STYLE = void 0,\n    _PURCHASE_TYPE = void 0,\n    _OWNER = void 0,\n    _USAGE_TYPE = void 0,\n    _EXPERTISE_RATING = void 0;\n\nmodule.watch(require(\"../api/constants\"), {\n  PROPERTY_STYLE: function () {\n    function PROPERTY_STYLE(v) {\n      _PROPERTY_STYLE = v;\n    }\n\n    return PROPERTY_STYLE;\n  }(),\n  PURCHASE_TYPE: function () {\n    function PURCHASE_TYPE(v) {\n      _PURCHASE_TYPE = v;\n    }\n\n    return PURCHASE_TYPE;\n  }(),\n  OWNER: function () {\n    function OWNER(v) {\n      _OWNER = v;\n    }\n\n    return OWNER;\n  }(),\n  USAGE_TYPE: function () {\n    function USAGE_TYPE(v) {\n      _USAGE_TYPE = v;\n    }\n\n    return USAGE_TYPE;\n  }(),\n  EXPERTISE_RATING: function () {\n    function EXPERTISE_RATING(v) {\n      _EXPERTISE_RATING = v;\n    }\n\n    return EXPERTISE_RATING;\n  }()\n}, 0);\nexports.getPropertyLoanArray = _getPropertyLoanArray;\n\nvar mapInput = function () {\n  function mapInput(input) {\n    var intlSafeObject = (0, _extends3.default)({}, input); // If the id contains a dot in it, split it and add a intlId\n    // This makes it easier to write intl messages\n\n    if (input.id && input.id.indexOf('.') > 0) {\n      // Perform some additional slicing to make sure ids with multiple dots\n      // work by removing only the first part\n      intlSafeObject.intlId = input.id.split('.').slice(1).join('.');\n    }\n\n    if (input.inputs) {\n      // If there are nested inputs, give them an intlId too\n      intlSafeObject.inputs = input.inputs.map(function (obj) {\n        return obj.id && obj.id.indexOf('.') > 0 ? (0, _extends3.default)({}, obj, {\n          intlId: obj.id.split('.')[1]\n        }) : obj;\n      });\n    }\n\n    return intlSafeObject;\n  }\n\n  return mapInput;\n}();\n\nvar _getPropertyLoanArray = function () {\n  function _getPropertyLoanArray(_ref) {\n    var loan = _ref.loan,\n        borrowers = _ref.borrowers;\n    var r = loan;\n\n    if (!r) {\n      throw new Error('requires a loan');\n    }\n\n    var array = [{\n      type: 'h3',\n      id: 'propertyInfo',\n      ignore: true,\n      required: false\n    }, {\n      id: 'general.usageType',\n      type: 'radioInput',\n      options: Object.values(_USAGE_TYPE)\n    }, {\n      id: 'general.propertyWork',\n      type: 'textInput',\n      money: true,\n      required: false\n    }, {\n      type: 'conditionalInput',\n      conditionalTrueValue: _OWNER.OTHER,\n      condition: borrowers.length > 1 && r.general.purchaseType === _PURCHASE_TYPE.REFINANCING,\n      inputs: [{\n        id: 'general.currentOwner',\n        type: 'radioInput',\n        options: Object.values(_OWNER).filter(function (value) {\n          return borrowers.length === 1 ? value !== _OWNER.SECOND : true;\n        }).map(function (value) {\n          var isFirst = value === _OWNER.FIRST;\n          var isSecond = value === _OWNER.SECOND;\n          return isFirst || isSecond ? {\n            id: isFirst ? 0 : 1,\n            intlValues: {\n              name: borrowers[isFirst ? 0 : 1].firstName || \"Emprunteur \" + (isFirst ? 1 : 2)\n            }\n          } : value;\n        })\n      }, {\n        id: 'general.otherOwner',\n        type: 'textInput'\n      }]\n    }, {\n      type: 'conditionalInput',\n      conditionalTrueValue: _OWNER.OTHER,\n      condition: borrowers.length > 1 && r.general.purchaseType !== _PURCHASE_TYPE.REFINANCING,\n      inputs: [{\n        id: 'general.futureOwner',\n        type: 'radioInput',\n        options: Object.values(_OWNER).filter(function (value) {\n          return borrowers.length === 1 ? value !== _OWNER.SECOND : true;\n        }).map(function (value) {\n          var isFirst = value === _OWNER.FIRST;\n          var isSecond = value === _OWNER.SECOND;\n          return isFirst || isSecond ? {\n            id: isFirst ? 0 : 1,\n            intlValues: {\n              name: borrowers[isFirst ? 0 : 1].firstName || \"Emprunteur \" + (isFirst ? 1 : 2)\n            }\n          } : value;\n        })\n      }, {\n        id: 'general.otherOwner',\n        type: 'textInput'\n      }]\n    }];\n    return array.map(mapInput);\n  }\n\n  return _getPropertyLoanArray;\n}();\n\nvar _getPropertyArray = function () {\n  function _getPropertyArray(_ref2) {\n    var loan = _ref2.loan,\n        borrowers = _ref2.borrowers,\n        property = _ref2.property;\n    var r = loan;\n\n    if (!r) {\n      throw new Error('requires a loan');\n    }\n\n    var array = [{\n      id: 'value',\n      type: 'textInput',\n      money: true\n    }, {\n      id: 'style',\n      type: 'radioInput',\n      options: Object.values(_PROPERTY_STYLE)\n    }, {\n      id: 'isNew',\n      type: 'radioInput',\n      options: [true, false],\n      condition: r.general.purchaseType === _PURCHASE_TYPE.ACQUISITION\n    }, {\n      type: 'h3',\n      id: 'propertyAddress',\n      ignore: true,\n      required: false\n    }, {\n      id: 'address1',\n      type: 'textInput'\n    }, {\n      id: 'address2',\n      type: 'textInput',\n      required: false\n    }, {\n      id: 'zipCode',\n      type: 'custom',\n      component: 'ZipAutoComplete',\n      componentProps: {\n        savePath: '',\n        initialValue: property.zipCode && property.city ? property.zipCode + \" \" + property.city : ''\n      }\n    }, {\n      type: 'h3',\n      id: 'propertyDetails',\n      ignore: true,\n      required: false\n    }, {\n      id: 'constructionYear',\n      type: 'textInput',\n      number: true\n    }, {\n      id: 'renovationYear',\n      type: 'textInput',\n      number: true,\n      required: false,\n      info: true\n    }, {\n      id: 'landArea',\n      type: 'textInput',\n      number: true,\n      condition: property.style === _PROPERTY_STYLE.VILLA\n    }, {\n      id: 'insideArea',\n      type: 'textInput',\n      number: true\n    }, {\n      id: 'balconyArea',\n      type: 'textInput',\n      number: true,\n      required: false\n    }, {\n      id: 'terraceArea',\n      type: 'textInput',\n      number: true,\n      required: false\n    }, {\n      id: 'volume',\n      type: 'textInput',\n      number: true,\n      condition: property.style === _PROPERTY_STYLE.VILLA\n    }, {\n      id: 'volumeNorm',\n      type: 'textInput',\n      condition: property.style === _PROPERTY_STYLE.VILLA\n    }, {\n      id: 'roomCount',\n      type: 'textInput',\n      decimal: true,\n      info: true\n    }, {\n      id: 'bathroomCount',\n      type: 'textInput',\n      number: true,\n      info: true\n    }, {\n      id: 'toiletCount',\n      type: 'textInput',\n      number: true\n    }, {\n      id: 'parking.box',\n      type: 'textInput',\n      number: true\n    }, {\n      id: 'parking.inside',\n      type: 'textInput',\n      number: true\n    }, {\n      id: 'parking.outside',\n      type: 'textInput',\n      number: true\n    }, {\n      id: 'minergie',\n      type: 'radioInput',\n      options: [true, false]\n    }, {\n      type: 'conditionalInput',\n      conditionalTrueValue: true,\n      condition: property.style === _PROPERTY_STYLE.VILLA,\n      inputs: [{\n        id: 'isCoproperty',\n        type: 'radioInput',\n        options: [true, false]\n      }, {\n        id: 'copropertyPercentage',\n        type: 'textInput',\n        number: true,\n        info: true\n      }]\n    }, {\n      id: 'copropertyPercentage',\n      type: 'textInput',\n      number: true,\n      condition: property.style === _PROPERTY_STYLE.FLAT,\n      info: true\n    }, {\n      type: 'h3',\n      id: 'propertyQuality',\n      ignore: true,\n      required: false\n    }, {\n      id: 'cityPlacementQuality',\n      type: 'radioInput',\n      options: Object.values(_EXPERTISE_RATING)\n    }, {\n      id: 'buildingPlacementQuality',\n      type: 'radioInput',\n      options: Object.values(_EXPERTISE_RATING),\n      condition: property.style === _PROPERTY_STYLE.FLAT\n    }, {\n      id: 'buildingQuality',\n      type: 'radioInput',\n      options: Object.values(_EXPERTISE_RATING)\n    }, {\n      id: 'flatQuality',\n      type: 'radioInput',\n      options: Object.values(_EXPERTISE_RATING),\n      condition: property.style === _PROPERTY_STYLE.FLAT\n    }, {\n      id: 'materialsQuality',\n      type: 'radioInput',\n      options: Object.values(_EXPERTISE_RATING)\n    }, {\n      id: 'otherNotes',\n      type: 'textInput',\n      multiline: true,\n      rows: 3,\n      required: false\n    }];\n    return array.map(mapInput);\n  }\n\n  return _getPropertyArray;\n}();","map":{"version":3,"sources":["imports/core/arrays/PropertyFormArray.js"],"names":["module","export","getPropertyLoanArray","getPropertyArray","PROPERTY_STYLE","PURCHASE_TYPE","OWNER","USAGE_TYPE","EXPERTISE_RATING","watch","require","v","mapInput","input","intlSafeObject","id","indexOf","intlId","split","slice","join","inputs","map","obj","loan","borrowers","r","Error","array","type","ignore","required","options","Object","values","money","conditionalTrueValue","OTHER","condition","length","general","purchaseType","REFINANCING","filter","value","SECOND","isFirst","FIRST","isSecond","intlValues","name","firstName","property","ACQUISITION","component","componentProps","savePath","initialValue","zipCode","city","number","info","style","VILLA","decimal","FLAT","multiline","rows"],"mappings":"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","file":"imports/core/arrays/PropertyFormArray.js.map","sourcesContent":["import {\n  PROPERTY_STYLE,\n  PURCHASE_TYPE,\n  OWNER,\n  USAGE_TYPE,\n  EXPERTISE_RATING,\n} from 'core/api/constants';\n\nconst mapInput = (input) => {\n  const intlSafeObject = { ...input };\n  // If the id contains a dot in it, split it and add a intlId\n  // This makes it easier to write intl messages\n  if (input.id && input.id.indexOf('.') > 0) {\n    // Perform some additional slicing to make sure ids with multiple dots\n    // work by removing only the first part\n    intlSafeObject.intlId = input.id\n      .split('.')\n      .slice(1)\n      .join('.');\n  }\n\n  if (input.inputs) {\n    // If there are nested inputs, give them an intlId too\n    intlSafeObject.inputs = input.inputs.map(obj =>\n      (obj.id && obj.id.indexOf('.') > 0\n        ? { ...obj, intlId: obj.id.split('.')[1] }\n        : obj));\n  }\n\n  return intlSafeObject;\n};\n\nexport const getPropertyLoanArray = ({ loan, borrowers }) => {\n  const r = loan;\n\n  if (!r) {\n    throw new Error('requires a loan');\n  }\n\n  const array = [\n    {\n      type: 'h3',\n      id: 'propertyInfo',\n      ignore: true,\n      required: false,\n    },\n    {\n      id: 'general.usageType',\n      type: 'radioInput',\n      options: Object.values(USAGE_TYPE),\n    },\n    {\n      id: 'general.propertyWork',\n      type: 'textInput',\n      money: true,\n      required: false,\n    },\n    {\n      type: 'conditionalInput',\n      conditionalTrueValue: OWNER.OTHER,\n      condition:\n        borrowers.length > 1 &&\n        r.general.purchaseType === PURCHASE_TYPE.REFINANCING,\n      inputs: [\n        {\n          id: 'general.currentOwner',\n          type: 'radioInput',\n          options: Object.values(OWNER)\n            .filter(value => (borrowers.length === 1 ? value !== OWNER.SECOND : true))\n            .map((value) => {\n              const isFirst = value === OWNER.FIRST;\n              const isSecond = value === OWNER.SECOND;\n              return isFirst || isSecond\n                ? {\n                  id: isFirst ? 0 : 1,\n                  intlValues: {\n                    name:\n                        borrowers[isFirst ? 0 : 1].firstName ||\n                        `Emprunteur ${isFirst ? 1 : 2}`,\n                  },\n                }\n                : value;\n            }),\n        },\n        { id: 'general.otherOwner', type: 'textInput' },\n      ],\n    },\n    {\n      type: 'conditionalInput',\n      conditionalTrueValue: OWNER.OTHER,\n      condition:\n        borrowers.length > 1 &&\n        r.general.purchaseType !== PURCHASE_TYPE.REFINANCING,\n      inputs: [\n        {\n          id: 'general.futureOwner',\n          type: 'radioInput',\n          options: Object.values(OWNER)\n            .filter(value => (borrowers.length === 1 ? value !== OWNER.SECOND : true))\n            .map((value) => {\n              const isFirst = value === OWNER.FIRST;\n              const isSecond = value === OWNER.SECOND;\n              return isFirst || isSecond\n                ? {\n                  id: isFirst ? 0 : 1,\n                  intlValues: {\n                    name:\n                        borrowers[isFirst ? 0 : 1].firstName ||\n                        `Emprunteur ${isFirst ? 1 : 2}`,\n                  },\n                }\n                : value;\n            }),\n        },\n        {\n          id: 'general.otherOwner',\n          type: 'textInput',\n        },\n      ],\n    },\n  ];\n\n  return array.map(mapInput);\n};\n\nexport const getPropertyArray = ({ loan, borrowers, property }) => {\n  const r = loan;\n\n  if (!r) {\n    throw new Error('requires a loan');\n  }\n\n  const array = [\n    { id: 'value', type: 'textInput', money: true },\n    {\n      id: 'style',\n      type: 'radioInput',\n      options: Object.values(PROPERTY_STYLE),\n    },\n    {\n      id: 'isNew',\n      type: 'radioInput',\n      options: [true, false],\n      condition: r.general.purchaseType === PURCHASE_TYPE.ACQUISITION,\n    },\n    {\n      type: 'h3',\n      id: 'propertyAddress',\n      ignore: true,\n      required: false,\n    },\n    {\n      id: 'address1',\n      type: 'textInput',\n    },\n    {\n      id: 'address2',\n      type: 'textInput',\n      required: false,\n    },\n    {\n      id: 'zipCode',\n      type: 'custom',\n      component: 'ZipAutoComplete',\n      componentProps: {\n        savePath: '',\n        initialValue:\n          property.zipCode && property.city\n            ? `${property.zipCode} ${property.city}`\n            : '',\n      },\n    },\n    {\n      type: 'h3',\n      id: 'propertyDetails',\n      ignore: true,\n      required: false,\n    },\n    { id: 'constructionYear', type: 'textInput', number: true },\n    {\n      id: 'renovationYear',\n      type: 'textInput',\n      number: true,\n      required: false,\n      info: true,\n    },\n    {\n      id: 'landArea',\n      type: 'textInput',\n      number: true,\n      condition: property.style === PROPERTY_STYLE.VILLA,\n    },\n    { id: 'insideArea', type: 'textInput', number: true },\n    {\n      id: 'balconyArea',\n      type: 'textInput',\n      number: true,\n      required: false,\n    },\n    {\n      id: 'terraceArea',\n      type: 'textInput',\n      number: true,\n      required: false,\n    },\n    {\n      id: 'volume',\n      type: 'textInput',\n      number: true,\n      condition: property.style === PROPERTY_STYLE.VILLA,\n    },\n    {\n      id: 'volumeNorm',\n      type: 'textInput',\n      condition: property.style === PROPERTY_STYLE.VILLA,\n    },\n    {\n      id: 'roomCount',\n      type: 'textInput',\n      decimal: true,\n      info: true,\n    },\n    {\n      id: 'bathroomCount',\n      type: 'textInput',\n      number: true,\n      info: true,\n    },\n    { id: 'toiletCount', type: 'textInput', number: true },\n    { id: 'parking.box', type: 'textInput', number: true },\n    { id: 'parking.inside', type: 'textInput', number: true },\n    { id: 'parking.outside', type: 'textInput', number: true },\n    { id: 'minergie', type: 'radioInput', options: [true, false] },\n    {\n      type: 'conditionalInput',\n      conditionalTrueValue: true,\n      condition: property.style === PROPERTY_STYLE.VILLA,\n      inputs: [\n        {\n          id: 'isCoproperty',\n          type: 'radioInput',\n          options: [true, false],\n        },\n        {\n          id: 'copropertyPercentage',\n          type: 'textInput',\n          number: true,\n          info: true,\n        },\n      ],\n    },\n    {\n      id: 'copropertyPercentage',\n      type: 'textInput',\n      number: true,\n      condition: property.style === PROPERTY_STYLE.FLAT,\n      info: true,\n    },\n    {\n      type: 'h3',\n      id: 'propertyQuality',\n      ignore: true,\n      required: false,\n    },\n    {\n      id: 'cityPlacementQuality',\n      type: 'radioInput',\n      options: Object.values(EXPERTISE_RATING),\n    },\n    {\n      id: 'buildingPlacementQuality',\n      type: 'radioInput',\n      options: Object.values(EXPERTISE_RATING),\n      condition: property.style === PROPERTY_STYLE.FLAT,\n    },\n    {\n      id: 'buildingQuality',\n      type: 'radioInput',\n      options: Object.values(EXPERTISE_RATING),\n    },\n    {\n      id: 'flatQuality',\n      type: 'radioInput',\n      options: Object.values(EXPERTISE_RATING),\n      condition: property.style === PROPERTY_STYLE.FLAT,\n    },\n    {\n      id: 'materialsQuality',\n      type: 'radioInput',\n      options: Object.values(EXPERTISE_RATING),\n    },\n    {\n      id: 'otherNotes',\n      type: 'textInput',\n      multiline: true,\n      rows: 3,\n      required: false,\n    },\n  ];\n\n  return array.map(mapInput);\n};\n"]},"hash":"083a88fe6658bd99584f9ab2b56dd5d098ab6856"}
