{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"../../utils/loanFunctions","imported":["getLoanValue","getPropAndWork"],"specifiers":[{"kind":"named","imported":"getLoanValue","local":"getLoanValue"},{"kind":"named","imported":"getPropAndWork","local":"getPropAndWork"}]}],"exports":{"exported":["getRandomOffer"],"specifiers":[{"kind":"local","local":"getRandomOffer","exported":"getRandomOffer"}]}}},"options":{"filename":"imports/core/api/offers/fakes.js","filenameRelative":"imports/core/api/offers/fakes.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/api/offers/fakes.js.map","sourceFileName":"imports/core/api/offers/fakes.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"fakes"},"ignored":false,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nmodule.export({\n  getRandomOffer: function getRandomOffer() {\n    return _getRandomOffer;\n  }\n});\n\nvar _getLoanValue = void 0,\n    _getPropAndWork = void 0;\n\nmodule.watch(require(\"../../utils/loanFunctions\"), {\n  getLoanValue: function getLoanValue(v) {\n    _getLoanValue = v;\n  },\n  getPropAndWork: function getPropAndWork(v) {\n    _getPropAndWork = v;\n  }\n}, 0);\n\nvar getRandomCondition = function getRandomCondition() {\n  var conditions = ['Expertise additionelle requise', '', '', '', '', '', '', '', ''];\n  return conditions[Math.floor(Math.random() * conditions.length)];\n};\n\nvar getRandomCounterpart = function getRandomCounterpart() {\n  var counterparts = ['Gestion de toute la fortune', 'Souscrire à une assurance vie', \"Gestion de CHF 100'000 de patrimoine minimum\", 'Souscrire à une assurance voiture', '', '', '', '', '', '', '', ''];\n  return counterparts[Math.floor(Math.random() * counterparts.length)];\n};\n\nvar round = function round(v) {\n  return Math.round(v * 10000) / 10000;\n};\n\nexports.getRandomOffer = _getRandomOffer;\n\nvar rand = function rand(min, max) {\n  return round(Math.random() * (max - min) + min);\n};\n\nvar _getRandomOffer = function _getRandomOffer(_ref) {\n  var loan = _ref.loan,\n      property = _ref.property;\n  var matchLoanWanted = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var rate1 = rand(0.007, 0.012);\n  var rate2 = rand(0.005, 0.009); // Randomly add rank 1 offers 25% of the time\n\n  var loanWanted = Math.random() > 0.75 && !matchLoanWanted ? 0.65 * _getPropAndWork({\n    loan: loan,\n    property: property\n  }) : _getLoanValue({\n    loan: loan,\n    property: property\n  });\n  var maxAmoutLimited = loanWanted > 100000000 ? 100000000 : loanWanted;\n  var counterpart = getRandomCounterpart();\n  var condition = getRandomCondition();\n  return {\n    organization: 'fake',\n    canton: 'GE',\n    loanId: loan._id,\n    auctionEndTime: new Date(),\n    isSwiss: true,\n    worksForOwnCompany: true,\n    standardOffer: {\n      maxAmount: maxAmoutLimited,\n      amortization: 0.01,\n      interestLibor: rate1,\n      interest1: round(rate1 + rand(0.0004, 0.0016)),\n      interest2: round(rate1 + rand(0.0016, 0.004)),\n      interest5: round(rate1 + rand(0.004, 0.006)),\n      interest10: round(rate1 + rand(0.006, 0.01))\n    },\n    counterpartOffer: {\n      maxAmount: maxAmoutLimited,\n      amortization: 0.01,\n      interestLibor: rate2,\n      interest1: round(rate2 + rand(0.0004, 0.0016)),\n      interest2: round(rate2 + rand(0.0016, 0.004)),\n      interest5: round(rate2 + rand(0.004, 0.006)),\n      interest10: round(rate2 + rand(0.006, 0.01))\n    },\n    counterparts: counterpart ? [counterpart] : [],\n    conditions: condition ? [condition] : []\n  };\n};","map":{"version":3,"sources":["imports/core/api/offers/fakes.js"],"names":["module","export","getRandomOffer","getLoanValue","getPropAndWork","watch","require","v","getRandomCondition","conditions","Math","floor","random","length","getRandomCounterpart","counterparts","round","rand","min","max","loan","property","matchLoanWanted","rate1","rate2","loanWanted","maxAmoutLimited","counterpart","condition","organization","canton","loanId","_id","auctionEndTime","Date","isSwiss","worksForOwnCompany","standardOffer","maxAmount","amortization","interestLibor","interest1","interest2","interest5","interest10","counterpartOffer"],"mappings":"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","file":"imports/core/api/offers/fakes.js.map","sourcesContent":["import { getLoanValue, getPropAndWork } from 'core/utils/loanFunctions';\n\nconst getRandomCondition = () => {\n  const conditions = [\n    'Expertise additionelle requise',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n  ];\n\n  return conditions[Math.floor(Math.random() * conditions.length)];\n};\n\nconst getRandomCounterpart = () => {\n  const counterparts = [\n    'Gestion de toute la fortune',\n    'Souscrire à une assurance vie',\n    \"Gestion de CHF 100'000 de patrimoine minimum\",\n    'Souscrire à une assurance voiture',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n  ];\n\n  return counterparts[Math.floor(Math.random() * counterparts.length)];\n};\n\nconst round = v => Math.round(v * 10000) / 10000;\n\nconst rand = (min, max) => round(Math.random() * (max - min) + min);\n\nexport const getRandomOffer = ({ loan, property }, matchLoanWanted = false) => {\n  const rate1 = rand(0.007, 0.012);\n  const rate2 = rand(0.005, 0.009);\n\n  // Randomly add rank 1 offers 25% of the time\n  const loanWanted =\n    Math.random() > 0.75 && !matchLoanWanted\n      ? 0.65 * getPropAndWork({ loan, property })\n      : getLoanValue({ loan, property });\n  const maxAmoutLimited = loanWanted > 100000000 ? 100000000 : loanWanted;\n  const counterpart = getRandomCounterpart();\n  const condition = getRandomCondition();\n  return {\n    organization: 'fake',\n    canton: 'GE',\n    loanId: loan._id,\n    auctionEndTime: new Date(),\n    isSwiss: true,\n    worksForOwnCompany: true,\n    standardOffer: {\n      maxAmount: maxAmoutLimited,\n      amortization: 0.01,\n      interestLibor: rate1,\n      interest1: round(rate1 + rand(0.0004, 0.0016)),\n      interest2: round(rate1 + rand(0.0016, 0.004)),\n      interest5: round(rate1 + rand(0.004, 0.006)),\n      interest10: round(rate1 + rand(0.006, 0.01)),\n    },\n    counterpartOffer: {\n      maxAmount: maxAmoutLimited,\n      amortization: 0.01,\n      interestLibor: rate2,\n      interest1: round(rate2 + rand(0.0004, 0.0016)),\n      interest2: round(rate2 + rand(0.0016, 0.004)),\n      interest5: round(rate2 + rand(0.004, 0.006)),\n      interest10: round(rate2 + rand(0.006, 0.01)),\n    },\n    counterparts: counterpart ? [counterpart] : [],\n    conditions: condition ? [condition] : [],\n  };\n};\n"]},"hash":"9ecbe68ca07599fd08d8cb4257c675011618cc30"}
