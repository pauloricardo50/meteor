{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"caller-path","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"callerPath"}]},{"source":"path","imported":["dirname","resolve"],"specifiers":[{"kind":"named","imported":"dirname","local":"dirname"},{"kind":"named","imported":"resolve","local":"resolve"}]},{"source":"./meteorStubs","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"meteorStubs"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/core/utils/testHelpers/testRequire.js","filenameRelative":"imports/core/utils/testHelpers/testRequire.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/utils/testHelpers/testRequire.js.map","sourceFileName":"imports/core/utils/testHelpers/testRequire.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"testRequire"},"ignored":false,"code":"\"use strict\";\n\nvar callerPath = void 0;\nmodule.watch(require(\"caller-path\"), {\n  \"default\": function () {\n    function _default(v) {\n      callerPath = v;\n    }\n\n    return _default;\n  }()\n}, 0);\n\nvar _dirname = void 0,\n    _resolve = void 0;\n\nmodule.watch(require(\"path\"), {\n  dirname: function () {\n    function dirname(v) {\n      _dirname = v;\n    }\n\n    return dirname;\n  }(),\n  resolve: function () {\n    function resolve(v) {\n      _resolve = v;\n    }\n\n    return resolve;\n  }()\n}, 1);\nvar meteorStubs = void 0;\nmodule.watch(require(\"./meteorStubs\"), {\n  \"default\": function () {\n    function _default(v) {\n      meteorStubs = v;\n    }\n\n    return _default;\n  }()\n}, 2);\n\nvar testRequire = function () {\n  function testRequire(filePath) {\n    var importedModule = void 0;\n\n    if (global.Meteor) {\n      // If this test is happening in a meteor environment, return false\n      // and require it in the file\n      importedModule = false;\n    } else {\n      // If this is a local environment, like wallabyJS, import it with proxyquire\n      // and stubs\n      var proxyquire = require('proxyquire');\n\n      var realPath = _resolve(_dirname(callerPath()), filePath);\n\n      importedModule = proxyquire(realPath, meteorStubs);\n    }\n\n    return importedModule;\n  }\n\n  return testRequire;\n}();\n\nmodule.exportDefault(testRequire);","map":{"version":3,"sources":["imports/core/utils/testHelpers/testRequire.js"],"names":["callerPath","module","watch","require","v","dirname","resolve","meteorStubs","testRequire","filePath","importedModule","global","Meteor","proxyquire","realPath","exportDefault"],"mappings":";;AAAA,IAAIA,mBAAJ;AAAeC,OAAOC,KAAP,CAAaC,QAAQ,aAAR,CAAb,EAAoC;AAAA;AAAA,sBAASC,CAAT,EAAW;AAACJ,mBAAWI,CAAX;AAAa;;AAAzB;AAAA;AAAA,CAApC,EAA+D,CAA/D;;AAAkE,IAAIC,iBAAJ;AAAA,IAAYC,iBAAZ;;AAAoBL,OAAOC,KAAP,CAAaC,QAAQ,MAAR,CAAb,EAA6B;AAACE,SAAD;AAAA,qBAASD,CAAT,EAAW;AAACC,iBAAQD,CAAR;AAAU;;AAAtB;AAAA;AAAuBE,SAAvB;AAAA,qBAA+BF,CAA/B,EAAiC;AAACE,iBAAQF,CAAR;AAAU;;AAA5C;AAAA;AAAA,CAA7B,EAA2E,CAA3E;AAA8E,IAAIG,oBAAJ;AAAgBN,OAAOC,KAAP,CAAaC,QAAQ,eAAR,CAAb,EAAsC;AAAA;AAAA,sBAASC,CAAT,EAAW;AAACG,oBAAYH,CAAZ;AAAc;;AAA1B;AAAA;AAAA,CAAtC,EAAkE,CAAlE;;AAQnM,IAAMI;AAAc,WAAdA,WAAc,CAACC,QAAD,EAAc;AAChC,QAAIC,uBAAJ;;AAEA,QAAIC,OAAOC,MAAX,EAAmB;AACjB;AACA;AACAF,uBAAiB,KAAjB;AACD,KAJD,MAIO;AACL;AACA;AACA,UAAMG,aAAaV,QAAQ,YAAR,CAAnB;;AACA,UAAMW,WAAWR,SAAQD,SAAQL,YAAR,CAAR,EAA+BS,QAA/B,CAAjB;;AACAC,uBAAiBG,WAAWC,QAAX,EAAqBP,WAArB,CAAjB;AACD;;AAED,WAAOG,cAAP;AACD;;AAhBK;AAAA,GAAN;;AARAT,OAAOc,aAAP,CA0BeP,WA1Bf","file":"imports/core/utils/testHelpers/testRequire.js.map","sourcesContent":["/* eslint global-require: 0 */\n/* eslint import/no-dynamic-require: 0 */\n\nimport callerPath from 'caller-path';\nimport { dirname, resolve } from 'path';\n\nimport meteorStubs from './meteorStubs';\n\nconst testRequire = (filePath) => {\n  let importedModule;\n\n  if (global.Meteor) {\n    // If this test is happening in a meteor environment, return false\n    // and require it in the file\n    importedModule = false;\n  } else {\n    // If this is a local environment, like wallabyJS, import it with proxyquire\n    // and stubs\n    const proxyquire = require('proxyquire');\n    const realPath = resolve(dirname(callerPath()), filePath);\n    importedModule = proxyquire(realPath, meteorStubs);\n  }\n\n  return importedModule;\n};\n\nexport default testRequire;\n"]},"hash":"de3209e1191379aad40b9e592037cf57db1988d3"}
