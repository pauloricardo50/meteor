{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"React"}]},{"source":"prop-types","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PropTypes"}]},{"source":"react-router-dom","imported":["BrowserRouter"],"specifiers":[{"kind":"named","imported":"BrowserRouter","local":"Router"}]},{"source":"react-intl","imported":["IntlProvider"],"specifiers":[{"kind":"named","imported":"IntlProvider","local":"IntlProvider"}]},{"source":"material-ui/styles/MuiThemeProvider","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"MuiThemeProvider"}]},{"source":"../../config/mui_custom","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"MuiTheme"}]},{"source":"../ErrorBoundary","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"ErrorBoundary"}]},{"source":"../ScrollToTop","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"ScrollToTop"}]},{"source":"../LoginPage","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"LoginPage"}]},{"source":"./Switch","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Switch"}]},{"source":"./Route","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Route"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/core/components/BaseRouter/BaseRouter.jsx","filenameRelative":"imports/core/components/BaseRouter/BaseRouter.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/components/BaseRouter/BaseRouter.jsx.map","sourceFileName":"imports/core/components/BaseRouter/BaseRouter.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"BaseRouter"},"ignored":false,"code":"\"use strict\";\n\nvar React = void 0;\nmodule.watch(require(\"react\"), {\n  default: function _default(v) {\n    React = v;\n  }\n}, 0);\nvar PropTypes = void 0;\nmodule.watch(require(\"prop-types\"), {\n  default: function _default(v) {\n    PropTypes = v;\n  }\n}, 1);\nvar Router = void 0;\nmodule.watch(require(\"react-router-dom\"), {\n  BrowserRouter: function BrowserRouter(v) {\n    Router = v;\n  }\n}, 2);\n\nvar _IntlProvider = void 0;\n\nmodule.watch(require(\"react-intl\"), {\n  IntlProvider: function IntlProvider(v) {\n    _IntlProvider = v;\n  }\n}, 3);\nvar MuiThemeProvider = void 0;\nmodule.watch(require(\"material-ui/styles/MuiThemeProvider\"), {\n  default: function _default(v) {\n    MuiThemeProvider = v;\n  }\n}, 4);\nvar MuiTheme = void 0;\nmodule.watch(require(\"../../config/mui_custom\"), {\n  default: function _default(v) {\n    MuiTheme = v;\n  }\n}, 5);\nvar ErrorBoundary = void 0;\nmodule.watch(require(\"../ErrorBoundary\"), {\n  default: function _default(v) {\n    ErrorBoundary = v;\n  }\n}, 6);\nvar ScrollToTop = void 0;\nmodule.watch(require(\"../ScrollToTop\"), {\n  default: function _default(v) {\n    ScrollToTop = v;\n  }\n}, 7);\nvar LoginPage = void 0;\nmodule.watch(require(\"../LoginPage\"), {\n  default: function _default(v) {\n    LoginPage = v;\n  }\n}, 8);\nvar Switch = void 0;\nmodule.watch(require(\"./Switch\"), {\n  default: function _default(v) {\n    Switch = v;\n  }\n}, 9);\nvar Route = void 0;\nmodule.watch(require(\"./Route\"), {\n  default: function _default(v) {\n    Route = v;\n  }\n}, 10);\n\nvar BaseRouter = function BaseRouter(_ref) {\n  var locale = _ref.locale,\n      messages = _ref.messages,\n      formats = _ref.formats,\n      children = _ref.children,\n      WrapperComponent = _ref.WrapperComponent,\n      hasLogin = _ref.hasLogin;\n  return React.createElement(\n    ErrorBoundary,\n    {\n      helper: \"root\"\n    },\n    React.createElement(\n      WrapperComponent,\n      null,\n      React.createElement(\n        MuiThemeProvider,\n        {\n          theme: MuiTheme\n        },\n        React.createElement(\n          _IntlProvider,\n          {\n            locale: locale,\n            messages: messages,\n            formats: formats,\n            defaultLocale: \"fr\" // key={getUserLocale()} Use this if the app doesn't\n            // reload on locale change\n\n          },\n          React.createElement(\n            ErrorBoundary,\n            {\n              helper: \"app\"\n            },\n            React.createElement(\n              Router,\n              null,\n              React.createElement(\n                ScrollToTop,\n                null,\n                React.createElement(\n                  Switch,\n                  null,\n                  hasLogin && React.createElement(Route, {\n                    exact: true,\n                    path: \"/login\",\n                    component: LoginPage\n                  }),\n                  React.createElement(Route, {\n                    path: \"/\",\n                    render: function render(childProps) {\n                      return React.cloneElement(children, childProps);\n                    }\n                  })\n                )\n              )\n            )\n          )\n        )\n      )\n    )\n  );\n};\n\nBaseRouter.propTypes = {\n  locale: PropTypes.string.isRequired,\n  messages: PropTypes.object.isRequired,\n  formats: PropTypes.object.isRequired,\n  children: PropTypes.node.isRequired,\n  WrapperComponent: PropTypes.any,\n  hasLogin: PropTypes.bool\n};\nBaseRouter.defaultProps = {\n  WrapperComponent: React.Fragment,\n  hasLogin: true\n};\nmodule.exportDefault(BaseRouter);","map":{"version":3,"sources":["imports/core/components/BaseRouter/BaseRouter.jsx"],"names":["React","module","watch","require","default","v","PropTypes","Router","BrowserRouter","IntlProvider","MuiThemeProvider","MuiTheme","ErrorBoundary","ScrollToTop","LoginPage","Switch","Route","BaseRouter","locale","messages","formats","children","WrapperComponent","hasLogin","cloneElement","childProps","propTypes","string","isRequired","object","node","any","bool","defaultProps","Fragment","exportDefault"],"mappings":"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","file":"imports/core/components/BaseRouter/BaseRouter.jsx.map","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { IntlProvider } from 'react-intl';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\n\nimport MuiTheme from '../../config/mui_custom';\n\nimport ErrorBoundary from '../ErrorBoundary';\nimport ScrollToTop from '../ScrollToTop';\nimport LoginPage from '../LoginPage';\n\nimport Switch from './Switch';\nimport Route from './Route';\n\nconst BaseRouter = ({\n  locale,\n  messages,\n  formats,\n  children,\n  WrapperComponent,\n  hasLogin,\n}) => (\n  <ErrorBoundary helper=\"root\">\n    <WrapperComponent>\n      {/* Inject custom material-ui theme for everything to look good */}\n      <MuiThemeProvider theme={MuiTheme}>\n        {/* Inject Intl props to all components to render the proper locale */}\n        <IntlProvider\n          locale={locale}\n          messages={messages}\n          formats={formats}\n          defaultLocale=\"fr\"\n          // key={getUserLocale()} Use this if the app doesn't\n          // reload on locale change\n        >\n          {/* Make sure all errors are catched in the top-level of the app\n        can't put it higher up, because it needs\n        react-intl to display messages */}\n          <ErrorBoundary helper=\"app\">\n            <Router>\n              {/* Every route change should scroll to top,\n              which isn't automatic */}\n              <ScrollToTop>\n                <Switch>\n                  {/* LoginPage has to be above / path */}\n                  {hasLogin && (\n                    <Route exact path=\"/login\" component={LoginPage} />\n                  )}\n                  <Route\n                    path=\"/\"\n                    render={childProps =>\n                      React.cloneElement(children, childProps)\n                    }\n                  />\n                </Switch>\n              </ScrollToTop>\n            </Router>\n          </ErrorBoundary>\n        </IntlProvider>\n      </MuiThemeProvider>\n    </WrapperComponent>\n  </ErrorBoundary>\n);\n\nBaseRouter.propTypes = {\n  locale: PropTypes.string.isRequired,\n  messages: PropTypes.object.isRequired,\n  formats: PropTypes.object.isRequired,\n  children: PropTypes.node.isRequired,\n  WrapperComponent: PropTypes.any,\n  hasLogin: PropTypes.bool,\n};\n\nBaseRouter.defaultProps = {\n  WrapperComponent: React.Fragment,\n  hasLogin: true,\n};\n\nexport default BaseRouter;\n"]},"hash":"ff647cb0851cb2d8e4249d0d05d20e7ec657487b"}
