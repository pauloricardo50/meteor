{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","createClass","classCallCheck","extends","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"prop-types","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PropTypes"}]},{"source":"./LayoutError","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"LayoutError"}]},{"source":"./RootError","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"RootError"}]}],"exports":{"exported":["ErrorBoundary"],"specifiers":[{"kind":"local","local":"ErrorBoundary","exported":"default"}]}}},"options":{"filename":"imports/core/components/ErrorBoundary/ErrorBoundary.jsx","filenameRelative":"imports/core/components/ErrorBoundary/ErrorBoundary.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/components/ErrorBoundary/ErrorBoundary.jsx.map","sourceFileName":"imports/core/components/ErrorBoundary/ErrorBoundary.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"ErrorBoundary"},"ignored":false,"code":"\"use strict\";\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nmodule.export({\n  \"default\": function () {\n    function _default() {\n      return ErrorBoundary;\n    }\n\n    return _default;\n  }()\n});\n\nvar React = void 0,\n    _Component = void 0;\n\nmodule.watch(require(\"react\"), {\n  \"default\": function () {\n    function _default(v) {\n      React = v;\n    }\n\n    return _default;\n  }(),\n  Component: function () {\n    function Component(v) {\n      _Component = v;\n    }\n\n    return Component;\n  }()\n}, 0);\nvar PropTypes = void 0;\nmodule.watch(require(\"prop-types\"), {\n  \"default\": function () {\n    function _default(v) {\n      PropTypes = v;\n    }\n\n    return _default;\n  }()\n}, 1);\nvar LayoutError = void 0;\nmodule.watch(require(\"./LayoutError\"), {\n  \"default\": function () {\n    function _default(v) {\n      LayoutError = v;\n    }\n\n    return _default;\n  }()\n}, 2);\nvar RootError = void 0;\nmodule.watch(require(\"./RootError\"), {\n  \"default\": function () {\n    function _default(v) {\n      RootError = v;\n    }\n\n    return _default;\n  }()\n}, 3);\n\nvar ErrorBoundary = function (_Component2) {\n  (0, _inherits3.default)(ErrorBoundary, _Component2);\n\n  function ErrorBoundary(props) {\n    (0, _classCallCheck3.default)(this, ErrorBoundary);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (ErrorBoundary.__proto__ || Object.getPrototypeOf(ErrorBoundary)).call(this, props));\n\n    _this.state = {\n      hasError: false,\n      errorMessage: ''\n    };\n    return _this;\n  }\n\n  (0, _createClass3.default)(ErrorBoundary, [{\n    key: \"componentDidCatch\",\n    value: function () {\n      function componentDidCatch(error, info) {\n        // Error should also log to kadira\n        console.log('componentDidCatch!');\n        console.log('error: ', error);\n        console.log('info: ', info);\n        this.setState({\n          hasError: true\n        });\n      }\n\n      return componentDidCatch;\n    }() // Remove error if user switches page\n    // If it crashes again then it will simply go through componentDidCatch\n\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function () {\n      function componentWillReceiveProps(_ref) {\n        var pathname = _ref.pathname;\n\n        if (this.state.hasError && pathname !== this.props.pathname) {\n          this.setState({\n            hasError: false,\n            errorMessage: ''\n          });\n        }\n      }\n\n      return componentWillReceiveProps;\n    }()\n  }, {\n    key: \"render\",\n    value: function () {\n      function render() {\n        var _props = this.props,\n            children = _props.children,\n            helper = _props.helper;\n        var _state = this.state,\n            hasError = _state.hasError,\n            errorMessage = _state.errorMessage;\n        var errorProps = (0, _extends3.default)({}, this.props, {\n          errorMessage: errorMessage\n        });\n\n        if (hasError) {\n          switch (helper) {\n            case 'layout':\n              return React.createElement(LayoutError, errorProps);\n\n            case 'app':\n              return React.createElement(LayoutError, (0, _extends3.default)({}, errorProps, {\n                style: {\n                  width: '100%',\n                  height: '100%'\n                }\n              }));\n\n            case 'root':\n              return React.createElement(RootError, null);\n\n            default:\n              return React.createElement(\n                \"div\",\n                null,\n                \"Woops!\"\n              );\n          }\n        }\n\n        return children;\n      }\n\n      return render;\n    }()\n  }]);\n  return ErrorBoundary;\n}(_Component);\n\nErrorBoundary.propTypes = {\n  helper: PropTypes.string.isRequired,\n  pathname: PropTypes.string,\n  children: PropTypes.node.isRequired\n};\nErrorBoundary.defaultProps = {\n  pathname: undefined\n};","map":{"version":3,"sources":["imports/core/components/ErrorBoundary/ErrorBoundary.jsx"],"names":["module","export","ErrorBoundary","React","Component","watch","require","v","PropTypes","LayoutError","RootError","props","state","hasError","errorMessage","error","info","console","log","setState","pathname","children","helper","errorProps","width","height","propTypes","string","isRequired","node","defaultProps","undefined"],"mappings":"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","file":"imports/core/components/ErrorBoundary/ErrorBoundary.jsx.map","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport LayoutError from './LayoutError';\nimport RootError from './RootError';\n\nexport default class ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false, errorMessage: '' };\n  }\n\n  componentDidCatch(error, info) {\n    // Error should also log to kadira\n    console.log('componentDidCatch!');\n    console.log('error: ', error);\n    console.log('info: ', info);\n    this.setState({ hasError: true });\n  }\n\n  // Remove error if user switches page\n  // If it crashes again then it will simply go through componentDidCatch\n  componentWillReceiveProps({ pathname }) {\n    if (this.state.hasError && pathname !== this.props.pathname) {\n      this.setState({ hasError: false, errorMessage: '' });\n    }\n  }\n\n  render() {\n    const { children, helper } = this.props;\n    const { hasError, errorMessage } = this.state;\n    const errorProps = { ...this.props, errorMessage };\n\n    if (hasError) {\n      switch (helper) {\n      case 'layout':\n        return <LayoutError {...errorProps} />;\n      case 'app':\n        return (\n          <LayoutError\n            {...errorProps}\n            style={{ width: '100%', height: '100%' }}\n          />\n        );\n      case 'root':\n        return <RootError />;\n      default:\n        return <div>Woops!</div>;\n      }\n    }\n\n    return children;\n  }\n}\n\nErrorBoundary.propTypes = {\n  helper: PropTypes.string.isRequired,\n  pathname: PropTypes.string,\n  children: PropTypes.node.isRequired,\n};\n\nErrorBoundary.defaultProps = {\n  pathname: undefined,\n};\n"]},"hash":"dd93cc60331e21d41d50944656f82832e100e7d0"}
