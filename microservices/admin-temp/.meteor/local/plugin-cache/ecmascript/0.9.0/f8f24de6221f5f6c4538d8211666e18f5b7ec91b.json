{"metadata":{"usedHelpers":["extends","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"prop-types","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PropTypes"}]},{"source":"react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"React"}]},{"source":"lodash/get","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"get"}]},{"source":"../Translation","imported":["T"],"specifiers":[{"kind":"named","imported":"T","local":"T"}]},{"source":"../ZipAutoComplete","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"ZipAutoComplete"}]},{"source":"./TextInput","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"TextInput"}]},{"source":"./RadioInput","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"RadioInput"}]},{"source":"./SelectFieldInput","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"SelectFieldInput"}]},{"source":"./ConditionalInput","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"ConditionalInput"}]},{"source":"./DateInput","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"DateInput"}]},{"source":"../UploaderArray","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"UploaderArray"}]},{"source":"./ArrayInput","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"ArrayInput"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/core/components/AutoForm/AutoForm.jsx","filenameRelative":"imports/core/components/AutoForm/AutoForm.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/components/AutoForm/AutoForm.jsx.map","sourceFileName":"imports/core/components/AutoForm/AutoForm.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"AutoForm"},"ignored":false,"code":"\"use strict\";\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PropTypes = void 0;\nmodule.watch(require(\"prop-types\"), {\n  default: function _default(v) {\n    PropTypes = v;\n  }\n}, 0);\nvar React = void 0;\nmodule.watch(require(\"react\"), {\n  default: function _default(v) {\n    React = v;\n  }\n}, 1);\nvar get = void 0;\nmodule.watch(require(\"lodash/get\"), {\n  default: function _default(v) {\n    get = v;\n  }\n}, 2);\n\nvar _T = void 0;\n\nmodule.watch(require(\"../Translation\"), {\n  T: function T(v) {\n    _T = v;\n  }\n}, 3);\nvar ZipAutoComplete = void 0;\nmodule.watch(require(\"../ZipAutoComplete\"), {\n  default: function _default(v) {\n    ZipAutoComplete = v;\n  }\n}, 4);\nvar TextInput = void 0;\nmodule.watch(require(\"./TextInput\"), {\n  default: function _default(v) {\n    TextInput = v;\n  }\n}, 5);\nvar RadioInput = void 0;\nmodule.watch(require(\"./RadioInput\"), {\n  default: function _default(v) {\n    RadioInput = v;\n  }\n}, 6);\nvar SelectFieldInput = void 0;\nmodule.watch(require(\"./SelectFieldInput\"), {\n  default: function _default(v) {\n    SelectFieldInput = v;\n  }\n}, 7);\nvar ConditionalInput = void 0;\nmodule.watch(require(\"./ConditionalInput\"), {\n  default: function _default(v) {\n    ConditionalInput = v;\n  }\n}, 8);\nvar DateInput = void 0;\nmodule.watch(require(\"./DateInput\"), {\n  default: function _default(v) {\n    DateInput = v;\n  }\n}, 9);\nvar UploaderArray = void 0;\nmodule.watch(require(\"../UploaderArray\"), {\n  default: function _default(v) {\n    UploaderArray = v;\n  }\n}, 10);\nvar ArrayInput = void 0;\nmodule.watch(require(\"./ArrayInput\"), {\n  default: function _default(v) {\n    ArrayInput = v;\n  }\n}, 11);\nvar styles = {\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  subtitle: {\n    marginTop: 40\n  },\n  smallWidth: {\n    width: '100%',\n    maxWidth: 400\n  },\n  mediumWidth: {\n    width: '100%',\n    maxWidth: 600\n  },\n  fullWidth: {\n    width: '100%'\n  }\n};\n\nvar inputSwitch = function inputSwitch(childProps, index, parentProps) {\n  var _childProps$inputProp = childProps.inputProps,\n      type = _childProps$inputProp.type,\n      conditionalTrueValue = _childProps$inputProp.conditionalTrueValue,\n      style = _childProps$inputProp.style,\n      inputs = _childProps$inputProp.inputs,\n      label = _childProps$inputProp.label,\n      text = _childProps$inputProp.text,\n      component = _childProps$inputProp.component,\n      componentProps = _childProps$inputProp.componentProps,\n      height = _childProps$inputProp.height;\n\n  switch (type) {\n    case 'textInput':\n      return React.createElement(TextInput, (0, _extends3.default)({\n        multiline: false\n      }, childProps));\n\n    case 'radioInput':\n      return React.createElement(RadioInput, childProps);\n\n    case 'selectFieldInput':\n      return React.createElement(SelectFieldInput, childProps);\n\n    case 'conditionalInput':\n      return React.createElement(\n        ConditionalInput,\n        {\n          conditionalTrueValue: conditionalTrueValue,\n          key: index,\n          style: style,\n          doc: parentProps.doc\n        },\n        mapInputs(inputs[0], 0, parentProps),\n        inputs.slice(1).map(function (input, i) {\n          return mapInputs(input, i, parentProps);\n        })\n      );\n\n    case 'h3':\n      return React.createElement(\n        \"h3\",\n        {\n          style: styles.subtitle,\n          key: index\n        },\n        label\n      );\n\n    case 'h2':\n      return React.createElement(\n        \"h2\",\n        {\n          style: styles.subtitle,\n          key: index\n        },\n        label\n      );\n\n    case 'space':\n      return React.createElement(\n        \"div\",\n        {\n          style: {\n            width: '100%',\n            height: height\n          },\n          key: index\n        },\n        text\n      );\n\n    case 'dateInput':\n      return React.createElement(DateInput, childProps);\n    // case 'dropzoneInput':\n    //   return <UploaderArray {...childProps} />;\n\n    case 'arrayInput':\n      return React.createElement(ArrayInput, childProps);\n\n    case 'custom':\n      if (component === 'ZipAutoComplete') {\n        return React.createElement(ZipAutoComplete, (0, _extends3.default)({}, childProps, componentProps));\n      }\n\n      return null;\n\n    default:\n      throw new Error(type + \" is not a valid AutoForm type\");\n  }\n};\n\nvar mapInputs = function mapInputs(singleInput, index, parentProps) {\n  var childProps = (0, _extends3.default)({}, parentProps, {\n    key: index,\n    // Some inputs don't have id's, this means rendering a different form requires a re-render (or key prop on the form)\n    inputProps: (0, _extends3.default)({}, singleInput, {\n      placeholder: singleInput.placeholder || \"Forms.\" + (singleInput.intlId || singleInput.id) + \".placeholder\",\n      disabled: parentProps.disabled || singleInput.disabled,\n      currentValue: get(parentProps.doc, singleInput.id),\n      style: parentProps.fullWidth ? styles.fullWidth : styles.smallWidth,\n      required: singleInput.required !== false\n    })\n  });\n\n  if (parentProps.noPlaceholders) {\n    childProps.inputProps.placeholder = '';\n  } // Prevent undefined condition to trigger as well\n\n\n  if (childProps.inputProps.condition === false) {\n    return null;\n  }\n\n  if (childProps.inputProps.required === true) {\n    childProps.inputProps.label = React.createElement(\n      \"span\",\n      null,\n      React.createElement(_T, {\n        id: \"Forms.\" + (childProps.inputProps.intlId || childProps.inputProps.id),\n        values: childProps.inputProps.intlValues\n      }),\n      ' *'\n    );\n  } else {\n    childProps.inputProps.label = React.createElement(_T, {\n      id: \"Forms.\" + (childProps.inputProps.intlId || childProps.inputProps.id),\n      values: childProps.inputProps.intlValues\n    });\n  } // Support options that are only string/boolean ids instead of objects\n  // check for undefined because of boolean false ids\n\n\n  if (childProps.inputProps.type === 'radioInput' || childProps.inputProps.type === 'selectFieldInput') {\n    childProps.inputProps.options = childProps.inputProps.options.map(function (o) {\n      return o.id === undefined ? {\n        id: o\n      } : o;\n    });\n  } // if info is true, map it to a i18n string\n\n\n  if (childProps.inputProps.info) {\n    childProps.inputProps.info = React.createElement(_T, {\n      id: \"Forms.\" + (childProps.inputProps.intlId || childProps.inputProps.id) + \".info\"\n    });\n  }\n\n  return inputSwitch(childProps, index, parentProps);\n};\n\nvar AutoForm = function AutoForm(props) {\n  return React.createElement(\n    \"div\",\n    {\n      className: props.formClasses\n    },\n    React.createElement(\n      \"div\",\n      {\n        style: styles.form,\n        onSubmit: function onSubmit(e) {\n          return e.preventDefault();\n        }\n      },\n      props.inputs.map(function (input, i) {\n        return mapInputs(input, i, props);\n      })\n    )\n  );\n};\n\nAutoForm.propTypes = {\n  inputs: PropTypes.arrayOf(PropTypes.object).isRequired,\n  formClasses: PropTypes.string,\n  loan: PropTypes.objectOf(PropTypes.any),\n  borrowers: PropTypes.arrayOf(PropTypes.object),\n  fullWidth: PropTypes.bool,\n  docId: PropTypes.string.isRequired,\n  updateFunc: PropTypes.string,\n  pushFunc: PropTypes.string,\n  popFunc: PropTypes.string,\n  disabled: PropTypes.bool,\n  noPlaceholders: PropTypes.bool\n};\nAutoForm.defaultProps = {\n  loan: {},\n  borrowers: [],\n  fullWidth: false,\n  updateFunc: 'updateLoan',\n  pushFunc: 'pushLoanValue',\n  popFunc: 'popLoanValue',\n  disabled: false,\n  noPlaceholders: false\n};\nmodule.exportDefault(AutoForm);","map":{"version":3,"sources":["imports/core/components/AutoForm/AutoForm.jsx"],"names":["PropTypes","module","watch","require","default","v","React","get","T","ZipAutoComplete","TextInput","RadioInput","SelectFieldInput","ConditionalInput","DateInput","UploaderArray","ArrayInput","styles","form","display","flexDirection","width","justifyContent","alignItems","subtitle","marginTop","smallWidth","maxWidth","mediumWidth","fullWidth","inputSwitch","childProps","index","parentProps","inputProps","type","conditionalTrueValue","style","inputs","label","text","component","componentProps","height","doc","mapInputs","slice","map","input","i","Error","singleInput","key","placeholder","intlId","id","disabled","currentValue","required","noPlaceholders","condition","intlValues","options","o","undefined","info","AutoForm","props","formClasses","e","preventDefault","propTypes","arrayOf","object","isRequired","string","loan","objectOf","any","borrowers","bool","docId","updateFunc","pushFunc","popFunc","defaultProps","exportDefault"],"mappings":"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","file":"imports/core/components/AutoForm/AutoForm.jsx.map","sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react';\n\nimport get from 'lodash/get';\n\nimport { T } from 'core/components/Translation';\nimport ZipAutoComplete from 'core/components/ZipAutoComplete';\n\nimport TextInput from './TextInput';\nimport RadioInput from './RadioInput';\nimport SelectFieldInput from './SelectFieldInput';\nimport ConditionalInput from './ConditionalInput';\nimport DateInput from './DateInput';\nimport UploaderArray from '../UploaderArray';\nimport ArrayInput from './ArrayInput';\n\nconst styles = {\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  subtitle: {\n    marginTop: 40,\n  },\n  smallWidth: {\n    width: '100%',\n    maxWidth: 400,\n  },\n  mediumWidth: {\n    width: '100%',\n    maxWidth: 600,\n  },\n  fullWidth: {\n    width: '100%',\n  },\n};\n\nconst inputSwitch = (childProps, index, parentProps) => {\n  const {\n    type,\n    conditionalTrueValue,\n    style,\n    inputs,\n    label,\n    text,\n    component,\n    componentProps,\n    height,\n  } = childProps.inputProps;\n\n  switch (type) {\n  case 'textInput':\n    return <TextInput multiline={false} {...childProps} />;\n  case 'radioInput':\n    return <RadioInput {...childProps} />;\n  case 'selectFieldInput':\n    return <SelectFieldInput {...childProps} />;\n  case 'conditionalInput':\n    return (\n      <ConditionalInput\n        conditionalTrueValue={conditionalTrueValue}\n        key={index}\n        style={style}\n        doc={parentProps.doc}\n      >\n        {mapInputs(inputs[0], 0, parentProps)}\n        {inputs.slice(1).map((input, i) => mapInputs(input, i, parentProps))}\n      </ConditionalInput>\n    );\n  case 'h3':\n    return (\n      <h3 style={styles.subtitle} key={index}>\n        {label}\n      </h3>\n    );\n  case 'h2':\n    return (\n      <h2 style={styles.subtitle} key={index}>\n        {label}\n      </h2>\n    );\n  case 'space':\n    return (\n      <div style={{ width: '100%', height }} key={index}>\n        {text}\n      </div>\n    );\n  case 'dateInput':\n    return <DateInput {...childProps} />;\n    // case 'dropzoneInput':\n    //   return <UploaderArray {...childProps} />;\n  case 'arrayInput':\n    return <ArrayInput {...childProps} />;\n  case 'custom':\n    if (component === 'ZipAutoComplete') {\n      return <ZipAutoComplete {...childProps} {...componentProps} />;\n    }\n    return null;\n  default:\n    throw new Error(`${type} is not a valid AutoForm type`);\n  }\n};\n\nconst mapInputs = (singleInput, index, parentProps) => {\n  const childProps = {\n    ...parentProps,\n    key: index, // Some inputs don't have id's, this means rendering a different form requires a re-render (or key prop on the form)\n    inputProps: {\n      ...singleInput,\n      placeholder:\n        singleInput.placeholder ||\n        `Forms.${singleInput.intlId || singleInput.id}.placeholder`,\n      disabled: parentProps.disabled || singleInput.disabled,\n      currentValue: get(parentProps.doc, singleInput.id),\n      style: parentProps.fullWidth ? styles.fullWidth : styles.smallWidth,\n      required: singleInput.required !== false,\n    },\n  };\n\n  if (parentProps.noPlaceholders) {\n    childProps.inputProps.placeholder = '';\n  }\n\n  // Prevent undefined condition to trigger as well\n  if (childProps.inputProps.condition === false) {\n    return null;\n  }\n\n  if (childProps.inputProps.required === true) {\n    childProps.inputProps.label = (\n      <span>\n        <T\n          id={`Forms.${childProps.inputProps.intlId ||\n            childProps.inputProps.id}`}\n          values={childProps.inputProps.intlValues}\n        />\n        {' *'}\n      </span>\n    );\n  } else {\n    childProps.inputProps.label = (\n      <T\n        id={`Forms.${childProps.inputProps.intlId || childProps.inputProps.id}`}\n        values={childProps.inputProps.intlValues}\n      />\n    );\n  }\n\n  // Support options that are only string/boolean ids instead of objects\n  // check for undefined because of boolean false ids\n  if (\n    childProps.inputProps.type === 'radioInput' ||\n    childProps.inputProps.type === 'selectFieldInput'\n  ) {\n    childProps.inputProps.options = childProps.inputProps.options.map(o => (o.id === undefined ? { id: o } : o));\n  }\n\n  // if info is true, map it to a i18n string\n  if (childProps.inputProps.info) {\n    childProps.inputProps.info = (\n      <T\n        id={`Forms.${childProps.inputProps.intlId ||\n          childProps.inputProps.id}.info`}\n      />\n    );\n  }\n\n  return inputSwitch(childProps, index, parentProps);\n};\n\nconst AutoForm = props => (\n  <div className={props.formClasses}>\n    <div style={styles.form} onSubmit={e => e.preventDefault()}>\n      {props.inputs.map((input, i) => mapInputs(input, i, props))}\n    </div>\n  </div>\n);\n\nAutoForm.propTypes = {\n  inputs: PropTypes.arrayOf(PropTypes.object).isRequired,\n  formClasses: PropTypes.string,\n  loan: PropTypes.objectOf(PropTypes.any),\n  borrowers: PropTypes.arrayOf(PropTypes.object),\n  fullWidth: PropTypes.bool,\n  docId: PropTypes.string.isRequired,\n  updateFunc: PropTypes.string,\n  pushFunc: PropTypes.string,\n  popFunc: PropTypes.string,\n  disabled: PropTypes.bool,\n  noPlaceholders: PropTypes.bool,\n};\n\nAutoForm.defaultProps = {\n  loan: {},\n  borrowers: [],\n  fullWidth: false,\n  updateFunc: 'updateLoan',\n  pushFunc: 'pushLoanValue',\n  popFunc: 'popLoanValue',\n  disabled: false,\n  noPlaceholders: false,\n};\n\nexport default AutoForm;\n"]},"hash":"f8f24de6221f5f6c4538d8211666e18f5b7ec91b"}
