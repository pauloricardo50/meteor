{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"prop-types","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PropTypes"}]},{"source":"react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"React"}]},{"source":"meteor/meteor","imported":["Meteor"],"specifiers":[{"kind":"named","imported":"Meteor","local":"Meteor"}]},{"source":"../../utils/analytics","imported":["addUserTracking"],"specifiers":[{"kind":"named","imported":"addUserTracking","local":"addUserTracking"}]},{"source":"../Translation","imported":["T"],"specifiers":[{"kind":"named","imported":"T","local":"T"}]},{"source":"./Accounts","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Accounts"}]},{"source":"query-string","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"queryString"}]},{"source":"../../api","imported":["callMutation","mutations"],"specifiers":[{"kind":"named","imported":"callMutation","local":"callMutation"},{"kind":"named","imported":"mutations","local":"mutations"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/core/components/LoginPage/LoginPage.jsx","filenameRelative":"imports/core/components/LoginPage/LoginPage.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/components/LoginPage/LoginPage.jsx.map","sourceFileName":"imports/core/components/LoginPage/LoginPage.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"LoginPage"},"ignored":false,"code":"\"use strict\";\n\nvar PropTypes = void 0;\nmodule.watch(require(\"prop-types\"), {\n  \"default\": function () {\n    function _default(v) {\n      PropTypes = v;\n    }\n\n    return _default;\n  }()\n}, 0);\nvar React = void 0;\nmodule.watch(require(\"react\"), {\n  \"default\": function () {\n    function _default(v) {\n      React = v;\n    }\n\n    return _default;\n  }()\n}, 1);\n\nvar _Meteor = void 0;\n\nmodule.watch(require(\"meteor/meteor\"), {\n  Meteor: function () {\n    function Meteor(v) {\n      _Meteor = v;\n    }\n\n    return Meteor;\n  }()\n}, 2);\n\nvar _addUserTracking = void 0;\n\nmodule.watch(require(\"../../utils/analytics\"), {\n  addUserTracking: function () {\n    function addUserTracking(v) {\n      _addUserTracking = v;\n    }\n\n    return addUserTracking;\n  }()\n}, 3);\n\nvar _T = void 0;\n\nmodule.watch(require(\"../Translation\"), {\n  T: function () {\n    function T(v) {\n      _T = v;\n    }\n\n    return T;\n  }()\n}, 4);\nvar Accounts = void 0;\nmodule.watch(require(\"./Accounts\"), {\n  \"default\": function () {\n    function _default(v) {\n      Accounts = v;\n    }\n\n    return _default;\n  }()\n}, 5);\nvar queryString = void 0;\nmodule.watch(require(\"query-string\"), {\n  \"default\": function () {\n    function _default(v) {\n      queryString = v;\n    }\n\n    return _default;\n  }()\n}, 6);\n\nvar _callMutation = void 0,\n    _mutations = void 0;\n\nmodule.watch(require(\"../../api\"), {\n  callMutation: function () {\n    function callMutation(v) {\n      _callMutation = v;\n    }\n\n    return callMutation;\n  }(),\n  mutations: function () {\n    function mutations(v) {\n      _mutations = v;\n    }\n\n    return mutations;\n  }()\n}, 7);\nvar styles = {\n  section: {\n    width: '100%',\n    minHeight: 'calc(100% - 64px)',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    overflowY: 'scroll',\n    padding: '0 16px'\n  }\n};\n\nvar handlePasswordReset = function () {\n  function handlePasswordReset() {\n    console.log('resetting password (not)');\n  }\n\n  return handlePasswordReset;\n}();\n\nvar LoginPage = function () {\n  function LoginPage(_ref) {\n    var search = _ref.location.search,\n        push = _ref.history.push;\n\n    var _queryString$parse = queryString.parse(search),\n        path = _queryString$parse.path;\n\n    return React.createElement(\n      \"section\",\n      {\n        style: styles.section\n      },\n      React.createElement(\n        \"h1\",\n        null,\n        React.createElement(_T, {\n          id: \"LoginPage.title\"\n        })\n      ),\n      React.createElement(Accounts.ui.LoginForm, {\n        onSignedInHook: function () {\n          function onSignedInHook() {\n            return push(path || '/');\n          }\n\n          return onSignedInHook;\n        }(),\n        onPostSignUpHook: function () {\n          function onPostSignUpHook() {\n            push(path || '/');\n\n            _callMutation(_mutations.SEND_VERIFICATION_LINK); // Create user for analytics\n\n\n            _addUserTracking(_Meteor.userId(), {\n              email: _Meteor.user().emails[0].address,\n              id: _Meteor.userId()\n            });\n          }\n\n          return onPostSignUpHook;\n        }(),\n        onResetPasswordHook: handlePasswordReset\n      })\n    );\n  }\n\n  return LoginPage;\n}();\n\nLoginPage.propTypes = {\n  history: PropTypes.objectOf(PropTypes.any).isRequired\n};\nmodule.exportDefault(LoginPage);","map":{"version":3,"sources":["imports/core/components/LoginPage/LoginPage.jsx"],"names":["PropTypes","module","watch","require","v","React","Meteor","addUserTracking","T","Accounts","queryString","callMutation","mutations","styles","section","width","minHeight","display","alignItems","justifyContent","flexDirection","overflowY","padding","handlePasswordReset","console","log","LoginPage","search","location","push","history","parse","path","SEND_VERIFICATION_LINK","userId","email","user","emails","address","id","propTypes","objectOf","any","isRequired","exportDefault"],"mappings":"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","file":"imports/core/components/LoginPage/LoginPage.jsx.map","sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Meteor } from 'meteor/meteor';\n\nimport { addUserTracking } from '../../utils/analytics';\nimport { T } from '../Translation';\nimport Accounts from './Accounts';\nimport queryString from 'query-string';\nimport { callMutation, mutations } from 'core/api';\n\nconst styles = {\n  section: {\n    width: '100%',\n    minHeight: 'calc(100% - 64px)',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    overflowY: 'scroll',\n    padding: '0 16px',\n  },\n};\n\nconst handlePasswordReset = () => {\n  console.log('resetting password (not)');\n};\n\nconst LoginPage = ({ location: { search }, history: { push } }) => {\n  const { path } = queryString.parse(search);\n\n  return (\n    <section style={styles.section}>\n      <h1>\n        <T id=\"LoginPage.title\" />\n      </h1>\n      <Accounts.ui.LoginForm\n        onSignedInHook={() => push(path || '/')}\n        onPostSignUpHook={() => {\n          push(path || '/');\n          callMutation(mutations.SEND_VERIFICATION_LINK);\n\n          // Create user for analytics\n          addUserTracking(Meteor.userId(), {\n            email: Meteor.user().emails[0].address,\n            id: Meteor.userId(),\n          });\n        }}\n        onResetPasswordHook={handlePasswordReset}\n      />\n    </section>\n  );\n};\n\nLoginPage.propTypes = {\n  history: PropTypes.objectOf(PropTypes.any).isRequired,\n};\n\nexport default LoginPage;\n"]},"hash":"3b41866e7e5a23b9614e8ce4732096d42c7261dd"}
