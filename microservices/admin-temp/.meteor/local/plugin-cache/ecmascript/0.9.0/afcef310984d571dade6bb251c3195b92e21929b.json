{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"../../","imported":["Tasks"],"specifiers":[{"kind":"named","imported":"Tasks","local":"Tasks"}]},{"source":"../tasksConstants","imported":["TASK_QUERIES"],"specifiers":[{"kind":"named","imported":"TASK_QUERIES","local":"TASK_QUERIES"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/core/api/tasks/queries/tasks.js","filenameRelative":"imports/core/api/tasks/queries/tasks.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/api/tasks/queries/tasks.js.map","sourceFileName":"imports/core/api/tasks/queries/tasks.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"tasks"},"ignored":false,"code":"\"use strict\";\n\nvar _Tasks = void 0;\n\nmodule.watch(require(\"../../\"), {\n  Tasks: function Tasks(v) {\n    _Tasks = v;\n  }\n}, 0);\n\nvar _TASK_QUERIES = void 0;\n\nmodule.watch(require(\"../tasksConstants\"), {\n  TASK_QUERIES: function TASK_QUERIES(v) {\n    _TASK_QUERIES = v;\n  }\n}, 1);\nmodule.exportDefault(_Tasks.createQuery(_TASK_QUERIES.TASKS, {\n  $filter: function $filter(_ref) {\n    var filters = _ref.filters,\n        options = _ref.options,\n        params = _ref.params;\n    console.log(params);\n\n    if (params.assignedTo) {\n      filters.assignedTo = params.assignedTo;\n    }\n\n    if (params.unassigned) {\n      filters.assignedTo = undefined;\n    }\n\n    if (params.dashboardTasks) {\n      filters.assignedTo = {\n        $in: [params.assignedTo, undefined]\n      };\n    }\n  },\n  $options: {\n    sort: {\n      createdAt: -1\n    }\n  },\n  $paginate: true,\n  status: 1,\n  type: 1,\n  createdAt: 1,\n  updatedAt: 1,\n  dueAt: 1,\n  assignedUser: {\n    emails: 1,\n    roles: 1,\n    username: 1\n  },\n  user: {\n    emails: 1,\n    username: 1\n  },\n  borrower: {\n    user: {\n      assignedTo: 1\n    }\n  },\n  loan: {\n    user: {\n      assignedTo: 1\n    }\n  },\n  property: {\n    user: {\n      assignedTo: 1\n    }\n  },\n  userId: 1\n}));","map":{"version":3,"sources":["imports/core/api/tasks/queries/tasks.js"],"names":["Tasks","module","watch","require","v","TASK_QUERIES","exportDefault","createQuery","TASKS","$filter","filters","options","params","console","log","assignedTo","unassigned","undefined","dashboardTasks","$in","$options","sort","createdAt","$paginate","status","type","updatedAt","dueAt","assignedUser","emails","roles","username","user","borrower","loan","property","userId"],"mappings":";;AAAA,IAAIA,eAAJ;;AAAUC,OAAOC,KAAP,CAAaC,QAAQ,QAAR,CAAb,EAA+B;AAACH,OAAD,iBAAOI,CAAP,EAAS;AAACJ,aAAMI,CAAN;AAAQ;AAAlB,CAA/B,EAAmD,CAAnD;;AAAsD,IAAIC,sBAAJ;;AAAiBJ,OAAOC,KAAP,CAAaC,QAAQ,mBAAR,CAAb,EAA0C;AAACE,cAAD,wBAAcD,CAAd,EAAgB;AAACC,oBAAaD,CAAb;AAAe;AAAhC,CAA1C,EAA4E,CAA5E;AAAjFH,OAAOK,aAAP,CAGeN,OAAMO,WAAN,CAAkBF,cAAaG,KAA/B,EAAsC;AACnDC,SADmD,yBACb;AAAA,QAA5BC,OAA4B,QAA5BA,OAA4B;AAAA,QAAnBC,OAAmB,QAAnBA,OAAmB;AAAA,QAAVC,MAAU,QAAVA,MAAU;AACtCC,YAAQC,GAAR,CAAYF,MAAZ;;AAEE,QAAIA,OAAOG,UAAX,EAAuB;AACrBL,cAAQK,UAAR,GAAqBH,OAAOG,UAA5B;AACD;;AACD,QAAIH,OAAOI,UAAX,EAAuB;AACrBN,cAAQK,UAAR,GAAqBE,SAArB;AACD;;AACD,QAAIL,OAAOM,cAAX,EAA2B;AACzBR,cAAQK,UAAR,GAAqB;AAAEI,aAAK,CAACP,OAAOG,UAAR,EAAoBE,SAApB;AAAP,OAArB;AACD;AACF,GAbkD;AAcnDG,YAAU;AACRC,UAAM;AACJC,iBAAW,CAAC;AADR;AADE,GAdyC;AAmBnDC,aAAW,IAnBwC;AAoBnDC,UAAQ,CApB2C;AAqBnDC,QAAM,CArB6C;AAsBnDH,aAAW,CAtBwC;AAuBnDI,aAAW,CAvBwC;AAwBnDC,SAAO,CAxB4C;AAyBnDC,gBAAc;AACZC,YAAQ,CADI;AAEZC,WAAO,CAFK;AAGZC,cAAU;AAHE,GAzBqC;AA8BnDC,QAAM;AACJH,YAAQ,CADJ;AAEJE,cAAU;AAFN,GA9B6C;AAkCnDE,YAAU;AACRD,UAAM;AACJjB,kBAAY;AADR;AADE,GAlCyC;AAuCnDmB,QAAM;AACJF,UAAM;AACJjB,kBAAY;AADR;AADF,GAvC6C;AA4CnDoB,YAAU;AACRH,UAAM;AACJjB,kBAAY;AADR;AADE,GA5CyC;AAiDnDqB,UAAQ;AAjD2C,CAAtC,CAHf","file":"imports/core/api/tasks/queries/tasks.js.map","sourcesContent":["import { Tasks } from '../../';\nimport { TASK_QUERIES } from '../tasksConstants';\n\nexport default Tasks.createQuery(TASK_QUERIES.TASKS, {\n  $filter({ filters, options, params }) {\n  console.log(params);\n    \n    if (params.assignedTo) {\n      filters.assignedTo = params.assignedTo;\n    }\n    if (params.unassigned) {\n      filters.assignedTo = undefined;\n    }\n    if (params.dashboardTasks) {\n      filters.assignedTo = { $in: [params.assignedTo, undefined] };\n    }\n  },\n  $options: {\n    sort: {\n      createdAt: -1,\n    },\n  },\n  $paginate: true,\n  status: 1,\n  type: 1,\n  createdAt: 1,\n  updatedAt: 1,\n  dueAt: 1,\n  assignedUser: {\n    emails: 1,\n    roles: 1,\n    username: 1,\n  },\n  user: {\n    emails: 1,\n    username: 1,\n  },\n  borrower: {\n    user: {\n      assignedTo: 1,\n    },\n  },\n  loan: {\n    user: {\n      assignedTo: 1,\n    },\n  },\n  property: {\n    user: {\n      assignedTo: 1,\n    },\n  },\n  userId: 1,\n});\n"]},"hash":"afcef310984d571dade6bb251c3195b92e21929b"}
