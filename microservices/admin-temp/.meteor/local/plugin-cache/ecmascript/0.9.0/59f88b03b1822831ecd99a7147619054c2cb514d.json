{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"React"}]},{"source":"./defaults","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"defaults"}]},{"source":"meteor/react-meteor-data","imported":["withTracker"],"specifiers":[{"kind":"named","imported":"withTracker","local":"withTracker"}]},{"source":"./lib/withReactiveQuery","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"withReactiveQuery"}]},{"source":"./lib/withQueryContainer","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"withQueryContainer"}]},{"source":"./lib/withStaticQuery","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"withStaticQuery"}]},{"source":"./lib/checkOptions","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"checkOptions"}]}],"exports":{"exported":["handler","_config"],"specifiers":[{"kind":"local","local":"handler","exported":"default"},{"kind":"local","local":"_config","exported":"default"}]}}},"options":{"filename":"packages/cultofcoders:grapher-react/withQuery.js","filenameRelative":"packages/cultofcoders:grapher-react/withQuery.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"packages/cultofcoders:grapher-react/withQuery.js.map","sourceFileName":"packages/cultofcoders:grapher-react/withQuery.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"withQuery"},"ignored":false,"code":"let React;\nmodule.watch(require(\"react\"), {\n    default(v) {\n        React = v;\n    }\n\n}, 0);\nlet defaults;\nmodule.watch(require(\"./defaults\"), {\n    default(v) {\n        defaults = v;\n    }\n\n}, 1);\nlet withTracker;\nmodule.watch(require(\"meteor/react-meteor-data\"), {\n    withTracker(v) {\n        withTracker = v;\n    }\n\n}, 2);\nlet withReactiveQuery;\nmodule.watch(require(\"./lib/withReactiveQuery\"), {\n    default(v) {\n        withReactiveQuery = v;\n    }\n\n}, 3);\nlet withQueryContainer;\nmodule.watch(require(\"./lib/withQueryContainer\"), {\n    default(v) {\n        withQueryContainer = v;\n    }\n\n}, 4);\nlet withStaticQuery;\nmodule.watch(require(\"./lib/withStaticQuery\"), {\n    default(v) {\n        withStaticQuery = v;\n    }\n\n}, 5);\nlet checkOptions;\nmodule.watch(require(\"./lib/checkOptions\"), {\n    default(v) {\n        checkOptions = v;\n    }\n\n}, 6);\nmodule.exportDefault(function (handler, _config = {}) {\n    checkOptions(_config);\n    const config = Object.assign({}, defaults, _config);\n    return function (component) {\n        const queryContainer = withQueryContainer(component);\n\n        if (!config.reactive) {\n            const staticQueryContainer = withStaticQuery(queryContainer);\n            return function (props) {\n                const query = handler(props);\n                return React.createElement(staticQueryContainer, {\n                    query,\n                    props,\n                    config\n                });\n            };\n        } else {\n            return withReactiveQuery(handler, config, queryContainer);\n        }\n    };\n});","map":{"version":3,"sources":["packages/cultofcoders:grapher-react/withQuery.js"],"names":["React","module","watch","require","default","v","defaults","withTracker","withReactiveQuery","withQueryContainer","withStaticQuery","checkOptions","exportDefault","handler","_config","config","Object","assign","component","queryContainer","reactive","staticQueryContainer","props","query","createElement"],"mappings":"AAAA,IAAIA,KAAJ;AAAUC,OAAOC,KAAP,CAAaC,QAAQ,OAAR,CAAb,EAA8B;AAACC,YAAQC,CAAR,EAAU;AAACL,gBAAMK,CAAN;AAAQ;;AAApB,CAA9B,EAAoD,CAApD;AAAuD,IAAIC,QAAJ;AAAaL,OAAOC,KAAP,CAAaC,QAAQ,YAAR,CAAb,EAAmC;AAACC,YAAQC,CAAR,EAAU;AAACC,mBAASD,CAAT;AAAW;;AAAvB,CAAnC,EAA4D,CAA5D;AAA+D,IAAIE,WAAJ;AAAgBN,OAAOC,KAAP,CAAaC,QAAQ,0BAAR,CAAb,EAAiD;AAACI,gBAAYF,CAAZ,EAAc;AAACE,sBAAYF,CAAZ;AAAc;;AAA9B,CAAjD,EAAiF,CAAjF;AAAoF,IAAIG,iBAAJ;AAAsBP,OAAOC,KAAP,CAAaC,QAAQ,yBAAR,CAAb,EAAgD;AAACC,YAAQC,CAAR,EAAU;AAACG,4BAAkBH,CAAlB;AAAoB;;AAAhC,CAAhD,EAAkF,CAAlF;AAAqF,IAAII,kBAAJ;AAAuBR,OAAOC,KAAP,CAAaC,QAAQ,0BAAR,CAAb,EAAiD;AAACC,YAAQC,CAAR,EAAU;AAACI,6BAAmBJ,CAAnB;AAAqB;;AAAjC,CAAjD,EAAoF,CAApF;AAAuF,IAAIK,eAAJ;AAAoBT,OAAOC,KAAP,CAAaC,QAAQ,uBAAR,CAAb,EAA8C;AAACC,YAAQC,CAAR,EAAU;AAACK,0BAAgBL,CAAhB;AAAkB;;AAA9B,CAA9C,EAA8E,CAA9E;AAAiF,IAAIM,YAAJ;AAAiBV,OAAOC,KAAP,CAAaC,QAAQ,oBAAR,CAAb,EAA2C;AAACC,YAAQC,CAAR,EAAU;AAACM,uBAAaN,CAAb;AAAe;;AAA3B,CAA3C,EAAwE,CAAxE;AAAhkBJ,OAAOW,aAAP,CAQe,UAAUC,OAAV,EAAmBC,UAAU,EAA7B,EAAiC;AAC5CH,iBAAaG,OAAb;AACA,UAAMC,SAASC,OAAOC,MAAP,CAAc,EAAd,EAAkBX,QAAlB,EAA4BQ,OAA5B,CAAf;AAEA,WAAO,UAAUI,SAAV,EAAqB;AACxB,cAAMC,iBAAiBV,mBAAmBS,SAAnB,CAAvB;;AAEA,YAAI,CAACH,OAAOK,QAAZ,EAAsB;AAClB,kBAAMC,uBAAuBX,gBAAgBS,cAAhB,CAA7B;AAEA,mBAAO,UAAUG,KAAV,EAAiB;AACpB,sBAAMC,QAAQV,QAAQS,KAAR,CAAd;AAEA,uBAAOtB,MAAMwB,aAAN,CAAoBH,oBAApB,EAA0C;AAC7CE,yBAD6C;AAE7CD,yBAF6C;AAG7CP;AAH6C,iBAA1C,CAAP;AAKH,aARD;AASH,SAZD,MAYO;AACH,mBAAOP,kBAAkBK,OAAlB,EAA2BE,MAA3B,EAAmCI,cAAnC,CAAP;AACH;AACJ,KAlBD;AAmBH,CA/BD","file":"packages/cultofcoders:grapher-react/withQuery.js.map","sourcesContent":["import React from 'react';\nimport defaults from './defaults';\nimport {withTracker} from 'meteor/react-meteor-data';\nimport withReactiveQuery from './lib/withReactiveQuery';\nimport withQueryContainer from './lib/withQueryContainer';\nimport withStaticQuery from './lib/withStaticQuery';\nimport checkOptions from './lib/checkOptions';\n\nexport default function (handler, _config = {}) {\n    checkOptions(_config);\n    const config = Object.assign({}, defaults, _config);\n\n    return function (component) {\n        const queryContainer = withQueryContainer(component);\n\n        if (!config.reactive) {\n            const staticQueryContainer = withStaticQuery(queryContainer);\n\n            return function (props) {\n                const query = handler(props);\n\n                return React.createElement(staticQueryContainer, {\n                    query,\n                    props,\n                    config\n                })\n            }\n        } else {\n            return withReactiveQuery(handler, config, queryContainer);\n        }\n    };\n}"]},"hash":"59f88b03b1822831ecd99a7147619054c2cb514d"}
