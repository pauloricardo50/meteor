{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"../","imported":["Tasks","Users","Loans","Borrowers","Properties"],"specifiers":[{"kind":"named","imported":"Tasks","local":"Tasks"},{"kind":"named","imported":"Users","local":"Users"},{"kind":"named","imported":"Loans","local":"Loans"},{"kind":"named","imported":"Borrowers","local":"Borrowers"},{"kind":"named","imported":"Properties","local":"Properties"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/core/api/tasks/links.js","filenameRelative":"imports/core/api/tasks/links.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/api/tasks/links.js.map","sourceFileName":"imports/core/api/tasks/links.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"links"},"ignored":false,"code":"\"use strict\";\n\nvar _Tasks = void 0,\n    _Users = void 0,\n    _Loans = void 0,\n    _Borrowers = void 0,\n    _Properties = void 0;\n\nmodule.watch(require(\"../\"), {\n  Tasks: function () {\n    function Tasks(v) {\n      _Tasks = v;\n    }\n\n    return Tasks;\n  }(),\n  Users: function () {\n    function Users(v) {\n      _Users = v;\n    }\n\n    return Users;\n  }(),\n  Loans: function () {\n    function Loans(v) {\n      _Loans = v;\n    }\n\n    return Loans;\n  }(),\n  Borrowers: function () {\n    function Borrowers(v) {\n      _Borrowers = v;\n    }\n\n    return Borrowers;\n  }(),\n  Properties: function () {\n    function Properties(v) {\n      _Properties = v;\n    }\n\n    return Properties;\n  }()\n}, 0);\n\n_Tasks.addLinks({\n  assignedUser: {\n    field: 'assignedTo',\n    collection: _Users,\n    type: 'one'\n  },\n  loan: {\n    field: 'loanId',\n    collection: _Loans,\n    type: 'one'\n  },\n  property: {\n    field: 'propertyId',\n    collection: _Properties,\n    type: 'one'\n  },\n  borrower: {\n    field: 'borrowerId',\n    collection: _Borrowers,\n    type: 'one'\n  },\n  user: {\n    field: 'userId',\n    collection: _Users,\n    type: 'one'\n  }\n});\n\n_Tasks.addReducers({\n  relatedToLoan: {\n    body: {\n      borrower: {\n        _id: 1\n      },\n      loan: {\n        _id: 1\n      },\n      property: {\n        _id: 1\n      }\n    },\n    reduce: function () {\n      function reduce(task, params) {\n        console.log(params);\n        return task.loanId === params.loanId || task.propertyId === params.propertyId;\n      }\n\n      return reduce;\n    }()\n  }\n});","map":{"version":3,"sources":["imports/core/api/tasks/links.js"],"names":["Tasks","Users","Loans","Borrowers","Properties","module","watch","require","v","addLinks","assignedUser","field","collection","type","loan","property","borrower","user","addReducers","relatedToLoan","body","_id","reduce","task","params","console","log","loanId","propertyId"],"mappings":";;AAAA,IAAIA,eAAJ;AAAA,IAAUC,eAAV;AAAA,IAAgBC,eAAhB;AAAA,IAAsBC,mBAAtB;AAAA,IAAgCC,oBAAhC;;AAA2CC,OAAOC,KAAP,CAAaC,QAAQ,KAAR,CAAb,EAA4B;AAACP,OAAD;AAAA,mBAAOQ,CAAP,EAAS;AAACR,eAAMQ,CAAN;AAAQ;;AAAlB;AAAA;AAAmBP,OAAnB;AAAA,mBAAyBO,CAAzB,EAA2B;AAACP,eAAMO,CAAN;AAAQ;;AAApC;AAAA;AAAqCN,OAArC;AAAA,mBAA2CM,CAA3C,EAA6C;AAACN,eAAMM,CAAN;AAAQ;;AAAtD;AAAA;AAAuDL,WAAvD;AAAA,uBAAiEK,CAAjE,EAAmE;AAACL,mBAAUK,CAAV;AAAY;;AAAhF;AAAA;AAAiFJ,YAAjF;AAAA,wBAA4FI,CAA5F,EAA8F;AAACJ,oBAAWI,CAAX;AAAa;;AAA5G;AAAA;AAAA,CAA5B,EAA0I,CAA1I;;AAE3CR,OAAMS,QAAN,CAAe;AACbC,gBAAc;AACZC,WAAO,YADK;AAEZC,gBAAYX,MAFA;AAGZY,UAAM;AAHM,GADD;AAObC,QAAM;AACJH,WAAO,QADH;AAEJC,gBAAYV,MAFR;AAGJW,UAAM;AAHF,GAPO;AAabE,YAAU;AACRJ,WAAO,YADC;AAERC,gBAAYR,WAFJ;AAGRS,UAAM;AAHE,GAbG;AAmBbG,YAAU;AACRL,WAAO,YADC;AAERC,gBAAYT,UAFJ;AAGRU,UAAM;AAHE,GAnBG;AAyBbI,QAAM;AACJN,WAAO,QADH;AAEJC,gBAAYX,MAFR;AAGJY,UAAM;AAHF;AAzBO,CAAf;;AAgCAb,OAAMkB,WAAN,CAAkB;AAChBC,iBAAe;AACbC,UAAM;AACJJ,gBAAU;AAAEK,aAAK;AAAP,OADN;AAEJP,YAAM;AAAEO,aAAK;AAAP,OAFF;AAGJN,gBAAU;AAAEM,aAAK;AAAP;AAHN,KADO;AAMbC,UANa;AAAA,sBAMNC,IANM,EAMAC,MANA,EAMQ;AACnBC,gBAAQC,GAAR,CAAYF,MAAZ;AACA,eACED,KAAKI,MAAL,KAAgBH,OAAOG,MAAvB,IAAiCJ,KAAKK,UAAL,KAAoBJ,OAAOI,UAD9D;AAGD;;AAXY;AAAA;AAAA;AADC,CAAlB","file":"imports/core/api/tasks/links.js.map","sourcesContent":["import { Tasks, Users, Loans, Borrowers, Properties } from '../';\n\nTasks.addLinks({\n  assignedUser: {\n    field: 'assignedTo',\n    collection: Users,\n    type: 'one',\n  },\n\n  loan: {\n    field: 'loanId',\n    collection: Loans,\n    type: 'one',\n  },\n\n  property: {\n    field: 'propertyId',\n    collection: Properties,\n    type: 'one',\n  },\n\n  borrower: {\n    field: 'borrowerId',\n    collection: Borrowers,\n    type: 'one',\n  },\n\n  user: {\n    field: 'userId',\n    collection: Users,\n    type: 'one',\n  },\n});\n\nTasks.addReducers({\n  relatedToLoan: {\n    body: {\n      borrower: { _id: 1 },\n      loan: { _id: 1 },\n      property: { _id: 1 },\n    },\n    reduce(task, params) {\n      console.log(params);\n      return (\n        task.loanId === params.loanId || task.propertyId === params.propertyId\n      );\n    },\n  },\n});\n"]},"hash":"6f177c61fae16c47e2bf6ce72ead457a6dd2f029"}
