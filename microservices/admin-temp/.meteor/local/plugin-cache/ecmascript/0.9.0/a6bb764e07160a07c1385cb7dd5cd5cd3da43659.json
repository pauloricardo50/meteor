{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"../../utils/loanFunctions","imported":["getLoanValue","getPropAndWork"],"specifiers":[{"kind":"named","imported":"getLoanValue","local":"getLoanValue"},{"kind":"named","imported":"getPropAndWork","local":"getPropAndWork"}]}],"exports":{"exported":["getRandomOffer"],"specifiers":[{"kind":"local","local":"getRandomOffer","exported":"getRandomOffer"}]}}},"options":{"filename":"imports/core/api/offers/fakes.js","filenameRelative":"imports/core/api/offers/fakes.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/api/offers/fakes.js.map","sourceFileName":"imports/core/api/offers/fakes.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"fakes"},"ignored":false,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nmodule.export({\n  getRandomOffer: function () {\n    function getRandomOffer() {\n      return _getRandomOffer;\n    }\n\n    return getRandomOffer;\n  }()\n});\n\nvar _getLoanValue = void 0,\n    _getPropAndWork = void 0;\n\nmodule.watch(require(\"../../utils/loanFunctions\"), {\n  getLoanValue: function () {\n    function getLoanValue(v) {\n      _getLoanValue = v;\n    }\n\n    return getLoanValue;\n  }(),\n  getPropAndWork: function () {\n    function getPropAndWork(v) {\n      _getPropAndWork = v;\n    }\n\n    return getPropAndWork;\n  }()\n}, 0);\n\nvar getRandomCondition = function () {\n  function getRandomCondition() {\n    var conditions = ['Expertise additionelle requise', '', '', '', '', '', '', '', ''];\n    return conditions[Math.floor(Math.random() * conditions.length)];\n  }\n\n  return getRandomCondition;\n}();\n\nvar getRandomCounterpart = function () {\n  function getRandomCounterpart() {\n    var counterparts = ['Gestion de toute la fortune', 'Souscrire à une assurance vie', \"Gestion de CHF 100'000 de patrimoine minimum\", 'Souscrire à une assurance voiture', '', '', '', '', '', '', '', ''];\n    return counterparts[Math.floor(Math.random() * counterparts.length)];\n  }\n\n  return getRandomCounterpart;\n}();\n\nvar round = function () {\n  function round(v) {\n    return Math.round(v * 10000) / 10000;\n  }\n\n  return round;\n}();\n\nexports.getRandomOffer = _getRandomOffer;\n\nvar rand = function () {\n  function rand(min, max) {\n    return round(Math.random() * (max - min) + min);\n  }\n\n  return rand;\n}();\n\nvar _getRandomOffer = function () {\n  function _getRandomOffer(_ref) {\n    var loan = _ref.loan,\n        property = _ref.property;\n    var matchLoanWanted = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var rate1 = rand(0.007, 0.012);\n    var rate2 = rand(0.005, 0.009); // Randomly add rank 1 offers 25% of the time\n\n    var loanWanted = Math.random() > 0.75 && !matchLoanWanted ? 0.65 * _getPropAndWork({\n      loan: loan,\n      property: property\n    }) : _getLoanValue({\n      loan: loan,\n      property: property\n    });\n    var counterpart = getRandomCounterpart();\n    var condition = getRandomCondition();\n    return {\n      organization: 'fake',\n      canton: 'GE',\n      loanId: loan._id,\n      auctionEndTime: new Date(),\n      isSwiss: true,\n      worksForOwnCompany: true,\n      standardOffer: {\n        maxAmount: loanWanted,\n        amortization: 0.01,\n        interestLibor: rate1,\n        interest1: round(rate1 + rand(0.0004, 0.0016)),\n        interest2: round(rate1 + rand(0.0016, 0.004)),\n        interest5: round(rate1 + rand(0.004, 0.006)),\n        interest10: round(rate1 + rand(0.006, 0.01))\n      },\n      counterpartOffer: {\n        maxAmount: loanWanted,\n        amortization: 0.01,\n        interestLibor: rate2,\n        interest1: round(rate2 + rand(0.0004, 0.0016)),\n        interest2: round(rate2 + rand(0.0016, 0.004)),\n        interest5: round(rate2 + rand(0.004, 0.006)),\n        interest10: round(rate2 + rand(0.006, 0.01))\n      },\n      counterparts: counterpart ? [counterpart] : [],\n      conditions: condition ? [condition] : []\n    };\n  }\n\n  return _getRandomOffer;\n}();","map":{"version":3,"sources":["imports/core/api/offers/fakes.js"],"names":["module","export","getRandomOffer","getLoanValue","getPropAndWork","watch","require","v","getRandomCondition","conditions","Math","floor","random","length","getRandomCounterpart","counterparts","round","rand","min","max","loan","property","matchLoanWanted","rate1","rate2","loanWanted","counterpart","condition","organization","canton","loanId","_id","auctionEndTime","Date","isSwiss","worksForOwnCompany","standardOffer","maxAmount","amortization","interestLibor","interest1","interest2","interest5","interest10","counterpartOffer"],"mappings":"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","file":"imports/core/api/offers/fakes.js.map","sourcesContent":["import { getLoanValue, getPropAndWork } from 'core/utils/loanFunctions';\n\nconst getRandomCondition = () => {\n  const conditions = [\n    'Expertise additionelle requise',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n  ];\n\n  return conditions[Math.floor(Math.random() * conditions.length)];\n};\n\nconst getRandomCounterpart = () => {\n  const counterparts = [\n    'Gestion de toute la fortune',\n    'Souscrire à une assurance vie',\n    \"Gestion de CHF 100'000 de patrimoine minimum\",\n    'Souscrire à une assurance voiture',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n  ];\n\n  return counterparts[Math.floor(Math.random() * counterparts.length)];\n};\n\nconst round = v => Math.round(v * 10000) / 10000;\n\nconst rand = (min, max) => round(Math.random() * (max - min) + min);\n\nexport const getRandomOffer = ({ loan, property }, matchLoanWanted = false) => {\n  const rate1 = rand(0.007, 0.012);\n  const rate2 = rand(0.005, 0.009);\n\n  // Randomly add rank 1 offers 25% of the time\n  const loanWanted =\n    Math.random() > 0.75 && !matchLoanWanted\n      ? 0.65 * getPropAndWork({ loan, property })\n      : getLoanValue({ loan, property });\n\n  const counterpart = getRandomCounterpart();\n  const condition = getRandomCondition();\n\n  return {\n    organization: 'fake',\n    canton: 'GE',\n    loanId: loan._id,\n    auctionEndTime: new Date(),\n    isSwiss: true,\n    worksForOwnCompany: true,\n    standardOffer: {\n      maxAmount: loanWanted,\n      amortization: 0.01,\n      interestLibor: rate1,\n      interest1: round(rate1 + rand(0.0004, 0.0016)),\n      interest2: round(rate1 + rand(0.0016, 0.004)),\n      interest5: round(rate1 + rand(0.004, 0.006)),\n      interest10: round(rate1 + rand(0.006, 0.01)),\n    },\n    counterpartOffer: {\n      maxAmount: loanWanted,\n      amortization: 0.01,\n      interestLibor: rate2,\n      interest1: round(rate2 + rand(0.0004, 0.0016)),\n      interest2: round(rate2 + rand(0.0016, 0.004)),\n      interest5: round(rate2 + rand(0.004, 0.006)),\n      interest10: round(rate2 + rand(0.006, 0.01)),\n    },\n    counterparts: counterpart ? [counterpart] : [],\n    conditions: condition ? [condition] : [],\n  };\n};\n"]},"hash":"a6bb764e07160a07c1385cb7dd5cd5cd3da43659"}
