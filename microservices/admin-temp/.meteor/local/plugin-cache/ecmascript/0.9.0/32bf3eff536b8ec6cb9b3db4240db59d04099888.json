{"metadata":{"usedHelpers":["objectWithoutProperties","defineProperty","extends","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"React"}]},{"source":"prop-types","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PropTypes"}]},{"source":"react-intl","imported":["injectIntl"],"specifiers":[{"kind":"named","imported":"injectIntl","local":"injectIntl"}]},{"source":"react-text-mask","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"MaskedInput"}]},{"source":"material-ui/Input","imported":["default","InputLabel"],"specifiers":[{"kind":"named","imported":"default","local":"Input"},{"kind":"named","imported":"InputLabel","local":"InputLabel"}]},{"source":"material-ui/Form","imported":["FormControl","FormHelperText"],"specifiers":[{"kind":"named","imported":"FormControl","local":"FormControl"},{"kind":"named","imported":"FormHelperText","local":"FormHelperText"}]},{"source":"classnames","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"classnames"}]},{"source":"../utils/textMasks","imported":["swissFrancMask","percentMask"],"specifiers":[{"kind":"named","imported":"swissFrancMask","local":"swissFrancMask"},{"kind":"named","imported":"percentMask","local":"percentMask"}]},{"source":"../utils/conversionFunctions","imported":["toNumber"],"specifiers":[{"kind":"named","imported":"toNumber","local":"toNumber"}]},{"source":"../config/constants","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"constants"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/core/components/TextInput.jsx","filenameRelative":"imports/core/components/TextInput.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/components/TextInput.jsx.map","sourceFileName":"imports/core/components/TextInput.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"TextInput"},"ignored":false,"code":"\"use strict\";\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _defineProperty2 = require(\"babel-runtime/helpers/defineProperty\");\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _objectWithoutProperties2 = require(\"babel-runtime/helpers/objectWithoutProperties\");\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React = void 0;\nmodule.watch(require(\"react\"), {\n  \"default\": function () {\n    function _default(v) {\n      React = v;\n    }\n\n    return _default;\n  }()\n}, 0);\nvar PropTypes = void 0;\nmodule.watch(require(\"prop-types\"), {\n  \"default\": function () {\n    function _default(v) {\n      PropTypes = v;\n    }\n\n    return _default;\n  }()\n}, 1);\n\nvar _injectIntl = void 0;\n\nmodule.watch(require(\"react-intl\"), {\n  injectIntl: function () {\n    function injectIntl(v) {\n      _injectIntl = v;\n    }\n\n    return injectIntl;\n  }()\n}, 2);\nvar MaskedInput = void 0;\nmodule.watch(require(\"react-text-mask\"), {\n  \"default\": function () {\n    function _default(v) {\n      MaskedInput = v;\n    }\n\n    return _default;\n  }()\n}, 3);\n\nvar Input = void 0,\n    _InputLabel = void 0;\n\nmodule.watch(require(\"material-ui/Input\"), {\n  \"default\": function () {\n    function _default(v) {\n      Input = v;\n    }\n\n    return _default;\n  }(),\n  InputLabel: function () {\n    function InputLabel(v) {\n      _InputLabel = v;\n    }\n\n    return InputLabel;\n  }()\n}, 4);\n\nvar _FormControl = void 0,\n    _FormHelperText = void 0;\n\nmodule.watch(require(\"material-ui/Form\"), {\n  FormControl: function () {\n    function FormControl(v) {\n      _FormControl = v;\n    }\n\n    return FormControl;\n  }(),\n  FormHelperText: function () {\n    function FormHelperText(v) {\n      _FormHelperText = v;\n    }\n\n    return FormHelperText;\n  }()\n}, 5);\nvar classnames = void 0;\nmodule.watch(require(\"classnames\"), {\n  \"default\": function () {\n    function _default(v) {\n      classnames = v;\n    }\n\n    return _default;\n  }()\n}, 6);\n\nvar _swissFrancMask = void 0,\n    _percentMask = void 0;\n\nmodule.watch(require(\"../utils/textMasks\"), {\n  swissFrancMask: function () {\n    function swissFrancMask(v) {\n      _swissFrancMask = v;\n    }\n\n    return swissFrancMask;\n  }(),\n  percentMask: function () {\n    function percentMask(v) {\n      _percentMask = v;\n    }\n\n    return percentMask;\n  }()\n}, 7);\n\nvar _toNumber = void 0;\n\nmodule.watch(require(\"../utils/conversionFunctions\"), {\n  toNumber: function () {\n    function toNumber(v) {\n      _toNumber = v;\n    }\n\n    return toNumber;\n  }()\n}, 8);\nvar constants = void 0;\nmodule.watch(require(\"../config/constants\"), {\n  \"default\": function () {\n    function _default(v) {\n      constants = v;\n    }\n\n    return _default;\n  }()\n}, 9);\n\nvar getDefaults = function () {\n  function getDefaults(_ref) {\n    var type = _ref.type,\n        id = _ref.id,\n        onChange = _ref.onChange,\n        value = _ref.value;\n\n    switch (type) {\n      case 'money':\n        return {\n          onChangeHandler: function () {\n            function onChangeHandler(event) {\n              return onChange(id, _toNumber(event.target.value));\n            }\n\n            return onChangeHandler;\n          }(),\n          showMask: true,\n          mask: _swissFrancMask,\n          placeholder: constants.getCurrency(),\n          value: value\n        };\n\n      case 'percent':\n        return {\n          onChangeHandler: function () {\n            function onChangeHandler(event) {\n              return onChange(id, Math.round(parseFloat(event.target.value) * 100) / 10000);\n            }\n\n            return onChangeHandler;\n          }(),\n          showMask: true,\n          mask: _percentMask,\n          placeholder: '%',\n          value: (value * 100).toFixed(2)\n        };\n\n      case 'number':\n        return {\n          onChangeHandler: function () {\n            function onChangeHandler(event) {\n              return onChange(id, _toNumber(event.target.value));\n            }\n\n            return onChangeHandler;\n          }(),\n          showMask: false,\n          value: value\n        };\n\n      case 'date':\n        return {\n          onChangeHandler: undefined,\n          showMask: false,\n          value: ''\n        };\n\n      default:\n        return {\n          // Pass event as third argument, for some components which need it\n          // like react-autosuggest\n          onChangeHandler: function () {\n            function onChangeHandler(event) {\n              return onChange(id, event.target.value, event);\n            }\n\n            return onChangeHandler;\n          }(),\n          showMask: false,\n          value: value\n        };\n    }\n  }\n\n  return getDefaults;\n}();\n\nvar TextInput = function () {\n  function TextInput(props) {\n    var className = props.className,\n        label = props.label,\n        style = props.style,\n        labelStyle = props.labelStyle,\n        id = props.id,\n        info = props.info,\n        error = props.error,\n        inputRef = props.inputRef,\n        placeholder = props.placeholder,\n        fullWidth = props.fullWidth,\n        onChange = props.onChange,\n        intl = props.intl,\n        inputComponent = props.inputComponent,\n        inputProps = props.inputProps,\n        InputProps = props.InputProps,\n        noIntl = props.noIntl,\n        classes = props.classes,\n        otherProps = (0, _objectWithoutProperties3.default)(props, [\"className\", \"label\", \"style\", \"labelStyle\", \"id\", \"info\", \"error\", \"inputRef\", \"placeholder\", \"fullWidth\", \"onChange\", \"intl\", \"inputComponent\", \"inputProps\", \"InputProps\", \"noIntl\", \"classes\"]);\n\n    var _getDefaults = getDefaults(props),\n        onChangeHandler = _getDefaults.onChangeHandler,\n        showMask = _getDefaults.showMask,\n        mask = _getDefaults.mask,\n        defaultPlaceholder = _getDefaults.placeholder,\n        value = _getDefaults.value;\n\n    var finalPlaceholder = void 0;\n\n    if (noIntl) {\n      finalPlaceholder = placeholder || defaultPlaceholder;\n    } else {\n      finalPlaceholder = placeholder && typeof placeholder === 'string' ? intl.formatMessage({\n        id: placeholder\n      }) : defaultPlaceholder;\n    } // Ignore placeholder for money inputs, and just show the currency\n    // Showing an amount is confusing\n\n\n    if (props.type === 'money') {\n      finalPlaceholder = defaultPlaceholder;\n    }\n\n    return React.createElement(\n      _FormControl,\n      {\n        error: error,\n        className: classnames((0, _defineProperty3.default)({\n          'mui-text-input': true\n        }, className, true)),\n        style: style\n      },\n      label && React.createElement(\n        _InputLabel,\n        {\n          htmlFor: id,\n          style: labelStyle,\n          shrink: true\n        },\n        label\n      ),\n      React.createElement(Input, (0, _extends3.default)({}, otherProps, {\n        className: classes ? Object.values(classes).join(' ') : '',\n        id: id,\n        onChange: onChangeHandler,\n        type: \"text\",\n        style: {\n          fontSize: 'inherit'\n        },\n        inputComponent: showMask ? MaskedInput : inputComponent || undefined,\n        inputProps: (0, _extends3.default)({}, inputProps, InputProps, {\n          value: value,\n          placeholder: finalPlaceholder,\n          noValidate: true,\n          mask: mask || undefined,\n          pattern: mask ? '[0-9]*' : undefined,\n          ref: inputRef\n        })\n      })),\n      info && React.createElement(\n        _FormHelperText,\n        null,\n        info\n      )\n    );\n  }\n\n  return TextInput;\n}();\n\nTextInput.propTypes = {\n  id: PropTypes.string.isRequired,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  onChange: PropTypes.func,\n  type: PropTypes.string,\n  info: PropTypes.node,\n  placeholder: PropTypes.string,\n  error: PropTypes.bool,\n  inputComponent: PropTypes.func,\n  inputProps: PropTypes.object,\n  noIntl: PropTypes.bool,\n  inputRef: PropTypes.func\n};\nTextInput.defaultProps = {\n  onChange: undefined,\n  label: '',\n  value: undefined,\n  type: undefined,\n  info: undefined,\n  placeholder: undefined,\n  error: false,\n  inputComponent: null,\n  inputProps: undefined,\n  noIntl: false,\n  inputRef: undefined\n};\nmodule.exportDefault(_injectIntl(TextInput));","map":{"version":3,"sources":["imports/core/components/TextInput.jsx"],"names":["React","module","watch","require","v","PropTypes","injectIntl","MaskedInput","Input","InputLabel","FormControl","FormHelperText","classnames","swissFrancMask","percentMask","toNumber","constants","getDefaults","type","id","onChange","value","onChangeHandler","event","target","showMask","mask","placeholder","getCurrency","Math","round","parseFloat","toFixed","undefined","TextInput","props","className","label","style","labelStyle","info","error","inputRef","fullWidth","intl","inputComponent","inputProps","InputProps","noIntl","classes","otherProps","defaultPlaceholder","finalPlaceholder","formatMessage","Object","values","join","fontSize","noValidate","pattern","ref","propTypes","string","isRequired","oneOfType","element","number","func","node","bool","object","defaultProps","exportDefault"],"mappings":"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","file":"imports/core/components/TextInput.jsx.map","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { injectIntl } from 'react-intl';\nimport MaskedInput from 'react-text-mask';\n\nimport Input, { InputLabel } from 'material-ui/Input';\nimport { FormControl, FormHelperText } from 'material-ui/Form';\nimport classnames from 'classnames';\n\nimport { swissFrancMask, percentMask } from '../utils/textMasks';\nimport { toNumber } from '../utils/conversionFunctions';\nimport constants from '../config/constants';\n\nconst getDefaults = ({ type, id, onChange, value }) => {\n  switch (type) {\n  case 'money':\n    return {\n      onChangeHandler: event => onChange(id, toNumber(event.target.value)),\n      showMask: true,\n      mask: swissFrancMask,\n      placeholder: constants.getCurrency(),\n      value,\n    };\n  case 'percent':\n    return {\n      onChangeHandler: event =>\n        onChange(\n          id,\n          Math.round(parseFloat(event.target.value) * 100) / 10000,\n        ),\n      showMask: true,\n      mask: percentMask,\n      placeholder: '%',\n      value: (value * 100).toFixed(2),\n    };\n  case 'number':\n    return {\n      onChangeHandler: event => onChange(id, toNumber(event.target.value)),\n      showMask: false,\n      value,\n    };\n  case 'date':\n    return {\n      onChangeHandler: undefined,\n      showMask: false,\n      value: '',\n    };\n  default:\n    return {\n      // Pass event as third argument, for some components which need it\n      // like react-autosuggest\n      onChangeHandler: event => onChange(id, event.target.value, event),\n      showMask: false,\n      value,\n    };\n  }\n};\n\nconst TextInput = (props) => {\n  const {\n    className,\n    label,\n    style,\n    labelStyle,\n    id,\n    info,\n    error,\n    inputRef,\n    placeholder,\n    fullWidth,\n    onChange,\n    intl,\n    inputComponent,\n    inputProps,\n    InputProps,\n    noIntl,\n    classes,\n    ...otherProps\n  } = props;\n\n  const {\n    onChangeHandler,\n    showMask,\n    mask,\n    placeholder: defaultPlaceholder,\n    value,\n  } = getDefaults(props);\n\n  let finalPlaceholder;\n  if (noIntl) {\n    finalPlaceholder = placeholder || defaultPlaceholder;\n  } else {\n    finalPlaceholder =\n      placeholder && typeof placeholder === 'string'\n        ? intl.formatMessage({ id: placeholder })\n        : defaultPlaceholder;\n  }\n\n  // Ignore placeholder for money inputs, and just show the currency\n  // Showing an amount is confusing\n  if (props.type === 'money') {\n    finalPlaceholder = defaultPlaceholder;\n  }\n\n  return (\n    <FormControl\n      error={error}\n      className={classnames({ 'mui-text-input': true, [className]: true })}\n      style={style}\n    >\n      {label && (\n        <InputLabel htmlFor={id} style={labelStyle} shrink>\n          {label}\n        </InputLabel>\n      )}\n      <Input\n        {...otherProps}\n        className={classes ? Object.values(classes).join(' ') : ''}\n        id={id}\n        onChange={onChangeHandler}\n        type=\"text\"\n        style={{ fontSize: 'inherit' }}\n        inputComponent={showMask ? MaskedInput : inputComponent || undefined}\n        inputProps={{\n          ...inputProps, // Backwards compatible\n          ...InputProps,\n          value,\n          placeholder: finalPlaceholder,\n          noValidate: true,\n          mask: mask || undefined,\n          pattern: mask ? '[0-9]*' : undefined,\n          ref: inputRef,\n        }}\n      />\n      {info && <FormHelperText>{info}</FormHelperText>}\n    </FormControl>\n  );\n};\n\nTextInput.propTypes = {\n  id: PropTypes.string.isRequired,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  onChange: PropTypes.func,\n  type: PropTypes.string,\n  info: PropTypes.node,\n  placeholder: PropTypes.string,\n  error: PropTypes.bool,\n  inputComponent: PropTypes.func,\n  inputProps: PropTypes.object,\n  noIntl: PropTypes.bool,\n  inputRef: PropTypes.func,\n};\n\nTextInput.defaultProps = {\n  onChange: undefined,\n  label: '',\n  value: undefined,\n  type: undefined,\n  info: undefined,\n  placeholder: undefined,\n  error: false,\n  inputComponent: null,\n  inputProps: undefined,\n  noIntl: false,\n  inputRef: undefined,\n};\n\nexport default injectIntl(TextInput);\n"]},"hash":"32bf3eff536b8ec6cb9b3db4240db59d04099888"}
