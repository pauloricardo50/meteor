{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"moment","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"moment"}]},{"source":"../api","imported":["Offers","constants"],"specifiers":[{"kind":"named","imported":"Offers","local":"Offers"},{"kind":"named","imported":"constants","local":"constants"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/core/arrays/adminActions.js","filenameRelative":"imports/core/arrays/adminActions.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/arrays/adminActions.js.map","sourceFileName":"imports/core/arrays/adminActions.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"adminActions"},"ignored":false,"code":"\"use strict\";\n\nvar moment = void 0;\nmodule.watch(require(\"moment\"), {\n  \"default\": function () {\n    function _default(v) {\n      moment = v;\n    }\n\n    return _default;\n  }()\n}, 0);\n\nvar _Offers = void 0,\n    _constants = void 0;\n\nmodule.watch(require(\"../api\"), {\n  Offers: function () {\n    function Offers(v) {\n      _Offers = v;\n    }\n\n    return Offers;\n  }(),\n  constants: function () {\n    function constants(v) {\n      _constants = v;\n    }\n\n    return constants;\n  }()\n}, 1);\nvar _constants2 = _constants,\n    ADMIN_ACTION_TYPE = _constants2.ADMIN_ACTION_TYPE;\nvar getActions = [{\n  id: ADMIN_ACTION_TYPE.VERIFY,\n  handleClick: function () {\n    function handleClick(loan, pushToHistory) {\n      pushToHistory(\"/loans/\" + loan._id + \"?tab=forms\");\n      window.open(location.origin + \"/loans/\" + loan._id + \"/verify\", '_blank', 'width=700, height=700');\n    }\n\n    return handleClick;\n  }()\n}, {\n  id: ADMIN_ACTION_TYPE.AUCTION,\n  comment: function () {\n    function comment(loan) {\n      return \"Fin: \" + moment(loan.logic.auction.endTime).format('D MMM H:mm:ss') + \", Offres: \" + _Offers.find({\n        loanId: loan._id\n      }).count();\n    }\n\n    return comment;\n  }(),\n  handleClick: function () {\n    function handleClick(loan, pushToHistory) {\n      pushToHistory(\"/loans/\" + loan._id);\n    }\n\n    return handleClick;\n  }()\n}, {\n  id: ADMIN_ACTION_TYPE.LENDER_CHOSEN,\n  handleClick: function () {\n    function handleClick(loan, pushToHistory) {\n      pushToHistory(\"/loans/\" + loan._id + \"/contactlenders\");\n    }\n\n    return handleClick;\n  }()\n}, {\n  id: 'addFinalSteps',\n  handleClick: function () {\n    function handleClick(loan, pushToHistory) {\n      pushToHistory(\"/loans/\" + loan._id + \"/finalsteps\");\n    }\n\n    return handleClick;\n  }()\n}, {\n  id: 'verifyFinalSteps',\n  comment: function () {\n    function comment() {\n      return 'Contrat 0%, Décaissement: 0%';\n    }\n\n    return comment;\n  }(),\n  // TODO\n  handleClick: function () {\n    function handleClick(loan, pushToHistory) {\n      pushToHistory(\"/loans/\" + loan._id + \"?tab=files\");\n    }\n\n    return handleClick;\n  }()\n}, {\n  id: 'loanContract',\n  handleClick: function () {\n    function handleClick(loan, pushToHistory) {\n      pushToHistory(\"/loans/\" + loan._id + \"?tab=actions\");\n    }\n\n    return handleClick;\n  }()\n}, {\n  id: 'uploadContract',\n  handleClick: function () {\n    function handleClick(loan, pushToHistory) {\n      pushToHistory(\"/loans/\" + loan._id + \"?tab=actions\");\n    }\n\n    return handleClick;\n  }()\n}, {\n  id: 'confirmClosing',\n  handleClick: function () {\n    function handleClick(loan, pushToHistory) {\n      pushToHistory(\"/loans/\" + loan._id + \"?tab=actions\");\n    }\n\n    return handleClick;\n  }()\n}];\nmodule.exportDefault(getActions);","map":{"version":3,"sources":["imports/core/arrays/adminActions.js"],"names":["moment","module","watch","require","v","Offers","constants","ADMIN_ACTION_TYPE","getActions","id","VERIFY","handleClick","loan","pushToHistory","_id","window","open","location","origin","AUCTION","comment","logic","auction","endTime","format","find","loanId","count","LENDER_CHOSEN","exportDefault"],"mappings":";;AAAA,IAAIA,eAAJ;AAAWC,OAAOC,KAAP,CAAaC,QAAQ,QAAR,CAAb,EAA+B;AAAA;AAAA,sBAASC,CAAT,EAAW;AAACJ,eAAOI,CAAP;AAAS;;AAArB;AAAA;AAAA,CAA/B,EAAsD,CAAtD;;AAAyD,IAAIC,gBAAJ;AAAA,IAAWC,mBAAX;;AAAqBL,OAAOC,KAAP,CAAaC,QAAQ,QAAR,CAAb,EAA+B;AAACE,QAAD;AAAA,oBAAQD,CAAR,EAAU;AAACC,gBAAOD,CAAP;AAAS;;AAApB;AAAA;AAAqBE,WAArB;AAAA,uBAA+BF,CAA/B,EAAiC;AAACE,mBAAUF,CAAV;AAAY;;AAA9C;AAAA;AAAA,CAA/B,EAA+E,CAA/E;kBAG3DE,U;IAAtBC,iB,eAAAA,iB;AAER,IAAMC,aAAa,CACjB;AACEC,MAAIF,kBAAkBG,MADxB;AAEEC;AAAa,yBAACC,IAAD,EAAOC,aAAP,EAAyB;AACpCA,gCAAwBD,KAAKE,GAA7B;AACAC,aAAOC,IAAP,CACKC,SAASC,MADd,eAC8BN,KAAKE,GADnC,cAEE,QAFF,EAGE,uBAHF;AAKD;;AAPD;AAAA;AAFF,CADiB,EAYjB;AACEL,MAAIF,kBAAkBY,OADxB;AAEEC;AAAS;AAAA,uBACCpB,OAAOY,KAAKS,KAAL,CAAWC,OAAX,CAAmBC,OAA1B,EAAmCC,MAAnC,CAA0C,eAA1C,CADD,kBACwEnB,QAAOoB,IAAP,CAAY;AACzFC,gBAAQd,KAAKE;AAD4E,OAAZ,EAE5Ea,KAF4E,EADxE;AAAA;;AAAT;AAAA,KAFF;AAMEhB;AAAa,yBAACC,IAAD,EAAOC,aAAP,EAAyB;AACpCA,gCAAwBD,KAAKE,GAA7B;AACD;;AAFD;AAAA;AANF,CAZiB,EAsBjB;AACEL,MAAIF,kBAAkBqB,aADxB;AAEEjB;AAAa,yBAACC,IAAD,EAAOC,aAAP,EAAyB;AACpCA,gCAAwBD,KAAKE,GAA7B;AACD;;AAFD;AAAA;AAFF,CAtBiB,EA4BjB;AACEL,MAAI,eADN;AAEEE;AAAa,yBAACC,IAAD,EAAOC,aAAP,EAAyB;AACpCA,gCAAwBD,KAAKE,GAA7B;AACD;;AAFD;AAAA;AAFF,CA5BiB,EAkCjB;AACEL,MAAI,kBADN;AAEEW;AAAS;AAAA,aAAM,8BAAN;AAAA;;AAAT;AAAA,KAFF;AAEiD;AAC/CT;AAAa,yBAACC,IAAD,EAAOC,aAAP,EAAyB;AACpCA,gCAAwBD,KAAKE,GAA7B;AACD;;AAFD;AAAA;AAHF,CAlCiB,EAyCjB;AACEL,MAAI,cADN;AAEEE;AAAa,yBAACC,IAAD,EAAOC,aAAP,EAAyB;AACpCA,gCAAwBD,KAAKE,GAA7B;AACD;;AAFD;AAAA;AAFF,CAzCiB,EA+CjB;AACEL,MAAI,gBADN;AAEEE;AAAa,yBAACC,IAAD,EAAOC,aAAP,EAAyB;AACpCA,gCAAwBD,KAAKE,GAA7B;AACD;;AAFD;AAAA;AAFF,CA/CiB,EAqDjB;AACEL,MAAI,gBADN;AAEEE;AAAa,yBAACC,IAAD,EAAOC,aAAP,EAAyB;AACpCA,gCAAwBD,KAAKE,GAA7B;AACD;;AAFD;AAAA;AAFF,CArDiB,CAAnB;AALAb,OAAO4B,aAAP,CAkEerB,UAlEf","file":"imports/core/arrays/adminActions.js.map","sourcesContent":["import moment from 'moment';\nimport { Offers, constants } from 'core/api';\n\nconst { ADMIN_ACTION_TYPE } = constants;\n\nconst getActions = [\n  {\n    id: ADMIN_ACTION_TYPE.VERIFY,\n    handleClick: (loan, pushToHistory) => {\n      pushToHistory(`/loans/${loan._id}?tab=forms`);\n      window.open(\n        `${location.origin}/loans/${loan._id}/verify`,\n        '_blank',\n        'width=700, height=700',\n      );\n    },\n  },\n  {\n    id: ADMIN_ACTION_TYPE.AUCTION,\n    comment: loan =>\n      `Fin: ${moment(loan.logic.auction.endTime).format('D MMM H:mm:ss')}, Offres: ${Offers.find({\n        loanId: loan._id,\n      }).count()}`,\n    handleClick: (loan, pushToHistory) => {\n      pushToHistory(`/loans/${loan._id}`);\n    },\n  },\n  {\n    id: ADMIN_ACTION_TYPE.LENDER_CHOSEN,\n    handleClick: (loan, pushToHistory) => {\n      pushToHistory(`/loans/${loan._id}/contactlenders`);\n    },\n  },\n  {\n    id: 'addFinalSteps',\n    handleClick: (loan, pushToHistory) => {\n      pushToHistory(`/loans/${loan._id}/finalsteps`);\n    },\n  },\n  {\n    id: 'verifyFinalSteps',\n    comment: () => 'Contrat 0%, Décaissement: 0%', // TODO\n    handleClick: (loan, pushToHistory) => {\n      pushToHistory(`/loans/${loan._id}?tab=files`);\n    },\n  },\n  {\n    id: 'loanContract',\n    handleClick: (loan, pushToHistory) => {\n      pushToHistory(`/loans/${loan._id}?tab=actions`);\n    },\n  },\n  {\n    id: 'uploadContract',\n    handleClick: (loan, pushToHistory) => {\n      pushToHistory(`/loans/${loan._id}?tab=actions`);\n    },\n  },\n  {\n    id: 'confirmClosing',\n    handleClick: (loan, pushToHistory) => {\n      pushToHistory(`/loans/${loan._id}?tab=actions`);\n    },\n  },\n];\n\nexport default getActions;\n"]},"hash":"90e84dac4e1253ca44cfc0062196e81f9d2e19b6"}
