{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"./demo.js","imported":["default","DemoPublication","DemoMethod"],"specifiers":[{"kind":"named","imported":"default","local":"Demo"},{"kind":"named","imported":"DemoPublication","local":"DemoPublication"},{"kind":"named","imported":"DemoMethod","local":"DemoMethod"}]},{"source":"./intersect","imported":["default","CollectionLink"],"specifiers":[{"kind":"named","imported":"default","local":"Intersect"},{"kind":"named","imported":"CollectionLink","local":"IntersectLink"}]},{"source":"meteor/cultofcoders:grapher","imported":["Exposure"],"specifiers":[{"kind":"named","imported":"Exposure","local":"Exposure"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"packages/cultofcoders:grapher/lib/exposure/testing/bootstrap/expose.js","filenameRelative":"packages/cultofcoders:grapher/lib/exposure/testing/bootstrap/expose.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"packages/cultofcoders:grapher/lib/exposure/testing/bootstrap/expose.js.map","sourceFileName":"packages/cultofcoders:grapher/lib/exposure/testing/bootstrap/expose.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"expose"},"ignored":false,"code":"let Demo, DemoPublication, DemoMethod;\nmodule.watch(require(\"./demo.js\"), {\n    default(v) {\n        Demo = v;\n    },\n\n    DemoPublication(v) {\n        DemoPublication = v;\n    },\n\n    DemoMethod(v) {\n        DemoMethod = v;\n    }\n\n}, 0);\nlet Intersect, IntersectLink;\nmodule.watch(require(\"./intersect\"), {\n    default(v) {\n        Intersect = v;\n    },\n\n    CollectionLink(v) {\n        IntersectLink = v;\n    }\n\n}, 1);\nlet Exposure;\nmodule.watch(require(\"meteor/cultofcoders:grapher\"), {\n    Exposure(v) {\n        Exposure = v;\n    }\n\n}, 2);\nDemo.expose({\n    firewall(filters, options, userId) {\n        Exposure.restrictFields(filters, options, ['restrictedField']);\n        filters.isPrivate = false;\n    },\n\n    maxLimit: 2,\n    maxDepth: 2,\n\n    restrictLinks(userId) {\n        return ['restrictedLink'];\n    }\n\n});\nDemoMethod.expose({\n    publication: false\n});\nDemoPublication.expose({\n    method: false\n});\nIntersect.expose({\n    body: {\n        value: 1,\n\n        link(userId) {\n            if (!userId) {\n                return {\n                    value: 1\n                };\n            }\n        }\n\n    }\n});\nIntersectLink.expose({\n    firewall() {\n        throw new Meteor.Error('I do not allow!');\n    }\n\n});","map":{"version":3,"sources":["packages/cultofcoders:grapher/lib/exposure/testing/bootstrap/expose.js"],"names":["Demo","DemoPublication","DemoMethod","module","watch","require","default","v","Intersect","IntersectLink","CollectionLink","Exposure","expose","firewall","filters","options","userId","restrictFields","isPrivate","maxLimit","maxDepth","restrictLinks","publication","method","body","value","link","Meteor","Error"],"mappings":"AAAA,IAAIA,IAAJ,EAASC,eAAT,EAAyBC,UAAzB;AAAoCC,OAAOC,KAAP,CAAaC,QAAQ,WAAR,CAAb,EAAkC;AAACC,YAAQC,CAAR,EAAU;AAACP,eAAKO,CAAL;AAAO,KAAnB;;AAAoBN,oBAAgBM,CAAhB,EAAkB;AAACN,0BAAgBM,CAAhB;AAAkB,KAAzD;;AAA0DL,eAAWK,CAAX,EAAa;AAACL,qBAAWK,CAAX;AAAa;;AAArF,CAAlC,EAAyH,CAAzH;AAA4H,IAAIC,SAAJ,EAAcC,aAAd;AAA4BN,OAAOC,KAAP,CAAaC,QAAQ,aAAR,CAAb,EAAoC;AAACC,YAAQC,CAAR,EAAU;AAACC,oBAAUD,CAAV;AAAY,KAAxB;;AAAyBG,mBAAeH,CAAf,EAAiB;AAACE,wBAAcF,CAAd;AAAgB;;AAA3D,CAApC,EAAiG,CAAjG;AAAoG,IAAII,QAAJ;AAAaR,OAAOC,KAAP,CAAaC,QAAQ,6BAAR,CAAb,EAAoD;AAACM,aAASJ,CAAT,EAAW;AAACI,mBAASJ,CAAT;AAAW;;AAAxB,CAApD,EAA8E,CAA9E;AAI7SP,KAAKY,MAAL,CAAY;AACRC,aAASC,OAAT,EAAkBC,OAAlB,EAA2BC,MAA3B,EAAmC;AAC/BL,iBAASM,cAAT,CAAwBH,OAAxB,EAAiCC,OAAjC,EAA0C,CAAC,iBAAD,CAA1C;AACAD,gBAAQI,SAAR,GAAoB,KAApB;AACH,KAJO;;AAKRC,cAAU,CALF;AAMRC,cAAU,CANF;;AAORC,kBAAcL,MAAd,EAAsB;AAClB,eAAO,CAAC,gBAAD,CAAP;AACH;;AATO,CAAZ;AAYAd,WAAWU,MAAX,CAAkB;AACdU,iBAAa;AADC,CAAlB;AAIArB,gBAAgBW,MAAhB,CAAuB;AACnBW,YAAQ;AADW,CAAvB;AAIAf,UAAUI,MAAV,CAAiB;AACbY,UAAM;AACFC,eAAO,CADL;;AAEFC,aAAKV,MAAL,EAAa;AACT,gBAAI,CAACA,MAAL,EAAa;AACT,uBAAO;AAACS,2BAAO;AAAR,iBAAP;AACH;AACJ;;AANC;AADO,CAAjB;AAWAhB,cAAcG,MAAd,CAAqB;AACjBC,eAAW;AACP,cAAM,IAAIc,OAAOC,KAAX,CAAiB,iBAAjB,CAAN;AACH;;AAHgB,CAArB","file":"packages/cultofcoders:grapher/lib/exposure/testing/bootstrap/expose.js.map","sourcesContent":["import Demo, {DemoPublication, DemoMethod} from './demo.js';\nimport Intersect, { CollectionLink as IntersectLink } from './intersect';\nimport { Exposure } from 'meteor/cultofcoders:grapher';\n\nDemo.expose({\n    firewall(filters, options, userId) {\n        Exposure.restrictFields(filters, options, ['restrictedField']);\n        filters.isPrivate = false;\n    },\n    maxLimit: 2,\n    maxDepth: 2,\n    restrictLinks(userId) {\n        return ['restrictedLink'];\n    }\n});\n\nDemoMethod.expose({\n    publication: false\n});\n\nDemoPublication.expose({\n    method: false\n});\n\nIntersect.expose({\n    body: {\n        value: 1,\n        link(userId) {\n            if (!userId) {\n                return {value: 1};\n            }\n        }\n    }\n});\n\nIntersectLink.expose({\n    firewall() {\n        throw new Meteor.Error('I do not allow!')\n    }\n});"]},"hash":"d443267372ff7fd9beb531e26ca649ebc2eac96b"}
