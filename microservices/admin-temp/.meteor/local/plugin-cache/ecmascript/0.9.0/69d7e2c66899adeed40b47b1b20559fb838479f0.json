{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"prop-types","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PropTypes"}]},{"source":"react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"React"}]},{"source":"../../../core/components/MetricsTriple","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"MetricsTriple"}]},{"source":"./../../components/ActionsTable","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"ActionsTable"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/ui/pages/AdminDashboardPage/AdminDashboardPage.jsx","filenameRelative":"imports/ui/pages/AdminDashboardPage/AdminDashboardPage.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/ui/pages/AdminDashboardPage/AdminDashboardPage.jsx.map","sourceFileName":"imports/ui/pages/AdminDashboardPage/AdminDashboardPage.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"AdminDashboardPage"},"ignored":false,"code":"\"use strict\";\n\nvar PropTypes = void 0;\nmodule.watch(require(\"prop-types\"), {\n  default: function _default(v) {\n    PropTypes = v;\n  }\n}, 0);\nvar React = void 0;\nmodule.watch(require(\"react\"), {\n  default: function _default(v) {\n    React = v;\n  }\n}, 1);\nvar MetricsTriple = void 0;\nmodule.watch(require(\"../../../core/components/MetricsTriple\"), {\n  default: function _default(v) {\n    MetricsTriple = v;\n  }\n}, 2);\nvar ActionsTable = void 0;\nmodule.watch(require(\"./../../components/ActionsTable\"), {\n  default: function _default(v) {\n    ActionsTable = v;\n  }\n}, 3);\n\nvar getUserMetrics = function getUserMetrics(props) {\n  var d1 = new Date();\n  var d2 = new Date();\n  d1.setDate(d1.getDate() - 7);\n  d2.setDate(d2.getDate() - 30);\n  return [{\n    name: 'Total Utilisateurs',\n    value: props.users.length\n  }, {\n    name: 'Derniers 7 jours',\n    value: \"+\" + props.users.filter(function (user) {\n      return user.createdAt.getTime() >= d1;\n    }).length\n  }, {\n    name: 'Derniers 30 jours',\n    value: \"+\" + props.users.filter(function (user) {\n      return user.createdAt.getTime() >= d2;\n    }).length\n  }];\n};\n\nvar AdminDashboardPage = function AdminDashboardPage(props) {\n  var now = new Date();\n  return React.createElement(\n    \"section\",\n    {\n      className: \"mask1\"\n    },\n    React.createElement(\n      \"h1\",\n      null,\n      \"Admin Dashboard\"\n    ),\n    React.createElement(MetricsTriple, {\n      metrics: getUserMetrics(props),\n      percent: false\n    }),\n    React.createElement(ActionsTable, {\n      loans: props.loans,\n      recentOffers: props.offers.filter(function (offer) {\n        return offer.auctionEndTime >= now;\n      }),\n      history: props.history,\n      adminActions: props.adminActions\n    })\n  );\n};\n\nAdminDashboardPage.defaultProps = {\n  adminActions: [],\n  loans: [],\n  users: [],\n  offers: []\n};\nAdminDashboardPage.propTypes = {\n  adminActions: PropTypes.arrayOf(PropTypes.object),\n  loans: PropTypes.arrayOf(PropTypes.object),\n  users: PropTypes.arrayOf(PropTypes.object).isRequired,\n  offers: PropTypes.arrayOf(PropTypes.object)\n};\nmodule.exportDefault(AdminDashboardPage);","map":{"version":3,"sources":["imports/ui/pages/AdminDashboardPage/AdminDashboardPage.jsx"],"names":["PropTypes","module","watch","require","default","v","React","MetricsTriple","ActionsTable","getUserMetrics","props","d1","Date","d2","setDate","getDate","name","value","users","length","filter","user","createdAt","getTime","AdminDashboardPage","now","loans","offers","offer","auctionEndTime","history","adminActions","defaultProps","propTypes","arrayOf","object","isRequired","exportDefault"],"mappings":";;AAAA,IAAIA,kBAAJ;AAAcC,OAAOC,KAAP,CAAaC,QAAQ,YAAR,CAAb,EAAmC;AAACC,SAAD,oBAASC,CAAT,EAAW;AAACL,gBAAUK,CAAV;AAAY;AAAxB,CAAnC,EAA6D,CAA7D;AAAgE,IAAIC,cAAJ;AAAUL,OAAOC,KAAP,CAAaC,QAAQ,OAAR,CAAb,EAA8B;AAACC,SAAD,oBAASC,CAAT,EAAW;AAACC,YAAMD,CAAN;AAAQ;AAApB,CAA9B,EAAoD,CAApD;AAAuD,IAAIE,sBAAJ;AAAkBN,OAAOC,KAAP,CAAaC,QAAQ,wCAAR,CAAb,EAA+D;AAACC,SAAD,oBAASC,CAAT,EAAW;AAACE,oBAAcF,CAAd;AAAgB;AAA5B,CAA/D,EAA6F,CAA7F;AAAgG,IAAIG,qBAAJ;AAAiBP,OAAOC,KAAP,CAAaC,QAAQ,iCAAR,CAAb,EAAwD;AAACC,SAAD,oBAASC,CAAT,EAAW;AAACG,mBAAaH,CAAb;AAAe;AAA3B,CAAxD,EAAqF,CAArF;;AAMlR,IAAMI,iBAAiB,SAAjBA,cAAiB,CAACC,KAAD,EAAW;AAChC,MAAMC,KAAK,IAAIC,IAAJ,EAAX;AACA,MAAMC,KAAK,IAAID,IAAJ,EAAX;AACAD,KAAGG,OAAH,CAAWH,GAAGI,OAAH,KAAe,CAA1B;AACAF,KAAGC,OAAH,CAAWD,GAAGE,OAAH,KAAe,EAA1B;AAEA,SAAO,CACL;AACEC,UAAM,oBADR;AAEEC,WAAOP,MAAMQ,KAAN,CAAYC;AAFrB,GADK,EAKL;AACEH,UAAM,kBADR;AAEEC,iBACEP,MAAMQ,KAAN,CAAYE,MAAZ,CAAmB;AAAA,aAAQC,KAAKC,SAAL,CAAeC,OAAf,MAA4BZ,EAApC;AAAA,KAAnB,EAA2DQ;AAH/D,GALK,EAWL;AACEH,UAAM,mBADR;AAEEC,iBACEP,MAAMQ,KAAN,CAAYE,MAAZ,CAAmB;AAAA,aAAQC,KAAKC,SAAL,CAAeC,OAAf,MAA4BV,EAApC;AAAA,KAAnB,EAA2DM;AAH/D,GAXK,CAAP;AAkBD,CAxBD;;AA0BA,IAAMK,qBAAqB,SAArBA,kBAAqB,CAACd,KAAD,EAAW;AACpC,MAAMe,MAAM,IAAIb,IAAJ,EAAZ;AACA,SACE;AAAA;AAAA;AAAS,iBAAU;AAAnB;AACE;AAAA;AAAA;AAAA;AAAA,KADF;AAGE,wBAAC,aAAD;AAAe,eAASH,eAAeC,KAAf,CAAxB;AAA+C,eAAS;AAAxD,MAHF;AAKE,wBAAC,YAAD;AACE,aAAOA,MAAMgB,KADf;AAEE,oBAAchB,MAAMiB,MAAN,CAAaP,MAAb,CAAoB;AAAA,eAASQ,MAAMC,cAAN,IAAwBJ,GAAjC;AAAA,OAApB,CAFhB;AAGE,eAASf,MAAMoB,OAHjB;AAIE,oBAAcpB,MAAMqB;AAJtB;AALF,GADF;AAcD,CAhBD;;AAkBAP,mBAAmBQ,YAAnB,GAAkC;AAChCD,gBAAc,EADkB;AAEhCL,SAAO,EAFyB;AAGhCR,SAAO,EAHyB;AAIhCS,UAAQ;AAJwB,CAAlC;AAOAH,mBAAmBS,SAAnB,GAA+B;AAC7BF,gBAAc/B,UAAUkC,OAAV,CAAkBlC,UAAUmC,MAA5B,CADe;AAE7BT,SAAO1B,UAAUkC,OAAV,CAAkBlC,UAAUmC,MAA5B,CAFsB;AAG7BjB,SAAOlB,UAAUkC,OAAV,CAAkBlC,UAAUmC,MAA5B,EAAoCC,UAHd;AAI7BT,UAAQ3B,UAAUkC,OAAV,CAAkBlC,UAAUmC,MAA5B;AAJqB,CAA/B;AAzDAlC,OAAOoC,aAAP,CAgEeb,kBAhEf","file":"imports/ui/pages/AdminDashboardPage/AdminDashboardPage.jsx.map","sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react';\n\nimport MetricsTriple from 'core/components/MetricsTriple';\nimport ActionsTable from '/imports/ui/components/ActionsTable';\n\nconst getUserMetrics = (props) => {\n  const d1 = new Date();\n  const d2 = new Date();\n  d1.setDate(d1.getDate() - 7);\n  d2.setDate(d2.getDate() - 30);\n\n  return [\n    {\n      name: 'Total Utilisateurs',\n      value: props.users.length,\n    },\n    {\n      name: 'Derniers 7 jours',\n      value: `+${\n        props.users.filter(user => user.createdAt.getTime() >= d1).length\n      }`,\n    },\n    {\n      name: 'Derniers 30 jours',\n      value: `+${\n        props.users.filter(user => user.createdAt.getTime() >= d2).length\n      }`,\n    },\n  ];\n};\n\nconst AdminDashboardPage = (props) => {\n  const now = new Date();\n  return (\n    <section className=\"mask1\">\n      <h1>Admin Dashboard</h1>\n\n      <MetricsTriple metrics={getUserMetrics(props)} percent={false} />\n\n      <ActionsTable\n        loans={props.loans}\n        recentOffers={props.offers.filter(offer => offer.auctionEndTime >= now)}\n        history={props.history}\n        adminActions={props.adminActions}\n      />\n    </section>\n  );\n};\n\nAdminDashboardPage.defaultProps = {\n  adminActions: [],\n  loans: [],\n  users: [],\n  offers: [],\n};\n\nAdminDashboardPage.propTypes = {\n  adminActions: PropTypes.arrayOf(PropTypes.object),\n  loans: PropTypes.arrayOf(PropTypes.object),\n  users: PropTypes.arrayOf(PropTypes.object).isRequired,\n  offers: PropTypes.arrayOf(PropTypes.object),\n};\n\nexport default AdminDashboardPage;\n"]},"hash":"69d7e2c66899adeed40b47b1b20559fb838479f0"}
