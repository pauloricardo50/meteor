{"metadata":{"usedHelpers":["extends","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"@storybook/react-komposer","imported":["compose"],"specifiers":[{"kind":"named","imported":"compose","local":"compose"}]},{"source":"meteor/tracker","imported":["Tracker"],"specifiers":[{"kind":"named","imported":"Tracker","local":"Tracker"}]}],"exports":{"exported":["defaultOptions"],"specifiers":[{"kind":"local","local":"defaultOptions","exported":"defaultOptions"}]}}},"options":{"filename":"imports/core/containers/composers/composeWithTracker.js","filenameRelative":"imports/core/containers/composers/composeWithTracker.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/containers/composers/composeWithTracker.js.map","sourceFileName":"imports/core/containers/composers/composeWithTracker.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"composeWithTracker"},"ignored":false,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.defaultOptions = undefined;\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nmodule.export({\n  defaultOptions: function () {\n    function defaultOptions() {\n      return _defaultOptions;\n    }\n\n    return defaultOptions;\n  }()\n});\n\nvar _compose = void 0;\n\nmodule.watch(require(\"@storybook/react-komposer\"), {\n  compose: function () {\n    function compose(v) {\n      _compose = v;\n    }\n\n    return compose;\n  }()\n}, 0);\n\nvar _Tracker = void 0;\n\nexports.defaultOptions = _defaultOptions;\nmodule.watch(require(\"meteor/tracker\"), {\n  Tracker: function () {\n    function Tracker(v) {\n      _Tracker = v;\n    }\n\n    return Tracker;\n  }()\n}, 1);\n\nvar getTrackerLoader = function () {\n  function getTrackerLoader(loaderFunc) {\n    return function (props, onData, env) {\n      var trackerCleanup = function () {\n        function trackerCleanup() {\n          return null;\n        }\n\n        return trackerCleanup;\n      }();\n\n      var handler = _Tracker.nonreactive(function () {\n        return _Tracker.autorun(function () {\n          // Store clean-up function if provided.\n          trackerCleanup = loaderFunc(props, onData, env) || function () {\n            return null;\n          };\n        });\n      });\n\n      return function () {\n        trackerCleanup();\n        return handler.stop();\n      };\n    };\n  }\n\n  return getTrackerLoader;\n}();\n\nvar _defaultOptions = {\n  withRef: false\n};\n\nvar composeWithTracker = function () {\n  function composeWithTracker(loadFunc, options) {\n    return function (component) {\n      return _compose(getTrackerLoader(loadFunc), (0, _extends3.default)({}, options, _defaultOptions))(component);\n    };\n  }\n\n  return composeWithTracker;\n}(); // compose(getTrackerLoader(loadFunc), options)(component);\n\n\nmodule.exportDefault(composeWithTracker);","map":{"version":3,"sources":["imports/core/containers/composers/composeWithTracker.js"],"names":["module","export","defaultOptions","compose","watch","require","v","Tracker","getTrackerLoader","props","onData","env","trackerCleanup","handler","nonreactive","autorun","loaderFunc","stop","withRef","composeWithTracker","loadFunc","options","component","exportDefault"],"mappings":";;;;;;;;;;;;;AAAAA,OAAOC,MAAP,CAAc;AAACC;AAAe;AAAA,aAAIA,eAAJ;AAAA;;AAAf;AAAA;AAAD,CAAd;;AAAmD,IAAIC,iBAAJ;;AAAYH,OAAOI,KAAP,CAAaC,QAAQ,2BAAR,CAAb,EAAkD;AAACF,SAAD;AAAA,qBAASG,CAAT,EAAW;AAACH,iBAAQG,CAAR;AAAU;;AAAtB;AAAA;AAAA,CAAlD,EAA0E,CAA1E;;AAA6E,IAAIC,iBAAJ;;;AAAYP,OAAOI,KAAP,CAAaC,QAAQ,gBAAR,CAAb,EAAuC;AAACE,SAAD;AAAA,qBAASD,CAAT,EAAW;AAACC,iBAAQD,CAAR;AAAU;;AAAtB;AAAA;AAAA,CAAvC,EAA+D,CAA/D;;AAGxJ,IAAME;AAAmB,WAAnBA,gBAAmB;AAAA,WAAc,UAACC,KAAD,EAAQC,MAAR,EAAgBC,GAAhB,EAAwB;AAC7D,UAAIC;AAAiB;AAAA,iBAAM,IAAN;AAAA;;AAAjB;AAAA,SAAJ;;AAEA,UAAMC,UAAUN,SAAQO,WAAR,CAAoB;AAAA,eAClCP,SAAQQ,OAAR,CAAgB,YAAM;AACpB;AACAH,2BAAiBI,WAAWP,KAAX,EAAkBC,MAAlB,EAA0BC,GAA1B,KAAmC;AAAA,mBAAM,IAAN;AAAA,WAApD;AACD,SAHD,CADkC;AAAA,OAApB,CAAhB;;AAMA,aAAO,YAAM;AACXC;AACA,eAAOC,QAAQI,IAAR,EAAP;AACD,OAHD;AAID,KAbwB;AAAA;;AAAnB;AAAA,GAAN;;AAeO,IAAMf,kBAAiB;AAC5BgB,WAAS;AADmB,CAAvB;;AAIP,IAAMC;AAAqB,WAArBA,kBAAqB,CAACC,QAAD,EAAWC,OAAX;AAAA,WAAuB;AAAA,aAChDlB,SAAQK,iBAAiBY,QAAjB,CAAR,6BAAyCC,OAAzC,EAAqDnB,eAArD,GAAuEoB,SAAvE,CADgD;AAAA,KAAvB;AAAA;;AAArB;AAAA,GAAN,C,CAEA;;;AAxBAtB,OAAOuB,aAAP,CA0BeJ,kBA1Bf","file":"imports/core/containers/composers/composeWithTracker.js.map","sourcesContent":["import { compose } from '@storybook/react-komposer';\nimport { Tracker } from 'meteor/tracker';\n\nconst getTrackerLoader = loaderFunc => (props, onData, env) => {\n  let trackerCleanup = () => null;\n\n  const handler = Tracker.nonreactive(() =>\n    Tracker.autorun(() => {\n      // Store clean-up function if provided.\n      trackerCleanup = loaderFunc(props, onData, env) || (() => null);\n    }));\n\n  return () => {\n    trackerCleanup();\n    return handler.stop();\n  };\n};\n\nexport const defaultOptions = {\n  withRef: false,\n};\n\nconst composeWithTracker = (loadFunc, options) => component =>\n  compose(getTrackerLoader(loadFunc), { ...options, ...defaultOptions })(component);\n// compose(getTrackerLoader(loadFunc), options)(component);\n\nexport default composeWithTracker;\n"]},"hash":"1f5d2e2512747e9fe3f2e936c8447c2540c4ac2d"}
