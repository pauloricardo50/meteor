{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","createClass","classCallCheck","extends","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"prop-types","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PropTypes"}]}],"exports":{"exported":["STATUS"],"specifiers":[{"kind":"local","local":"STATUS","exported":"STATUS"}]}}},"options":{"filename":"imports/core/components/AutoForm/ValidIcon/ValidIconContainer.jsx","filenameRelative":"imports/core/components/AutoForm/ValidIcon/ValidIconContainer.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/components/AutoForm/ValidIcon/ValidIconContainer.jsx.map","sourceFileName":"imports/core/components/AutoForm/ValidIcon/ValidIconContainer.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"ValidIconContainer"},"ignored":false,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.STATUS = undefined;\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nmodule.export({\n  STATUS: function () {\n    function STATUS() {\n      return _STATUS;\n    }\n\n    return STATUS;\n  }()\n});\n\nvar React = void 0,\n    _Component = void 0;\n\nmodule.watch(require(\"react\"), {\n  \"default\": function () {\n    function _default(v) {\n      React = v;\n    }\n\n    return _default;\n  }(),\n  Component: function () {\n    function Component(v) {\n      _Component = v;\n    }\n\n    return Component;\n  }()\n}, 0);\nexports.STATUS = _STATUS;\nvar PropTypes = void 0;\nmodule.watch(require(\"prop-types\"), {\n  \"default\": function () {\n    function _default(v) {\n      PropTypes = v;\n    }\n\n    return _default;\n  }()\n}, 1);\nvar _STATUS = {\n  ERROR: 'ERROR',\n  VALID: 'VALID',\n  HIDE: 'HIDE',\n  TODO: 'TODO'\n};\n\nvar ValidIconContainer = function () {\n  function ValidIconContainer(WrappedComponent) {\n    return function (_Component2) {\n      (0, _inherits3.default)(ValidIconContainerHOC, _Component2);\n\n      function ValidIconContainerHOC(props) {\n        (0, _classCallCheck3.default)(this, ValidIconContainerHOC);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (ValidIconContainerHOC.__proto__ || Object.getPrototypeOf(ValidIconContainerHOC)).call(this, props));\n\n        _this.getStatus = function () {\n          var _this$props = _this.props,\n              error = _this$props.error,\n              required = _this$props.required,\n              value = _this$props.value;\n\n          if (error) {\n            return _STATUS.ERROR;\n          } else if (required === true && [undefined, '', null].includes(value)) {\n            return _STATUS.TODO;\n          }\n\n          return _STATUS.VALID;\n        };\n\n        _this.state = {\n          status: _this.getStatus()\n        };\n        return _this;\n      }\n\n      (0, _createClass3.default)(ValidIconContainerHOC, [{\n        key: \"componentWillReceiveProps\",\n        value: function () {\n          function componentWillReceiveProps(nextProps) {\n            var _this2 = this;\n\n            if (this.props.saving === false && nextProps.saving === true) {\n              // If saving is happening, hide the icon, and then make it reappear\n              this.setState({\n                status: _STATUS.HIDE\n              }, function () {\n                return _this2.setState({\n                  status: _this2.getStatus()\n                });\n              });\n            }\n          }\n\n          return componentWillReceiveProps;\n        }()\n      }, {\n        key: \"render\",\n        value: function () {\n          function render() {\n            var status = this.state.status;\n            return React.createElement(WrappedComponent, (0, _extends3.default)({}, this.props, {\n              status: status\n            }));\n          }\n\n          return render;\n        }()\n      }]);\n      return ValidIconContainerHOC;\n    }(_Component);\n  }\n\n  return ValidIconContainer;\n}();\n\nmodule.exportDefault(ValidIconContainer);","map":{"version":3,"sources":["imports/core/components/AutoForm/ValidIcon/ValidIconContainer.jsx"],"names":["module","export","STATUS","React","Component","watch","require","v","PropTypes","ERROR","VALID","HIDE","TODO","ValidIconContainer","props","getStatus","error","required","value","undefined","includes","state","status","nextProps","saving","setState","exportDefault"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,OAAOC,MAAP,CAAc;AAACC;AAAO;AAAA,aAAIA,OAAJ;AAAA;;AAAP;AAAA;AAAD,CAAd;;AAAmC,IAAIC,cAAJ;AAAA,IAAUC,mBAAV;;AAAoBJ,OAAOK,KAAP,CAAaC,QAAQ,OAAR,CAAb,EAA8B;AAAA;AAAA,sBAASC,CAAT,EAAW;AAACJ,cAAMI,CAAN;AAAQ;;AAApB;AAAA;AAAqBH,WAArB;AAAA,uBAA+BG,CAA/B,EAAiC;AAACH,mBAAUG,CAAV;AAAY;;AAA9C;AAAA;AAAA,CAA9B,EAA8E,CAA9E;;AAAiF,IAAIC,kBAAJ;AAAcR,OAAOK,KAAP,CAAaC,QAAQ,YAAR,CAAb,EAAmC;AAAA;AAAA,sBAASC,CAAT,EAAW;AAACC,kBAAUD,CAAV;AAAY;;AAAxB;AAAA;AAAA,CAAnC,EAA6D,CAA7D;AAG/I,IAAML,UAAS;AACpBO,SAAO,OADa;AAEpBC,SAAO,OAFa;AAGpBC,QAAM,MAHc;AAIpBC,QAAM;AAJc,CAAf;;AAOP,IAAMC;AAAqB,WAArBA,kBAAqB;AAAA;AAAA;;AAEvB,qCAAYC,KAAZ,EAAmB;AAAA;;AAAA,gKACXA,KADW;;AAAA,cAenBC,SAfmB,GAeP,YAAM;AAAA,4BACmB,MAAKD,KADxB;AAAA,cACRE,KADQ,eACRA,KADQ;AAAA,cACDC,QADC,eACDA,QADC;AAAA,cACSC,KADT,eACSA,KADT;;AAGhB,cAAIF,KAAJ,EAAW;AACT,mBAAOd,QAAOO,KAAd;AACD,WAFD,MAEO,IAAIQ,aAAa,IAAb,IAAqB,CAACE,SAAD,EAAY,EAAZ,EAAgB,IAAhB,EAAsBC,QAAtB,CAA+BF,KAA/B,CAAzB,EAAgE;AACrE,mBAAOhB,QAAOU,IAAd;AACD;;AAED,iBAAOV,QAAOQ,KAAd;AACD,SAzBkB;;AAEjB,cAAKW,KAAL,GAAa;AACXC,kBAAQ,MAAKP,SAAL;AADG,SAAb;AAFiB;AAKlB;;AAPsB;AAAA;AAAA;AAAA,6CASGQ,SATH,EASc;AAAA;;AACnC,gBAAI,KAAKT,KAAL,CAAWU,MAAX,KAAsB,KAAtB,IAA+BD,UAAUC,MAAV,KAAqB,IAAxD,EAA8D;AAC5D;AACA,mBAAKC,QAAL,CAAc;AAAEH,wBAAQpB,QAAOS;AAAjB,eAAd,EAAuC;AAAA,uBACrC,OAAKc,QAAL,CAAc;AAAEH,0BAAQ,OAAKP,SAAL;AAAV,iBAAd,CADqC;AAAA,eAAvC;AAED;AACF;;AAfsB;AAAA;AAAA;AAAA;AAAA;AAAA,4BA6Bd;AAAA,gBACCO,MADD,GACY,KAAKD,KADjB,CACCC,MADD;AAEP,mBAAO,oBAAC,gBAAD,6BAAsB,KAAKR,KAA3B;AAAkC,sBAAQQ;AAA1C,eAAP;AACD;;AAhCsB;AAAA;AAAA;AAAA;AAAA,MACWlB,UADX;AAAA;;AAArB;AAAA,GAAN;;AAVAJ,OAAO0B,aAAP,CA6Ceb,kBA7Cf","file":"imports/core/components/AutoForm/ValidIcon/ValidIconContainer.jsx.map","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport const STATUS = {\n  ERROR: 'ERROR',\n  VALID: 'VALID',\n  HIDE: 'HIDE',\n  TODO: 'TODO',\n};\n\nconst ValidIconContainer = WrappedComponent =>\n  class ValidIconContainerHOC extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        status: this.getStatus(),\n      };\n    }\n\n    componentWillReceiveProps(nextProps) {\n      if (this.props.saving === false && nextProps.saving === true) {\n        // If saving is happening, hide the icon, and then make it reappear\n        this.setState({ status: STATUS.HIDE }, () =>\n          this.setState({ status: this.getStatus() }));\n      }\n    }\n\n    getStatus = () => {\n      const { error, required, value } = this.props;\n\n      if (error) {\n        return STATUS.ERROR;\n      } else if (required === true && [undefined, '', null].includes(value)) {\n        return STATUS.TODO;\n      }\n\n      return STATUS.VALID;\n    };\n\n    render() {\n      const { status } = this.state;\n      return <WrappedComponent {...this.props} status={status} />;\n    }\n  };\n\nexport default ValidIconContainer;\n"]},"hash":"0e8033474bbf3d54604dd71ed9b8b6268fccb303"}
