{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"React"}]},{"source":"prop-types","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PropTypes"}]},{"source":"react-router-dom","imported":["BrowserRouter"],"specifiers":[{"kind":"named","imported":"BrowserRouter","local":"Router"}]},{"source":"react-intl","imported":["IntlProvider"],"specifiers":[{"kind":"named","imported":"IntlProvider","local":"IntlProvider"}]},{"source":"material-ui/styles/MuiThemeProvider","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"MuiThemeProvider"}]},{"source":"../../config/mui_custom","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"MuiTheme"}]},{"source":"../ErrorBoundary","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"ErrorBoundary"}]},{"source":"../ScrollToTop","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"ScrollToTop"}]},{"source":"../LoginPage","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"LoginPage"}]},{"source":"./Switch","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Switch"}]},{"source":"./Route","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Route"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/core/components/BaseRouter/BaseRouter.jsx","filenameRelative":"imports/core/components/BaseRouter/BaseRouter.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/components/BaseRouter/BaseRouter.jsx.map","sourceFileName":"imports/core/components/BaseRouter/BaseRouter.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"BaseRouter"},"ignored":false,"code":"\"use strict\";\n\nvar React = void 0;\nmodule.watch(require(\"react\"), {\n  \"default\": function () {\n    function _default(v) {\n      React = v;\n    }\n\n    return _default;\n  }()\n}, 0);\nvar PropTypes = void 0;\nmodule.watch(require(\"prop-types\"), {\n  \"default\": function () {\n    function _default(v) {\n      PropTypes = v;\n    }\n\n    return _default;\n  }()\n}, 1);\nvar Router = void 0;\nmodule.watch(require(\"react-router-dom\"), {\n  BrowserRouter: function () {\n    function BrowserRouter(v) {\n      Router = v;\n    }\n\n    return BrowserRouter;\n  }()\n}, 2);\n\nvar _IntlProvider = void 0;\n\nmodule.watch(require(\"react-intl\"), {\n  IntlProvider: function () {\n    function IntlProvider(v) {\n      _IntlProvider = v;\n    }\n\n    return IntlProvider;\n  }()\n}, 3);\nvar MuiThemeProvider = void 0;\nmodule.watch(require(\"material-ui/styles/MuiThemeProvider\"), {\n  \"default\": function () {\n    function _default(v) {\n      MuiThemeProvider = v;\n    }\n\n    return _default;\n  }()\n}, 4);\nvar MuiTheme = void 0;\nmodule.watch(require(\"../../config/mui_custom\"), {\n  \"default\": function () {\n    function _default(v) {\n      MuiTheme = v;\n    }\n\n    return _default;\n  }()\n}, 5);\nvar ErrorBoundary = void 0;\nmodule.watch(require(\"../ErrorBoundary\"), {\n  \"default\": function () {\n    function _default(v) {\n      ErrorBoundary = v;\n    }\n\n    return _default;\n  }()\n}, 6);\nvar ScrollToTop = void 0;\nmodule.watch(require(\"../ScrollToTop\"), {\n  \"default\": function () {\n    function _default(v) {\n      ScrollToTop = v;\n    }\n\n    return _default;\n  }()\n}, 7);\nvar LoginPage = void 0;\nmodule.watch(require(\"../LoginPage\"), {\n  \"default\": function () {\n    function _default(v) {\n      LoginPage = v;\n    }\n\n    return _default;\n  }()\n}, 8);\nvar Switch = void 0;\nmodule.watch(require(\"./Switch\"), {\n  \"default\": function () {\n    function _default(v) {\n      Switch = v;\n    }\n\n    return _default;\n  }()\n}, 9);\nvar Route = void 0;\nmodule.watch(require(\"./Route\"), {\n  \"default\": function () {\n    function _default(v) {\n      Route = v;\n    }\n\n    return _default;\n  }()\n}, 10);\n\nvar BaseRouter = function () {\n  function BaseRouter(_ref) {\n    var locale = _ref.locale,\n        messages = _ref.messages,\n        formats = _ref.formats,\n        children = _ref.children,\n        WrapperComponent = _ref.WrapperComponent,\n        hasLogin = _ref.hasLogin;\n    return React.createElement(\n      ErrorBoundary,\n      {\n        helper: \"root\"\n      },\n      React.createElement(\n        WrapperComponent,\n        null,\n        React.createElement(\n          MuiThemeProvider,\n          {\n            theme: MuiTheme\n          },\n          React.createElement(\n            _IntlProvider,\n            {\n              locale: locale,\n              messages: messages,\n              formats: formats,\n              defaultLocale: \"fr\" // key={getUserLocale()} Use this if the app doesn't\n              // reload on locale change\n\n            },\n            React.createElement(\n              ErrorBoundary,\n              {\n                helper: \"app\"\n              },\n              React.createElement(\n                Router,\n                null,\n                React.createElement(\n                  ScrollToTop,\n                  null,\n                  React.createElement(\n                    Switch,\n                    null,\n                    hasLogin && React.createElement(Route, {\n                      exact: true,\n                      path: \"/login\",\n                      component: LoginPage\n                    }),\n                    React.createElement(Route, {\n                      path: \"/\",\n                      render: function () {\n                        function render(childProps) {\n                          return React.cloneElement(children, childProps);\n                        }\n\n                        return render;\n                      }()\n                    })\n                  )\n                )\n              )\n            )\n          )\n        )\n      )\n    );\n  }\n\n  return BaseRouter;\n}();\n\nBaseRouter.propTypes = {\n  locale: PropTypes.string.isRequired,\n  messages: PropTypes.object.isRequired,\n  formats: PropTypes.object.isRequired,\n  children: PropTypes.node.isRequired,\n  WrapperComponent: PropTypes.any,\n  hasLogin: PropTypes.bool\n};\nBaseRouter.defaultProps = {\n  WrapperComponent: React.Fragment,\n  hasLogin: true\n};\nmodule.exportDefault(BaseRouter);","map":{"version":3,"sources":["imports/core/components/BaseRouter/BaseRouter.jsx"],"names":["React","module","watch","require","v","PropTypes","Router","BrowserRouter","IntlProvider","MuiThemeProvider","MuiTheme","ErrorBoundary","ScrollToTop","LoginPage","Switch","Route","BaseRouter","locale","messages","formats","children","WrapperComponent","hasLogin","cloneElement","childProps","propTypes","string","isRequired","object","node","any","bool","defaultProps","Fragment","exportDefault"],"mappings":"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","file":"imports/core/components/BaseRouter/BaseRouter.jsx.map","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { IntlProvider } from 'react-intl';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\n\nimport MuiTheme from '../../config/mui_custom';\n\nimport ErrorBoundary from '../ErrorBoundary';\nimport ScrollToTop from '../ScrollToTop';\nimport LoginPage from '../LoginPage';\n\nimport Switch from './Switch';\nimport Route from './Route';\n\nconst BaseRouter = ({\n  locale,\n  messages,\n  formats,\n  children,\n  WrapperComponent,\n  hasLogin,\n}) => (\n  <ErrorBoundary helper=\"root\">\n    <WrapperComponent>\n      {/* Inject custom material-ui theme for everything to look good */}\n      <MuiThemeProvider theme={MuiTheme}>\n        {/* Inject Intl props to all components to render the proper locale */}\n        <IntlProvider\n          locale={locale}\n          messages={messages}\n          formats={formats}\n          defaultLocale=\"fr\"\n          // key={getUserLocale()} Use this if the app doesn't\n          // reload on locale change\n        >\n          {/* Make sure all errors are catched in the top-level of the app\n        can't put it higher up, because it needs\n        react-intl to display messages */}\n          <ErrorBoundary helper=\"app\">\n            <Router>\n              {/* Every route change should scroll to top,\n              which isn't automatic */}\n              <ScrollToTop>\n                <Switch>\n                  {/* LoginPage has to be above / path */}\n                  {hasLogin && (\n                    <Route exact path=\"/login\" component={LoginPage} />\n                  )}\n                  <Route\n                    path=\"/\"\n                    render={childProps =>\n                      React.cloneElement(children, childProps)\n                    }\n                  />\n                </Switch>\n              </ScrollToTop>\n            </Router>\n          </ErrorBoundary>\n        </IntlProvider>\n      </MuiThemeProvider>\n    </WrapperComponent>\n  </ErrorBoundary>\n);\n\nBaseRouter.propTypes = {\n  locale: PropTypes.string.isRequired,\n  messages: PropTypes.object.isRequired,\n  formats: PropTypes.object.isRequired,\n  children: PropTypes.node.isRequired,\n  WrapperComponent: PropTypes.any,\n  hasLogin: PropTypes.bool,\n};\n\nBaseRouter.defaultProps = {\n  WrapperComponent: React.Fragment,\n  hasLogin: true,\n};\n\nexport default BaseRouter;\n"]},"hash":"14e1212ddf1c9e533d9b77cadf38f16798df119a"}
