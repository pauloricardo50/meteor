{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","createClass","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"prop-types","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PropTypes"}]},{"source":"react-intl","imported":["FormattedRelative"],"specifiers":[{"kind":"named","imported":"FormattedRelative","local":"FormattedRelative"}]},{"source":"../../core/components/Button","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Button"}]},{"source":"../../core/components/Select","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Select"}]},{"source":"../../core/components/Table","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Table"}]},{"source":"../../core/components/Translation","imported":["T"],"specifiers":[{"kind":"named","imported":"T","local":"T"}]},{"source":"../../core/arrays/adminActions","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"getActions"}]},{"source":"../../core/api/cleanMethods","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"cleanMethod"}]}],"exports":{"exported":["ActionsTable"],"specifiers":[{"kind":"local","local":"ActionsTable","exported":"default"}]}}},"options":{"filename":"imports/ui/components/ActionsTable.jsx","filenameRelative":"imports/ui/components/ActionsTable.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/ui/components/ActionsTable.jsx.map","sourceFileName":"imports/ui/components/ActionsTable.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"ActionsTable"},"ignored":false,"code":"\"use strict\";\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nmodule.export({\n  \"default\": function () {\n    function _default() {\n      return ActionsTable;\n    }\n\n    return _default;\n  }()\n});\n\nvar React = void 0,\n    _Component = void 0;\n\nmodule.watch(require(\"react\"), {\n  \"default\": function () {\n    function _default(v) {\n      React = v;\n    }\n\n    return _default;\n  }(),\n  Component: function () {\n    function Component(v) {\n      _Component = v;\n    }\n\n    return Component;\n  }()\n}, 0);\nvar PropTypes = void 0;\nmodule.watch(require(\"prop-types\"), {\n  \"default\": function () {\n    function _default(v) {\n      PropTypes = v;\n    }\n\n    return _default;\n  }()\n}, 1);\n\nvar _FormattedRelative = void 0;\n\nmodule.watch(require(\"react-intl\"), {\n  FormattedRelative: function () {\n    function FormattedRelative(v) {\n      _FormattedRelative = v;\n    }\n\n    return FormattedRelative;\n  }()\n}, 2);\nvar Button = void 0;\nmodule.watch(require(\"../../core/components/Button\"), {\n  \"default\": function () {\n    function _default(v) {\n      Button = v;\n    }\n\n    return _default;\n  }()\n}, 3);\nvar Select = void 0;\nmodule.watch(require(\"../../core/components/Select\"), {\n  \"default\": function () {\n    function _default(v) {\n      Select = v;\n    }\n\n    return _default;\n  }()\n}, 4);\nvar Table = void 0;\nmodule.watch(require(\"../../core/components/Table\"), {\n  \"default\": function () {\n    function _default(v) {\n      Table = v;\n    }\n\n    return _default;\n  }()\n}, 5);\n\nvar _T = void 0;\n\nmodule.watch(require(\"../../core/components/Translation\"), {\n  T: function () {\n    function T(v) {\n      _T = v;\n    }\n\n    return T;\n  }()\n}, 6);\nvar getActions = void 0;\nmodule.watch(require(\"../../core/arrays/adminActions\"), {\n  \"default\": function () {\n    function _default(v) {\n      getActions = v;\n    }\n\n    return _default;\n  }()\n}, 7);\nvar cleanMethod = void 0;\nmodule.watch(require(\"../../core/api/cleanMethods\"), {\n  \"default\": function () {\n    function _default(v) {\n      cleanMethod = v;\n    }\n\n    return _default;\n  }()\n}, 8);\nvar columnOptions = [{\n  id: 'ActionsTable.loanName',\n  align: 'left'\n}, {\n  id: 'ActionsTable.actionName',\n  align: 'left'\n}, {\n  id: 'ActionsTable.date',\n  align: 'left',\n  format: function () {\n    function format(date) {\n      return React.createElement(_FormattedRelative, {\n        value: date\n      });\n    }\n\n    return format;\n  }()\n}, {\n  id: 'ActionsTable.comment',\n  align: 'left',\n  className: 'secondary'\n}, {\n  id: 'ActionsTable.do',\n  format: function () {\n    function format(handleClick) {\n      return React.createElement(Button, {\n        label: \"Go\",\n        onClick: function () {\n          function onClick(event) {\n            event.stopPropagation();\n            handleClick();\n          }\n\n          return onClick;\n        }(),\n        primary: true\n      });\n    }\n\n    return format;\n  }(),\n  align: 'center',\n  style: {\n    paddingLeft: 0,\n    paddingRight: 0,\n    width: 88\n  }\n}];\n\nvar ActionsTable = function (_Component2) {\n  (0, _inherits3.default)(ActionsTable, _Component2);\n\n  function ActionsTable(props) {\n    (0, _classCallCheck3.default)(this, ActionsTable);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (ActionsTable.__proto__ || Object.getPrototypeOf(ActionsTable)).call(this, props));\n\n    _this.getFilteredActions = function () {\n      return _this.props.adminActions.filter(function (a) {\n        return a.status === _this.state.filter;\n      });\n    };\n\n    _this.handleFilter = function (_, newFilter) {\n      return _this.setState({\n        filter: newFilter\n      });\n    };\n\n    _this.handleRowSelect = function (rowIndexes) {\n      return _this.setState({\n        selected: rowIndexes\n      });\n    };\n\n    _this.handleClick = function () {\n      return _this.state.completed.forEach(function (actionId) {\n        return cleanMethod('completeAction', {\n          id: actionId\n        }).catch(function (e) {\n          console.log('error completing action:', e);\n        });\n      });\n    };\n\n    _this.state = {\n      filter: 'active',\n      selected: []\n    };\n    return _this;\n  }\n\n  (0, _createClass3.default)(ActionsTable, [{\n    key: \"render\",\n    value: function () {\n      function render() {\n        var _this2 = this;\n\n        var actions = this.getFilteredActions();\n        return React.createElement(\n          \"article\",\n          null,\n          React.createElement(\n            \"div\",\n            {\n              style: {\n                display: 'flex',\n                justifyContent: 'flex-start',\n                alignItems: 'center'\n              }\n            },\n            React.createElement(Select, {\n              id: \"filter\",\n              value: this.state.filter,\n              onChange: this.handleFilter,\n              options: [{\n                id: 'active',\n                label: 'Actif'\n              }, {\n                id: 'completed',\n                label: 'Complété'\n              }],\n              renderValue: function () {\n                function renderValue(value) {\n                  return value === 'active' ? 'Actif' : 'Complété';\n                }\n\n                return renderValue;\n              }()\n            }),\n            React.createElement(Button, {\n              label: \"Marquer comme compl\\xE9t\\xE9\",\n              onClick: this.handleClick,\n              disabled: this.state.selected.length === 0,\n              primary: true\n            })\n          ),\n          React.createElement(Table, {\n            selectable: true,\n            onRowSelect: this.handleRowSelect,\n            columnOptions: columnOptions,\n            rows: actions.map(function (action) {\n              var loan = _this2.props.loans.find(function (r) {\n                return r._id === action.loanId;\n              });\n\n              var title = React.createElement(_T, {\n                id: \"adminAction.\" + action.type\n              });\n              var actionDetails = getActions.find(function (a) {\n                return a.id === action.type;\n              });\n              return {\n                id: action._id,\n                columns: [loan ? loan.name : 'Demande supprimée', title, action.createdAt, actionDetails.comment && loan ? actionDetails.comment(loan) : '-', loan ? function () {\n                  return actionDetails.handleClick(loan, _this2.props.history.push);\n                } : function () {}]\n              };\n            })\n          })\n        );\n      }\n\n      return render;\n    }()\n  }]);\n  return ActionsTable;\n}(_Component);\n\nActionsTable.propTypes = {\n  adminActions: PropTypes.arrayOf(PropTypes.object).isRequired,\n  loans: PropTypes.arrayOf(PropTypes.object).isRequired,\n  history: PropTypes.objectOf(PropTypes.any).isRequired\n};","map":{"version":3,"sources":["imports/ui/components/ActionsTable.jsx"],"names":["module","export","ActionsTable","React","Component","watch","require","v","PropTypes","FormattedRelative","Button","Select","Table","T","getActions","cleanMethod","columnOptions","id","align","format","date","className","event","stopPropagation","handleClick","style","paddingLeft","paddingRight","width","props","getFilteredActions","adminActions","filter","a","status","state","handleFilter","_","newFilter","setState","handleRowSelect","selected","rowIndexes","completed","forEach","actionId","catch","e","console","log","actions","display","justifyContent","alignItems","label","value","length","map","action","loan","loans","find","r","_id","loanId","title","type","actionDetails","columns","name","createdAt","comment","history","push","propTypes","arrayOf","object","isRequired","objectOf","any"],"mappings":"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","file":"imports/ui/components/ActionsTable.jsx.map","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedRelative } from 'react-intl';\n\nimport Button from 'core/components/Button';\nimport Select from 'core/components/Select';\nimport Table from 'core/components/Table';\nimport { T } from 'core/components/Translation';\n\nimport getActions from 'core/arrays/adminActions';\nimport cleanMethod from 'core/api/cleanMethods';\n\nconst columnOptions = [\n  {\n    id: 'ActionsTable.loanName',\n    align: 'left',\n  },\n  {\n    id: 'ActionsTable.actionName',\n    align: 'left',\n  },\n  {\n    id: 'ActionsTable.date',\n    align: 'left',\n    format: date => <FormattedRelative value={date} />,\n  },\n  {\n    id: 'ActionsTable.comment',\n    align: 'left',\n    className: 'secondary',\n  },\n  {\n    id: 'ActionsTable.do',\n    format: handleClick => (\n      <Button\n        label=\"Go\"\n        onClick={(event) => {\n          event.stopPropagation();\n          handleClick();\n        }}\n        primary\n      />\n    ),\n    align: 'center',\n    style: { paddingLeft: 0, paddingRight: 0, width: 88 },\n  },\n];\n\nexport default class ActionsTable extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { filter: 'active', selected: [] };\n  }\n\n  getFilteredActions = () =>\n    this.props.adminActions.filter(a => a.status === this.state.filter);\n\n  handleFilter = (_, newFilter) => this.setState({ filter: newFilter });\n\n  handleRowSelect = rowIndexes => this.setState({ selected: rowIndexes });\n\n  handleClick = () =>\n    this.state.completed.forEach(actionId =>\n      cleanMethod('completeAction', { id: actionId }).catch((e) => {\n        console.log('error completing action:', e);\n      }));\n\n  render() {\n    const actions = this.getFilteredActions();\n    return (\n      <article>\n        <div\n          style={{\n            display: 'flex',\n            justifyContent: 'flex-start',\n            alignItems: 'center',\n          }}\n        >\n          <Select\n            id=\"filter\"\n            value={this.state.filter}\n            onChange={this.handleFilter}\n            options={[\n              { id: 'active', label: 'Actif' },\n              { id: 'completed', label: 'Complété' },\n            ]}\n            renderValue={value => (value === 'active' ? 'Actif' : 'Complété')}\n          />\n          <Button\n            label=\"Marquer comme complété\"\n            onClick={this.handleClick}\n            disabled={this.state.selected.length === 0}\n            primary\n          />\n        </div>\n\n        <Table\n          selectable\n          onRowSelect={this.handleRowSelect}\n          columnOptions={columnOptions}\n          rows={actions.map((action) => {\n            const loan = this.props.loans.find(r => r._id === action.loanId);\n            const title = <T id={`adminAction.${action.type}`} />;\n            const actionDetails = getActions.find(a => a.id === action.type);\n\n            return {\n              id: action._id,\n              columns: [\n                loan ? loan.name : 'Demande supprimée',\n                title,\n                action.createdAt,\n                actionDetails.comment && loan\n                  ? actionDetails.comment(loan)\n                  : '-',\n                loan\n                  ? () =>\n                    actionDetails.handleClick(loan, this.props.history.push)\n                  : () => {},\n              ],\n            };\n          })}\n        />\n      </article>\n    );\n  }\n}\n\nActionsTable.propTypes = {\n  adminActions: PropTypes.arrayOf(PropTypes.object).isRequired,\n  loans: PropTypes.arrayOf(PropTypes.object).isRequired,\n  history: PropTypes.objectOf(PropTypes.any).isRequired,\n};\n"]},"hash":"fe6f013ab031b33992fc571e2f761b15b41e55f7"}
