{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"simpl-schema","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"SimpleSchema"}]},{"source":"../constants","imported":["PURCHASE_TYPE","INTEREST_RATES","OWNER","CANTONS","AUCTION_STATUS","OFFER_TYPE","CLOSING_STEPS_TYPE","CLOSING_STEPS_STATUS","AUCTION_MOST_IMPORTANT","INSURANCE_USE_PRESET","LOAN_STRATEGY_PRESET","AMORTIZATION_STRATEGY_PRESET","PAYMENT_SCHEDULES","GENDER","USAGE_TYPE"],"specifiers":[{"kind":"named","imported":"PURCHASE_TYPE","local":"PURCHASE_TYPE"},{"kind":"named","imported":"INTEREST_RATES","local":"INTEREST_RATES"},{"kind":"named","imported":"OWNER","local":"OWNER"},{"kind":"named","imported":"CANTONS","local":"CANTONS"},{"kind":"named","imported":"AUCTION_STATUS","local":"AUCTION_STATUS"},{"kind":"named","imported":"OFFER_TYPE","local":"OFFER_TYPE"},{"kind":"named","imported":"CLOSING_STEPS_TYPE","local":"CLOSING_STEPS_TYPE"},{"kind":"named","imported":"CLOSING_STEPS_STATUS","local":"CLOSING_STEPS_STATUS"},{"kind":"named","imported":"AUCTION_MOST_IMPORTANT","local":"AUCTION_MOST_IMPORTANT"},{"kind":"named","imported":"INSURANCE_USE_PRESET","local":"INSURANCE_USE_PRESET"},{"kind":"named","imported":"LOAN_STRATEGY_PRESET","local":"LOAN_STRATEGY_PRESET"},{"kind":"named","imported":"AMORTIZATION_STRATEGY_PRESET","local":"AMORTIZATION_STRATEGY_PRESET"},{"kind":"named","imported":"PAYMENT_SCHEDULES","local":"PAYMENT_SCHEDULES"},{"kind":"named","imported":"GENDER","local":"GENDER"},{"kind":"named","imported":"USAGE_TYPE","local":"USAGE_TYPE"}]}],"exports":{"exported":["GeneralSchema","LogicSchema"],"specifiers":[{"kind":"local","local":"GeneralSchema","exported":"GeneralSchema"},{"kind":"local","local":"LogicSchema","exported":"LogicSchema"}]}}},"options":{"filename":"imports/core/api/loans/additionalSchemas.js","filenameRelative":"imports/core/api/loans/additionalSchemas.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/api/loans/additionalSchemas.js.map","sourceFileName":"imports/core/api/loans/additionalSchemas.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"additionalSchemas"},"ignored":false,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nmodule.export({\n  GeneralSchema: function GeneralSchema() {\n    return _GeneralSchema;\n  },\n  LogicSchema: function LogicSchema() {\n    return _LogicSchema;\n  }\n});\nvar SimpleSchema = void 0;\nmodule.watch(require(\"simpl-schema\"), {\n  default: function _default(v) {\n    SimpleSchema = v;\n  }\n}, 0);\nexports.GeneralSchema = _GeneralSchema;\n\nvar _PURCHASE_TYPE = void 0,\n    _INTEREST_RATES = void 0,\n    _OWNER = void 0,\n    _CANTONS = void 0,\n    _AUCTION_STATUS = void 0,\n    _OFFER_TYPE = void 0,\n    _CLOSING_STEPS_TYPE = void 0,\n    _CLOSING_STEPS_STATUS = void 0,\n    _AUCTION_MOST_IMPORTANT = void 0,\n    _INSURANCE_USE_PRESET = void 0,\n    _LOAN_STRATEGY_PRESET = void 0,\n    _AMORTIZATION_STRATEGY_PRESET = void 0,\n    _PAYMENT_SCHEDULES = void 0,\n    _GENDER = void 0,\n    _USAGE_TYPE = void 0;\n\nmodule.watch(require(\"../constants\"), {\n  PURCHASE_TYPE: function PURCHASE_TYPE(v) {\n    _PURCHASE_TYPE = v;\n  },\n  INTEREST_RATES: function INTEREST_RATES(v) {\n    _INTEREST_RATES = v;\n  },\n  OWNER: function OWNER(v) {\n    _OWNER = v;\n  },\n  CANTONS: function CANTONS(v) {\n    _CANTONS = v;\n  },\n  AUCTION_STATUS: function AUCTION_STATUS(v) {\n    _AUCTION_STATUS = v;\n  },\n  OFFER_TYPE: function OFFER_TYPE(v) {\n    _OFFER_TYPE = v;\n  },\n  CLOSING_STEPS_TYPE: function CLOSING_STEPS_TYPE(v) {\n    _CLOSING_STEPS_TYPE = v;\n  },\n  CLOSING_STEPS_STATUS: function CLOSING_STEPS_STATUS(v) {\n    _CLOSING_STEPS_STATUS = v;\n  },\n  AUCTION_MOST_IMPORTANT: function AUCTION_MOST_IMPORTANT(v) {\n    _AUCTION_MOST_IMPORTANT = v;\n  },\n  INSURANCE_USE_PRESET: function INSURANCE_USE_PRESET(v) {\n    _INSURANCE_USE_PRESET = v;\n  },\n  LOAN_STRATEGY_PRESET: function LOAN_STRATEGY_PRESET(v) {\n    _LOAN_STRATEGY_PRESET = v;\n  },\n  AMORTIZATION_STRATEGY_PRESET: function AMORTIZATION_STRATEGY_PRESET(v) {\n    _AMORTIZATION_STRATEGY_PRESET = v;\n  },\n  PAYMENT_SCHEDULES: function PAYMENT_SCHEDULES(v) {\n    _PAYMENT_SCHEDULES = v;\n  },\n  GENDER: function GENDER(v) {\n    _GENDER = v;\n  },\n  USAGE_TYPE: function USAGE_TYPE(v) {\n    _USAGE_TYPE = v;\n  }\n}, 1);\n\nvar _GeneralSchema = new SimpleSchema({\n  purchaseType: {\n    type: String,\n    defaultValue: _PURCHASE_TYPE.ACQUISITION,\n    allowedValues: Object.values(_PURCHASE_TYPE)\n  },\n  usageType: {\n    type: String,\n    defaultValue: _USAGE_TYPE.PRIMARY,\n    allowedValues: Object.values(_USAGE_TYPE)\n  },\n  fortuneUsed: {\n    type: Number,\n    min: 0,\n    max: 100000000,\n    defaultValue: 0\n  },\n  insuranceFortuneUsed: {\n    type: Number,\n    min: 0,\n    max: 100000000,\n    optional: true\n  },\n  propertyWork: {\n    type: Number,\n    min: 0,\n    max: 100000000,\n    defaultValue: 0\n  },\n  oldestAge: {\n    type: SimpleSchema.Integer,\n    optional: true,\n    min: 18,\n    max: 120\n  },\n  oldestGender: {\n    type: String,\n    optional: true,\n    allowedValues: Object.values(_GENDER)\n  },\n  partnersToAvoidExists: {\n    type: Boolean,\n    defaultValue: false\n  },\n  partnersToAvoid: {\n    type: Array,\n    defaultValue: []\n  },\n  'partnersToAvoid.$': String,\n  selectedPartner: {\n    type: String,\n    optional: true\n  },\n  canton: {\n    type: String,\n    optional: true,\n    allowedValues: Object.keys(_CANTONS)\n  },\n  loanTranches: {\n    type: Array,\n    // minCount: 1,\n    defaultValue: [{\n      type: _INTEREST_RATES.LIBOR,\n      value: 100000\n    }]\n  },\n  'loanTranches.$': Object,\n  'loanTranches.$.type': {\n    type: String,\n    optional: true,\n    allowedValues: Object.values(_INTEREST_RATES)\n  },\n  'loanTranches.$.value': {\n    type: Number,\n    optional: true,\n    min: 0,\n    max: 100000000\n  },\n  currentOwner: {\n    type: String,\n    defaultValue: _OWNER.FIRST,\n    allowedValues: Object.values(_OWNER)\n  },\n  futureOwner: {\n    type: String,\n    defaultValue: _OWNER.FIRST,\n    allowedValues: Object.values(_OWNER)\n  },\n  otherOwner: {\n    type: String,\n    optional: true\n  },\n  wantedClosingDate: {\n    type: Date,\n    optional: true\n  },\n  auctionMostImportant: {\n    type: String,\n    optional: true,\n    allowedValues: Object.values(_AUCTION_MOST_IMPORTANT)\n  }\n}); // All logic fields required by the app to trigger the right things at the right time\n\n\nvar _LogicSchema = new SimpleSchema({\n  step: {\n    type: Number,\n    defaultValue: 1,\n    min: 1,\n    max: 5\n  },\n  verification: {\n    type: Object,\n    defaultValue: {}\n  },\n  'verification.requested': {\n    type: Boolean,\n    optional: true\n  },\n  'verification.requestedTime': {\n    type: Date,\n    optional: true\n  },\n  'verification.validated': {\n    type: Boolean,\n    optional: true\n  },\n  'verification.comments': {\n    type: Array,\n    defaultValue: []\n  },\n  'verification.comments.$': String,\n  expertiseRequired: {\n    type: Boolean,\n    defaultValue: true\n  },\n  expertiseDone: {\n    type: Boolean,\n    defaultValue: false\n  },\n  expertiseValid: {\n    type: Boolean,\n    defaultValue: false\n  },\n  auction: {\n    type: Object,\n    defaultValue: {}\n  },\n  'auction.status': {\n    type: String,\n    optional: true,\n    defaultValue: _AUCTION_STATUS.NONE,\n    allowedValues: Object.values(_AUCTION_STATUS)\n  },\n  'auction.startTime': {\n    type: Date,\n    optional: true\n  },\n  'auction.endTime': {\n    type: Date,\n    optional: true\n  },\n  hasValidatedStructure: {\n    type: Boolean,\n    defaultValue: false,\n    optional: true\n  },\n  insuranceUsePreset: {\n    type: String,\n    // defaultValue: '',\n    optional: true,\n    allowedValues: Object.values(_INSURANCE_USE_PRESET)\n  },\n  loanStrategyPreset: {\n    type: String,\n    // defaultValue: '',\n    optional: true,\n    allowedValues: Object.values(_LOAN_STRATEGY_PRESET)\n  },\n  amortizationStrategyPreset: {\n    type: String,\n    // defaultValue: '',\n    optional: true,\n    allowedValues: Object.values(_AMORTIZATION_STRATEGY_PRESET)\n  },\n  lender: {\n    type: Object,\n    defaultValue: {}\n  },\n  'lender.type': {\n    type: String,\n    optional: true,\n    allowedValues: Object.values(_OFFER_TYPE)\n  },\n  'lender.offerId': {\n    type: String,\n    optional: true\n  },\n  'lender.chosenTime': {\n    type: Date,\n    optional: true\n  },\n  'lender.contacted': {\n    type: Boolean,\n    defaultValue: false\n  },\n  'lender.nextSteps': {\n    type: Array,\n    defaultValue: []\n  },\n  'lender.nextSteps.$': String,\n  'lender.contractRequested': {\n    type: Boolean,\n    defaultValue: false\n  },\n  'lender.contractLoanSent': {\n    type: Boolean,\n    defaultValue: false\n  },\n  'lender.contract': {\n    type: String,\n    defaultValue: '',\n    optional: true\n  },\n  acceptedClosing: {\n    type: Boolean,\n    defaultValue: false\n  },\n  recommendationCode: {\n    type: String,\n    defaultValue: '',\n    optional: true\n  },\n  firstPaymentDate: {\n    type: Date,\n    optional: true\n  },\n  paymentSchedule: {\n    type: String,\n    optional: true,\n    allowedValues: Object.values(_PAYMENT_SCHEDULES)\n  },\n  closingSteps: {\n    type: Array,\n    defaultValue: []\n  },\n  'closingSteps.$': Object,\n  'closingSteps.$.id': String,\n  'closingSteps.$.type': {\n    type: String,\n    allowedValues: Object.values(_CLOSING_STEPS_TYPE)\n  },\n  'closingSteps.$.title': String,\n  'closingSteps.$.description': {\n    type: String,\n    optional: true\n  },\n  'closingSteps.$.status': {\n    type: String,\n    optional: true,\n    allowedValues: Object.values(_CLOSING_STEPS_STATUS)\n  },\n  'closingSteps.$.error': {\n    type: String,\n    optional: true\n  }\n});","map":{"version":3,"sources":["imports/core/api/loans/additionalSchemas.js"],"names":["module","export","GeneralSchema","LogicSchema","SimpleSchema","watch","require","default","v","PURCHASE_TYPE","INTEREST_RATES","OWNER","CANTONS","AUCTION_STATUS","OFFER_TYPE","CLOSING_STEPS_TYPE","CLOSING_STEPS_STATUS","AUCTION_MOST_IMPORTANT","INSURANCE_USE_PRESET","LOAN_STRATEGY_PRESET","AMORTIZATION_STRATEGY_PRESET","PAYMENT_SCHEDULES","GENDER","USAGE_TYPE","purchaseType","type","String","defaultValue","ACQUISITION","allowedValues","Object","values","usageType","PRIMARY","fortuneUsed","Number","min","max","insuranceFortuneUsed","optional","propertyWork","oldestAge","Integer","oldestGender","partnersToAvoidExists","Boolean","partnersToAvoid","Array","selectedPartner","canton","keys","loanTranches","LIBOR","value","currentOwner","FIRST","futureOwner","otherOwner","wantedClosingDate","Date","auctionMostImportant","step","verification","expertiseRequired","expertiseDone","expertiseValid","auction","NONE","hasValidatedStructure","insuranceUsePreset","loanStrategyPreset","amortizationStrategyPreset","lender","acceptedClosing","recommendationCode","firstPaymentDate","paymentSchedule","closingSteps"],"mappings":"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","file":"imports/core/api/loans/additionalSchemas.js.map","sourcesContent":["import SimpleSchema from 'simpl-schema';\nimport {\n  PURCHASE_TYPE,\n  INTEREST_RATES,\n  OWNER,\n  CANTONS,\n  AUCTION_STATUS,\n  OFFER_TYPE,\n  CLOSING_STEPS_TYPE,\n  CLOSING_STEPS_STATUS,\n  AUCTION_MOST_IMPORTANT,\n  INSURANCE_USE_PRESET,\n  LOAN_STRATEGY_PRESET,\n  AMORTIZATION_STRATEGY_PRESET,\n  PAYMENT_SCHEDULES,\n  GENDER,\n  USAGE_TYPE,\n} from '../constants';\n\nexport const GeneralSchema = new SimpleSchema({\n  purchaseType: {\n    type: String,\n    defaultValue: PURCHASE_TYPE.ACQUISITION,\n    allowedValues: Object.values(PURCHASE_TYPE),\n  },\n  usageType: {\n    type: String,\n    defaultValue: USAGE_TYPE.PRIMARY,\n    allowedValues: Object.values(USAGE_TYPE),\n  },\n  fortuneUsed: {\n    type: Number,\n    min: 0,\n    max: 100000000,\n    defaultValue: 0,\n  },\n  insuranceFortuneUsed: {\n    type: Number,\n    min: 0,\n    max: 100000000,\n    optional: true,\n  },\n  propertyWork: {\n    type: Number,\n    min: 0,\n    max: 100000000,\n    defaultValue: 0,\n  },\n  oldestAge: {\n    type: SimpleSchema.Integer,\n    optional: true,\n    min: 18,\n    max: 120,\n  },\n  oldestGender: {\n    type: String,\n    optional: true,\n    allowedValues: Object.values(GENDER),\n  },\n  partnersToAvoidExists: {\n    type: Boolean,\n    defaultValue: false,\n  },\n  partnersToAvoid: {\n    type: Array,\n    defaultValue: [],\n  },\n  'partnersToAvoid.$': String,\n  selectedPartner: {\n    type: String,\n    optional: true,\n  },\n  canton: {\n    type: String,\n    optional: true,\n    allowedValues: Object.keys(CANTONS),\n  },\n  loanTranches: {\n    type: Array,\n    // minCount: 1,\n    defaultValue: [\n      {\n        type: INTEREST_RATES.LIBOR,\n        value: 100000,\n      },\n    ],\n  },\n  'loanTranches.$': Object,\n  'loanTranches.$.type': {\n    type: String,\n    optional: true,\n    allowedValues: Object.values(INTEREST_RATES),\n  },\n  'loanTranches.$.value': {\n    type: Number,\n    optional: true,\n    min: 0,\n    max: 100000000,\n  },\n  currentOwner: {\n    type: String,\n    defaultValue: OWNER.FIRST,\n    allowedValues: Object.values(OWNER),\n  },\n  futureOwner: {\n    type: String,\n    defaultValue: OWNER.FIRST,\n    allowedValues: Object.values(OWNER),\n  },\n  otherOwner: {\n    type: String,\n    optional: true,\n  },\n  wantedClosingDate: {\n    type: Date,\n    optional: true,\n  },\n  auctionMostImportant: {\n    type: String,\n    optional: true,\n    allowedValues: Object.values(AUCTION_MOST_IMPORTANT),\n  },\n});\n\n// All logic fields required by the app to trigger the right things at the right time\nexport const LogicSchema = new SimpleSchema({\n  step: {\n    type: Number,\n    defaultValue: 1,\n    min: 1,\n    max: 5,\n  },\n  verification: {\n    type: Object,\n    defaultValue: {},\n  },\n  'verification.requested': {\n    type: Boolean,\n    optional: true,\n  },\n  'verification.requestedTime': {\n    type: Date,\n    optional: true,\n  },\n  'verification.validated': {\n    type: Boolean,\n    optional: true,\n  },\n  'verification.comments': {\n    type: Array,\n    defaultValue: [],\n  },\n  'verification.comments.$': String,\n  expertiseRequired: {\n    type: Boolean,\n    defaultValue: true,\n  },\n  expertiseDone: {\n    type: Boolean,\n    defaultValue: false,\n  },\n  expertiseValid: {\n    type: Boolean,\n    defaultValue: false,\n  },\n  auction: {\n    type: Object,\n    defaultValue: {},\n  },\n  'auction.status': {\n    type: String,\n    optional: true,\n    defaultValue: AUCTION_STATUS.NONE,\n    allowedValues: Object.values(AUCTION_STATUS),\n  },\n  'auction.startTime': {\n    type: Date,\n    optional: true,\n  },\n  'auction.endTime': {\n    type: Date,\n    optional: true,\n  },\n  hasValidatedStructure: {\n    type: Boolean,\n    defaultValue: false,\n    optional: true,\n  },\n  insuranceUsePreset: {\n    type: String,\n    // defaultValue: '',\n    optional: true,\n    allowedValues: Object.values(INSURANCE_USE_PRESET),\n  },\n  loanStrategyPreset: {\n    type: String,\n    // defaultValue: '',\n    optional: true,\n    allowedValues: Object.values(LOAN_STRATEGY_PRESET),\n  },\n  amortizationStrategyPreset: {\n    type: String,\n    // defaultValue: '',\n    optional: true,\n    allowedValues: Object.values(AMORTIZATION_STRATEGY_PRESET),\n  },\n  lender: {\n    type: Object,\n    defaultValue: {},\n  },\n  'lender.type': {\n    type: String,\n    optional: true,\n    allowedValues: Object.values(OFFER_TYPE),\n  },\n  'lender.offerId': {\n    type: String,\n    optional: true,\n  },\n  'lender.chosenTime': {\n    type: Date,\n    optional: true,\n  },\n  'lender.contacted': {\n    type: Boolean,\n    defaultValue: false,\n  },\n  'lender.nextSteps': {\n    type: Array,\n    defaultValue: [],\n  },\n  'lender.nextSteps.$': String,\n  'lender.contractRequested': {\n    type: Boolean,\n    defaultValue: false,\n  },\n  'lender.contractLoanSent': {\n    type: Boolean,\n    defaultValue: false,\n  },\n  'lender.contract': {\n    type: String,\n    defaultValue: '',\n    optional: true,\n  },\n  acceptedClosing: {\n    type: Boolean,\n    defaultValue: false,\n  },\n  recommendationCode: {\n    type: String,\n    defaultValue: '',\n    optional: true,\n  },\n  firstPaymentDate: {\n    type: Date,\n    optional: true,\n  },\n  paymentSchedule: {\n    type: String,\n    optional: true,\n    allowedValues: Object.values(PAYMENT_SCHEDULES),\n  },\n  closingSteps: {\n    type: Array,\n    defaultValue: [],\n  },\n  'closingSteps.$': Object,\n  'closingSteps.$.id': String,\n  'closingSteps.$.type': {\n    type: String,\n    allowedValues: Object.values(CLOSING_STEPS_TYPE),\n  },\n  'closingSteps.$.title': String,\n  'closingSteps.$.description': { type: String, optional: true },\n  'closingSteps.$.status': {\n    type: String,\n    optional: true,\n    allowedValues: Object.values(CLOSING_STEPS_STATUS),\n  },\n  'closingSteps.$.error': { type: String, optional: true },\n});\n"]},"hash":"cf85969624fb4408f3a6b4d096b107199ca3c5f0"}
