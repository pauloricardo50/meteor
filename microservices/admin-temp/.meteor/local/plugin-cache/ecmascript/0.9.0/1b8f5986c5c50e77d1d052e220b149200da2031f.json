{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","createClass","classCallCheck","extends","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"prop-types","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PropTypes"}]}],"exports":{"exported":["STATUS"],"specifiers":[{"kind":"local","local":"STATUS","exported":"STATUS"}]}}},"options":{"filename":"imports/core/components/AutoForm/ValidIcon/ValidIconContainer.jsx","filenameRelative":"imports/core/components/AutoForm/ValidIcon/ValidIconContainer.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/components/AutoForm/ValidIcon/ValidIconContainer.jsx.map","sourceFileName":"imports/core/components/AutoForm/ValidIcon/ValidIconContainer.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"ValidIconContainer"},"ignored":false,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.STATUS = undefined;\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.export({\n  STATUS: function STATUS() {\n    return _STATUS;\n  }\n});\n\nvar React = void 0,\n    _Component = void 0;\n\nmodule.watch(require(\"react\"), {\n  default: function _default(v) {\n    React = v;\n  },\n  Component: function Component(v) {\n    _Component = v;\n  }\n}, 0);\nexports.STATUS = _STATUS;\nvar PropTypes = void 0;\nmodule.watch(require(\"prop-types\"), {\n  default: function _default(v) {\n    PropTypes = v;\n  }\n}, 1);\nvar _STATUS = {\n  ERROR: 'ERROR',\n  VALID: 'VALID',\n  HIDE: 'HIDE',\n  TODO: 'TODO'\n};\n\nvar ValidIconContainer = function ValidIconContainer(WrappedComponent) {\n  return function (_Component2) {\n    (0, _inherits3.default)(ValidIconContainerHOC, _Component2);\n\n    function ValidIconContainerHOC(props) {\n      (0, _classCallCheck3.default)(this, ValidIconContainerHOC);\n\n      var _this = (0, _possibleConstructorReturn3.default)(this, (ValidIconContainerHOC.__proto__ || Object.getPrototypeOf(ValidIconContainerHOC)).call(this, props));\n\n      _this.getStatus = function () {\n        var _this$props = _this.props,\n            error = _this$props.error,\n            required = _this$props.required,\n            value = _this$props.value;\n\n        if (error) {\n          return _STATUS.ERROR;\n        } else if (required === true && [undefined, '', null].includes(value)) {\n          return _STATUS.TODO;\n        }\n\n        return _STATUS.VALID;\n      };\n\n      _this.state = {\n        status: _this.getStatus()\n      };\n      return _this;\n    }\n\n    (0, _createClass3.default)(ValidIconContainerHOC, [{\n      key: \"componentWillReceiveProps\",\n      value: function componentWillReceiveProps(nextProps) {\n        var _this2 = this;\n\n        if (this.props.saving === false && nextProps.saving === true) {\n          // If saving is happening, hide the icon, and then make it reappear\n          this.setState({\n            status: _STATUS.HIDE\n          }, function () {\n            return _this2.setState({\n              status: _this2.getStatus()\n            });\n          });\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var status = this.state.status;\n        return React.createElement(WrappedComponent, (0, _extends3.default)({}, this.props, {\n          status: status\n        }));\n      }\n    }]);\n    return ValidIconContainerHOC;\n  }(_Component);\n};\n\nmodule.exportDefault(ValidIconContainer);","map":{"version":3,"sources":["imports/core/components/AutoForm/ValidIcon/ValidIconContainer.jsx"],"names":["module","export","STATUS","React","Component","watch","require","default","v","PropTypes","ERROR","VALID","HIDE","TODO","ValidIconContainer","props","getStatus","error","required","value","undefined","includes","state","status","nextProps","saving","setState","exportDefault"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,OAAOC,MAAP,CAAc;AAACC,UAAO;AAAA,WAAIA,OAAJ;AAAA;AAAR,CAAd;;AAAmC,IAAIC,cAAJ;AAAA,IAAUC,mBAAV;;AAAoBJ,OAAOK,KAAP,CAAaC,QAAQ,OAAR,CAAb,EAA8B;AAACC,SAAD,oBAASC,CAAT,EAAW;AAACL,YAAMK,CAAN;AAAQ,GAApB;AAAqBJ,WAArB,qBAA+BI,CAA/B,EAAiC;AAACJ,iBAAUI,CAAV;AAAY;AAA9C,CAA9B,EAA8E,CAA9E;;AAAiF,IAAIC,kBAAJ;AAAcT,OAAOK,KAAP,CAAaC,QAAQ,YAAR,CAAb,EAAmC;AAACC,SAAD,oBAASC,CAAT,EAAW;AAACC,gBAAUD,CAAV;AAAY;AAAxB,CAAnC,EAA6D,CAA7D;AAG/I,IAAMN,UAAS;AACpBQ,SAAO,OADa;AAEpBC,SAAO,OAFa;AAGpBC,QAAM,MAHc;AAIpBC,QAAM;AAJc,CAAf;;AAOP,IAAMC,qBAAqB,SAArBA,kBAAqB;AAAA;AAAA;;AAEvB,mCAAYC,KAAZ,EAAmB;AAAA;;AAAA,8JACXA,KADW;;AAAA,YAenBC,SAfmB,GAeP,YAAM;AAAA,0BACmB,MAAKD,KADxB;AAAA,YACRE,KADQ,eACRA,KADQ;AAAA,YACDC,QADC,eACDA,QADC;AAAA,YACSC,KADT,eACSA,KADT;;AAGhB,YAAIF,KAAJ,EAAW;AACT,iBAAOf,QAAOQ,KAAd;AACD,SAFD,MAEO,IAAIQ,aAAa,IAAb,IAAqB,CAACE,SAAD,EAAY,EAAZ,EAAgB,IAAhB,EAAsBC,QAAtB,CAA+BF,KAA/B,CAAzB,EAAgE;AACrE,iBAAOjB,QAAOW,IAAd;AACD;;AAED,eAAOX,QAAOS,KAAd;AACD,OAzBkB;;AAEjB,YAAKW,KAAL,GAAa;AACXC,gBAAQ,MAAKP,SAAL;AADG,OAAb;AAFiB;AAKlB;;AAPsB;AAAA;AAAA,gDASGQ,SATH,EASc;AAAA;;AACnC,YAAI,KAAKT,KAAL,CAAWU,MAAX,KAAsB,KAAtB,IAA+BD,UAAUC,MAAV,KAAqB,IAAxD,EAA8D;AAC5D;AACA,eAAKC,QAAL,CAAc;AAAEH,oBAAQrB,QAAOU;AAAjB,WAAd,EAAuC;AAAA,mBACrC,OAAKc,QAAL,CAAc;AAAEH,sBAAQ,OAAKP,SAAL;AAAV,aAAd,CADqC;AAAA,WAAvC;AAED;AACF;AAfsB;AAAA;AAAA,+BA6Bd;AAAA,YACCO,MADD,GACY,KAAKD,KADjB,CACCC,MADD;AAEP,eAAO,oBAAC,gBAAD,6BAAsB,KAAKR,KAA3B;AAAkC,kBAAQQ;AAA1C,WAAP;AACD;AAhCsB;AAAA;AAAA,IACWnB,UADX;AAAA,CAA3B;;AAVAJ,OAAO2B,aAAP,CA6Ceb,kBA7Cf","file":"imports/core/components/AutoForm/ValidIcon/ValidIconContainer.jsx.map","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport const STATUS = {\n  ERROR: 'ERROR',\n  VALID: 'VALID',\n  HIDE: 'HIDE',\n  TODO: 'TODO',\n};\n\nconst ValidIconContainer = WrappedComponent =>\n  class ValidIconContainerHOC extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        status: this.getStatus(),\n      };\n    }\n\n    componentWillReceiveProps(nextProps) {\n      if (this.props.saving === false && nextProps.saving === true) {\n        // If saving is happening, hide the icon, and then make it reappear\n        this.setState({ status: STATUS.HIDE }, () =>\n          this.setState({ status: this.getStatus() }));\n      }\n    }\n\n    getStatus = () => {\n      const { error, required, value } = this.props;\n\n      if (error) {\n        return STATUS.ERROR;\n      } else if (required === true && [undefined, '', null].includes(value)) {\n        return STATUS.TODO;\n      }\n\n      return STATUS.VALID;\n    };\n\n    render() {\n      const { status } = this.state;\n      return <WrappedComponent {...this.props} status={status} />;\n    }\n  };\n\nexport default ValidIconContainer;\n"]},"hash":"1b8f5986c5c50e77d1d052e220b149200da2031f"}
