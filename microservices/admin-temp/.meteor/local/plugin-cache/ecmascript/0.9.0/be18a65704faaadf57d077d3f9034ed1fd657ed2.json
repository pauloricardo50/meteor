{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"moment","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"moment"}]},{"source":"../api","imported":["Offers","constants"],"specifiers":[{"kind":"named","imported":"Offers","local":"Offers"},{"kind":"named","imported":"constants","local":"constants"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/core/arrays/adminActions.js","filenameRelative":"imports/core/arrays/adminActions.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/arrays/adminActions.js.map","sourceFileName":"imports/core/arrays/adminActions.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"adminActions"},"ignored":false,"code":"\"use strict\";\n\nvar moment = void 0;\nmodule.watch(require(\"moment\"), {\n  default: function _default(v) {\n    moment = v;\n  }\n}, 0);\n\nvar _Offers = void 0,\n    _constants = void 0;\n\nmodule.watch(require(\"../api\"), {\n  Offers: function Offers(v) {\n    _Offers = v;\n  },\n  constants: function constants(v) {\n    _constants = v;\n  }\n}, 1);\nvar _constants2 = _constants,\n    ADMIN_ACTION_TYPE = _constants2.ADMIN_ACTION_TYPE;\nvar getActions = [{\n  id: ADMIN_ACTION_TYPE.VERIFY,\n  handleClick: function handleClick(loan, pushToHistory) {\n    pushToHistory(\"/loans/\" + loan._id + \"?tab=forms\");\n    window.open(location.origin + \"/loans/\" + loan._id + \"/verify\", '_blank', 'width=700, height=700');\n  }\n}, {\n  id: ADMIN_ACTION_TYPE.AUCTION,\n  comment: function comment(loan) {\n    return \"Fin: \" + moment(loan.logic.auction.endTime).format('D MMM H:mm:ss') + \", Offres: \" + _Offers.find({\n      loanId: loan._id\n    }).count();\n  },\n  handleClick: function handleClick(loan, pushToHistory) {\n    pushToHistory(\"/loans/\" + loan._id);\n  }\n}, {\n  id: ADMIN_ACTION_TYPE.LENDER_CHOSEN,\n  handleClick: function handleClick(loan, pushToHistory) {\n    pushToHistory(\"/loans/\" + loan._id + \"/contactlenders\");\n  }\n}, {\n  id: 'addFinalSteps',\n  handleClick: function handleClick(loan, pushToHistory) {\n    pushToHistory(\"/loans/\" + loan._id + \"/finalsteps\");\n  }\n}, {\n  id: 'verifyFinalSteps',\n  comment: function comment() {\n    return 'Contrat 0%, Décaissement: 0%';\n  },\n  // TODO\n  handleClick: function handleClick(loan, pushToHistory) {\n    pushToHistory(\"/loans/\" + loan._id + \"?tab=files\");\n  }\n}, {\n  id: 'loanContract',\n  handleClick: function handleClick(loan, pushToHistory) {\n    pushToHistory(\"/loans/\" + loan._id + \"?tab=actions\");\n  }\n}, {\n  id: 'uploadContract',\n  handleClick: function handleClick(loan, pushToHistory) {\n    pushToHistory(\"/loans/\" + loan._id + \"?tab=actions\");\n  }\n}, {\n  id: 'confirmClosing',\n  handleClick: function handleClick(loan, pushToHistory) {\n    pushToHistory(\"/loans/\" + loan._id + \"?tab=actions\");\n  }\n}];\nmodule.exportDefault(getActions);","map":{"version":3,"sources":["imports/core/arrays/adminActions.js"],"names":["moment","module","watch","require","default","v","Offers","constants","ADMIN_ACTION_TYPE","getActions","id","VERIFY","handleClick","loan","pushToHistory","_id","window","open","location","origin","AUCTION","comment","logic","auction","endTime","format","find","loanId","count","LENDER_CHOSEN","exportDefault"],"mappings":";;AAAA,IAAIA,eAAJ;AAAWC,OAAOC,KAAP,CAAaC,QAAQ,QAAR,CAAb,EAA+B;AAACC,SAAD,oBAASC,CAAT,EAAW;AAACL,aAAOK,CAAP;AAAS;AAArB,CAA/B,EAAsD,CAAtD;;AAAyD,IAAIC,gBAAJ;AAAA,IAAWC,mBAAX;;AAAqBN,OAAOC,KAAP,CAAaC,QAAQ,QAAR,CAAb,EAA+B;AAACG,QAAD,kBAAQD,CAAR,EAAU;AAACC,cAAOD,CAAP;AAAS,GAApB;AAAqBE,WAArB,qBAA+BF,CAA/B,EAAiC;AAACE,iBAAUF,CAAV;AAAY;AAA9C,CAA/B,EAA+E,CAA/E;kBAG3DE,U;IAAtBC,iB,eAAAA,iB;AAER,IAAMC,aAAa,CACjB;AACEC,MAAIF,kBAAkBG,MADxB;AAEEC,eAAa,qBAACC,IAAD,EAAOC,aAAP,EAAyB;AACpCA,8BAAwBD,KAAKE,GAA7B;AACAC,WAAOC,IAAP,CACKC,SAASC,MADd,eAC8BN,KAAKE,GADnC,cAEE,QAFF,EAGE,uBAHF;AAKD;AATH,CADiB,EAYjB;AACEL,MAAIF,kBAAkBY,OADxB;AAEEC,WAAS;AAAA,qBACCrB,OAAOa,KAAKS,KAAL,CAAWC,OAAX,CAAmBC,OAA1B,EAAmCC,MAAnC,CAA0C,eAA1C,CADD,kBACwEnB,QAAOoB,IAAP,CAAY;AACzFC,cAAQd,KAAKE;AAD4E,KAAZ,EAE5Ea,KAF4E,EADxE;AAAA,GAFX;AAMEhB,eAAa,qBAACC,IAAD,EAAOC,aAAP,EAAyB;AACpCA,8BAAwBD,KAAKE,GAA7B;AACD;AARH,CAZiB,EAsBjB;AACEL,MAAIF,kBAAkBqB,aADxB;AAEEjB,eAAa,qBAACC,IAAD,EAAOC,aAAP,EAAyB;AACpCA,8BAAwBD,KAAKE,GAA7B;AACD;AAJH,CAtBiB,EA4BjB;AACEL,MAAI,eADN;AAEEE,eAAa,qBAACC,IAAD,EAAOC,aAAP,EAAyB;AACpCA,8BAAwBD,KAAKE,GAA7B;AACD;AAJH,CA5BiB,EAkCjB;AACEL,MAAI,kBADN;AAEEW,WAAS;AAAA,WAAM,8BAAN;AAAA,GAFX;AAEiD;AAC/CT,eAAa,qBAACC,IAAD,EAAOC,aAAP,EAAyB;AACpCA,8BAAwBD,KAAKE,GAA7B;AACD;AALH,CAlCiB,EAyCjB;AACEL,MAAI,cADN;AAEEE,eAAa,qBAACC,IAAD,EAAOC,aAAP,EAAyB;AACpCA,8BAAwBD,KAAKE,GAA7B;AACD;AAJH,CAzCiB,EA+CjB;AACEL,MAAI,gBADN;AAEEE,eAAa,qBAACC,IAAD,EAAOC,aAAP,EAAyB;AACpCA,8BAAwBD,KAAKE,GAA7B;AACD;AAJH,CA/CiB,EAqDjB;AACEL,MAAI,gBADN;AAEEE,eAAa,qBAACC,IAAD,EAAOC,aAAP,EAAyB;AACpCA,8BAAwBD,KAAKE,GAA7B;AACD;AAJH,CArDiB,CAAnB;AALAd,OAAO6B,aAAP,CAkEerB,UAlEf","file":"imports/core/arrays/adminActions.js.map","sourcesContent":["import moment from 'moment';\nimport { Offers, constants } from 'core/api';\n\nconst { ADMIN_ACTION_TYPE } = constants;\n\nconst getActions = [\n  {\n    id: ADMIN_ACTION_TYPE.VERIFY,\n    handleClick: (loan, pushToHistory) => {\n      pushToHistory(`/loans/${loan._id}?tab=forms`);\n      window.open(\n        `${location.origin}/loans/${loan._id}/verify`,\n        '_blank',\n        'width=700, height=700',\n      );\n    },\n  },\n  {\n    id: ADMIN_ACTION_TYPE.AUCTION,\n    comment: loan =>\n      `Fin: ${moment(loan.logic.auction.endTime).format('D MMM H:mm:ss')}, Offres: ${Offers.find({\n        loanId: loan._id,\n      }).count()}`,\n    handleClick: (loan, pushToHistory) => {\n      pushToHistory(`/loans/${loan._id}`);\n    },\n  },\n  {\n    id: ADMIN_ACTION_TYPE.LENDER_CHOSEN,\n    handleClick: (loan, pushToHistory) => {\n      pushToHistory(`/loans/${loan._id}/contactlenders`);\n    },\n  },\n  {\n    id: 'addFinalSteps',\n    handleClick: (loan, pushToHistory) => {\n      pushToHistory(`/loans/${loan._id}/finalsteps`);\n    },\n  },\n  {\n    id: 'verifyFinalSteps',\n    comment: () => 'Contrat 0%, Décaissement: 0%', // TODO\n    handleClick: (loan, pushToHistory) => {\n      pushToHistory(`/loans/${loan._id}?tab=files`);\n    },\n  },\n  {\n    id: 'loanContract',\n    handleClick: (loan, pushToHistory) => {\n      pushToHistory(`/loans/${loan._id}?tab=actions`);\n    },\n  },\n  {\n    id: 'uploadContract',\n    handleClick: (loan, pushToHistory) => {\n      pushToHistory(`/loans/${loan._id}?tab=actions`);\n    },\n  },\n  {\n    id: 'confirmClosing',\n    handleClick: (loan, pushToHistory) => {\n      pushToHistory(`/loans/${loan._id}?tab=actions`);\n    },\n  },\n];\n\nexport default getActions;\n"]},"hash":"be18a65704faaadf57d077d3f9034ed1fd657ed2"}
