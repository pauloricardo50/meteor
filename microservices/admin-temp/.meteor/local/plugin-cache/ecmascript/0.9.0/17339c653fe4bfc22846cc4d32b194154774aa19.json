{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","createClass","classCallCheck","extends","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"React"}]},{"source":"prop-types","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PropTypes"}]},{"source":"../../../core/components/Button","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Button"}]},{"source":"../../../core/components/Recap","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Recap"}]},{"source":"../../../core/utils/renderObject","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"renderObject"}]},{"source":"../../../core/utils/loanFunctions","imported":["getLoanValue"],"specifiers":[{"kind":"named","imported":"getLoanValue","local":"getLoanValue"}]},{"source":"../../../core/components/Translation","imported":["IntlNumber"],"specifiers":[{"kind":"named","imported":"IntlNumber","local":"IntlNumber"}]},{"source":"./StepStatus","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"StepStatus"}]},{"source":"./FileVerificationNotification","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"FileVerificationNotification"}]},{"source":"./TasksTableWithData","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"TasksTableWithData"}]}],"exports":{"exported":["OverviewTab"],"specifiers":[{"kind":"local","local":"OverviewTab","exported":"default"}]}}},"options":{"filename":"imports/ui/pages/SingleLoanPage/OverviewTab.jsx","filenameRelative":"imports/ui/pages/SingleLoanPage/OverviewTab.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/ui/pages/SingleLoanPage/OverviewTab.jsx.map","sourceFileName":"imports/ui/pages/SingleLoanPage/OverviewTab.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"OverviewTab"},"ignored":false,"code":"\"use strict\";\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.export({\n  default: function _default() {\n    return OverviewTab;\n  }\n});\nvar React = void 0;\nmodule.watch(require(\"react\"), {\n  default: function _default(v) {\n    React = v;\n  }\n}, 0);\nvar PropTypes = void 0;\nmodule.watch(require(\"prop-types\"), {\n  default: function _default(v) {\n    PropTypes = v;\n  }\n}, 1);\nvar Button = void 0;\nmodule.watch(require(\"../../../core/components/Button\"), {\n  default: function _default(v) {\n    Button = v;\n  }\n}, 2);\nvar Recap = void 0;\nmodule.watch(require(\"../../../core/components/Recap\"), {\n  default: function _default(v) {\n    Recap = v;\n  }\n}, 3);\nvar renderObject = void 0;\nmodule.watch(require(\"../../../core/utils/renderObject\"), {\n  default: function _default(v) {\n    renderObject = v;\n  }\n}, 4);\n\nvar _getLoanValue = void 0;\n\nmodule.watch(require(\"../../../core/utils/loanFunctions\"), {\n  getLoanValue: function getLoanValue(v) {\n    _getLoanValue = v;\n  }\n}, 5);\n\nvar _IntlNumber = void 0;\n\nmodule.watch(require(\"../../../core/components/Translation\"), {\n  IntlNumber: function IntlNumber(v) {\n    _IntlNumber = v;\n  }\n}, 6);\nvar StepStatus = void 0;\nmodule.watch(require(\"./StepStatus\"), {\n  default: function _default(v) {\n    StepStatus = v;\n  }\n}, 7);\nvar FileVerificationNotification = void 0;\nmodule.watch(require(\"./FileVerificationNotification\"), {\n  default: function _default(v) {\n    FileVerificationNotification = v;\n  }\n}, 8);\nvar TasksTableWithData = void 0;\nmodule.watch(require(\"./TasksTableWithData\"), {\n  default: function _default(v) {\n    TasksTableWithData = v;\n  }\n}, 9);\nvar styles = {\n  recapDiv: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    width: 400\n  }\n};\n\nvar OverviewTab = function (_React$Component) {\n  (0, _inherits3.default)(OverviewTab, _React$Component);\n\n  function OverviewTab(props) {\n    (0, _classCallCheck3.default)(this, OverviewTab);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (OverviewTab.__proto__ || Object.getPrototypeOf(OverviewTab)).call(this, props));\n\n    _this.state = {\n      showObject: false\n    };\n    return _this;\n  }\n\n  (0, _createClass3.default)(OverviewTab, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          loan = _props.loan,\n          borrowers = _props.borrowers,\n          dataToPassDown = _props.dataToPassDown;\n      var showObject = this.state.showObject;\n      return React.createElement(\n        \"div\",\n        null,\n        React.createElement(\n          \"h1\",\n          null,\n          loan.name || 'Demande de Prêt',\n          \" - Emprunt de\",\n          ' ',\n          React.createElement(_IntlNumber, {\n            value: _getLoanValue({\n              loan: loan,\n              property: loan.property\n            }),\n            format: \"money\"\n          })\n        ),\n        React.createElement(StepStatus, (0, _extends3.default)({}, this.props, {\n          serverTime: this.state.serverTime\n        })),\n        React.createElement(FileVerificationNotification, {\n          loan: loan,\n          borrowers: loan.borrowers\n        }),\n        React.createElement(\"hr\", null),\n        React.createElement(\n          \"div\",\n          {\n            className: \"flex\",\n            style: {\n              width: '100%',\n              flexWrap: 'wrap',\n              justifyContent: 'space-around'\n            }\n          },\n          React.createElement(\n            \"div\",\n            {\n              style: styles.recapDiv\n            },\n            React.createElement(\n              \"h2\",\n              {\n                className: \"fixed-size\"\n              },\n              \"R\\xE9capitulatif\"\n            ),\n            React.createElement(Recap, (0, _extends3.default)({}, this.props, {\n              arrayName: \"dashboard\"\n            }))\n          ),\n          React.createElement(\n            \"div\",\n            {\n              className: \"flex-col\"\n            },\n            borrowers.map(function (b, i) {\n              return React.createElement(\n                \"div\",\n                {\n                  style: styles.recapDiv,\n                  key: b._id\n                },\n                React.createElement(\n                  \"h2\",\n                  {\n                    className: \"fixed-size\"\n                  },\n                  b.firstName || \"Emprunteur \" + (i + 1)\n                ),\n                React.createElement(Recap, (0, _extends3.default)({}, _this2.props, {\n                  arrayName: \"borrower\",\n                  borrower: b\n                }))\n              );\n            })\n          )\n        ),\n        React.createElement(\n          \"h2\",\n          {\n            className: \"fixed-size\"\n          },\n          \"Taches\"\n        ),\n        React.createElement(TasksTableWithData, (0, _extends3.default)({}, props, {\n          showAssignee: true\n        })),\n        React.createElement(\"hr\", null),\n        React.createElement(\n          \"div\",\n          {\n            className: \"text-center\"\n          },\n          React.createElement(Button, {\n            raised: true,\n            label: showObject ? 'Masquer' : 'Afficher détails',\n            onClick: function onClick() {\n              return _this2.setState(function (prev) {\n                return {\n                  showObject: !prev.showObject\n                };\n              });\n            }\n          })\n        ),\n        showObject && React.createElement(\n          \"ul\",\n          {\n            className: \"loan-map\"\n          },\n          Object.keys(loan).map(function (key) {\n            return renderObject(key, loan);\n          })\n        )\n      );\n    }\n  }]);\n  return OverviewTab;\n}(React.Component);\n\nOverviewTab.propTypes = {\n  loan: PropTypes.objectOf(PropTypes.any).isRequired,\n  borrowers: PropTypes.arrayOf(PropTypes.object).isRequired,\n  dataToPassDown: PropTypes.arrayOf(PropTypes.object).isRequired\n};","map":{"version":3,"sources":["imports/ui/pages/SingleLoanPage/OverviewTab.jsx"],"names":["module","export","default","OverviewTab","React","watch","require","v","PropTypes","Button","Recap","renderObject","getLoanValue","IntlNumber","StepStatus","FileVerificationNotification","TasksTableWithData","styles","recapDiv","display","flexDirection","alignItems","width","props","state","showObject","loan","borrowers","dataToPassDown","name","property","serverTime","flexWrap","justifyContent","map","b","i","_id","firstName","setState","prev","Object","keys","key","Component","propTypes","objectOf","any","isRequired","arrayOf","object"],"mappings":"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","file":"imports/ui/pages/SingleLoanPage/OverviewTab.jsx.map","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Button from 'core/components/Button';\n\nimport Recap from 'core/components/Recap';\nimport renderObject from 'core/utils/renderObject';\nimport { getLoanValue } from 'core/utils/loanFunctions';\nimport { IntlNumber } from 'core/components/Translation';\nimport StepStatus from './StepStatus';\nimport FileVerificationNotification from './FileVerificationNotification';\nimport TasksTableWithData from './TasksTableWithData';\n\nconst styles = {\n  recapDiv: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    width: 400,\n  },\n};\n\nexport default class OverviewTab extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { showObject: false };\n  }\n\n  render() {\n    const { loan, borrowers, dataToPassDown } = this.props;\n    const { showObject } = this.state;\n\n    return (\n      <div>\n        <h1>\n          {loan.name || 'Demande de Prêt'} - Emprunt de{' '}\n          <IntlNumber\n            value={getLoanValue({\n              loan,\n              property: loan.property,\n            })}\n            format=\"money\"\n          />\n        </h1>\n\n        <StepStatus {...this.props} serverTime={this.state.serverTime} />\n\n        <FileVerificationNotification loan={loan} borrowers={loan.borrowers} />\n        <hr />\n        <div\n          className=\"flex\"\n          style={{\n            width: '100%',\n            flexWrap: 'wrap',\n            justifyContent: 'space-around',\n          }}\n        >\n          <div style={styles.recapDiv}>\n            <h2 className=\"fixed-size\">Récapitulatif</h2>\n            <Recap {...this.props} arrayName=\"dashboard\" />\n          </div>\n\n          <div className=\"flex-col\">\n            {borrowers.map((b, i) => (\n              <div style={styles.recapDiv} key={b._id}>\n                <h2 className=\"fixed-size\">\n                  {b.firstName || `Emprunteur ${i + 1}`}\n                </h2>\n                <Recap {...this.props} arrayName=\"borrower\" borrower={b} />\n              </div>\n            ))}\n          </div>\n        </div>\n        \n        <h2 className=\"fixed-size\">Taches</h2>\n        <TasksTableWithData {...props} showAssignee />\n\n        <hr />\n\n        <div className=\"text-center\">\n          <Button\n            raised\n            label={showObject ? 'Masquer' : 'Afficher détails'}\n            onClick={() =>\n              this.setState(prev => ({\n                showObject: !prev.showObject,\n              }))\n            }\n          />\n        </div>\n        {showObject && (\n          <ul className=\"loan-map\">\n            {Object.keys(loan).map(key => renderObject(key, loan))}\n          </ul>\n        )}\n      </div>\n    );\n  }\n}\n\nOverviewTab.propTypes = {\n  loan: PropTypes.objectOf(PropTypes.any).isRequired,\n  borrowers: PropTypes.arrayOf(PropTypes.object).isRequired,\n  dataToPassDown: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n"]},"hash":"17339c653fe4bfc22846cc4d32b194154774aa19"}
