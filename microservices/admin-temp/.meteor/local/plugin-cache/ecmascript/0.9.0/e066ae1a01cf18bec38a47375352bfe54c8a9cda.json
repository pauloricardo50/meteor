{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","createClass","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"prop-types","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PropTypes"}]},{"source":"classnames","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"classnames"}]}],"exports":{"exported":["FileDropper"],"specifiers":[{"kind":"local","local":"FileDropper","exported":"default"}]}}},"options":{"filename":"imports/core/components/UploaderArray/FileDropper.jsx","filenameRelative":"imports/core/components/UploaderArray/FileDropper.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/components/UploaderArray/FileDropper.jsx.map","sourceFileName":"imports/core/components/UploaderArray/FileDropper.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"FileDropper"},"ignored":false,"code":"\"use strict\";\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nmodule.export({\n  \"default\": function () {\n    function _default() {\n      return FileDropper;\n    }\n\n    return _default;\n  }()\n});\n\nvar React = void 0,\n    _Component = void 0;\n\nmodule.watch(require(\"react\"), {\n  \"default\": function () {\n    function _default(v) {\n      React = v;\n    }\n\n    return _default;\n  }(),\n  Component: function () {\n    function Component(v) {\n      _Component = v;\n    }\n\n    return Component;\n  }()\n}, 0);\nvar PropTypes = void 0;\nmodule.watch(require(\"prop-types\"), {\n  \"default\": function () {\n    function _default(v) {\n      PropTypes = v;\n    }\n\n    return _default;\n  }()\n}, 1);\nvar classnames = void 0;\nmodule.watch(require(\"classnames\"), {\n  \"default\": function () {\n    function _default(v) {\n      classnames = v;\n    }\n\n    return _default;\n  }()\n}, 2);\n\n// from https://github.com/react-dropzone/react-dropzone/blob/master/src/utils/index.js\nvar getDataTransferItems = function () {\n  function getDataTransferItems(event) {\n    var dataTransferItemsList = [];\n\n    if (event.dataTransfer) {\n      var dt = event.dataTransfer;\n\n      if (dt.files && dt.files.length) {\n        dataTransferItemsList = dt.files;\n      } else if (dt.items && dt.items.length) {\n        // During the drag even the dataTransfer.files is null\n        // but Chrome implements some drag store, which is accesible via dataTransfer.items\n        dataTransferItemsList = dt.items;\n      }\n    } else if (event.target && event.target.files) {\n      dataTransferItemsList = event.target.files;\n    } // Convert from DataTransferItemsList to the native Array\n\n\n    return Array.prototype.slice.call(dataTransferItemsList);\n  }\n\n  return getDataTransferItems;\n}();\n\nvar FileDropper = function (_Component2) {\n  (0, _inherits3.default)(FileDropper, _Component2);\n\n  function FileDropper(props) {\n    (0, _classCallCheck3.default)(this, FileDropper);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (FileDropper.__proto__ || Object.getPrototypeOf(FileDropper)).call(this, props));\n\n    _this.handleDragEnter = function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      if (!_this.props.disabled) {\n        _this.setState({\n          dragging: true,\n          target: e.target\n        });\n      }\n    };\n\n    _this.handleDragLeave = function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      if (e.target === _this.state.target) {\n        _this.setState({\n          dragging: false\n        });\n      }\n    };\n\n    _this.handleDrop = function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      _this.setState({\n        dragging: false\n      });\n\n      if (!_this.props.disabled) {\n        _this.props.handleAddFiles(getDataTransferItems(e));\n      }\n    };\n\n    _this.pD = function (e) {\n      return e.preventDefault();\n    };\n\n    _this.state = {};\n    return _this;\n  }\n\n  (0, _createClass3.default)(FileDropper, [{\n    key: \"render\",\n    value: function () {\n      function render() {\n        var _props = this.props,\n            children = _props.children,\n            className = _props.className;\n        var dragging = this.state.dragging;\n        return React.createElement(\n          \"div\",\n          {\n            className: classnames({\n              uploader: true,\n              dragging: dragging\n            }),\n            onDragEnd: this.pD,\n            onDragEnter: this.handleDragEnter,\n            onDragLeave: this.handleDragLeave,\n            onDrop: this.handleDrop,\n            onDrag: this.pD,\n            onDragExit: this.pD,\n            onDragOver: this.pD\n          },\n          children\n        );\n      }\n\n      return render;\n    }()\n  }]);\n  return FileDropper;\n}(_Component);\n\nFileDropper.propTypes = {\n  handleAddFiles: PropTypes.func.isRequired\n};","map":{"version":3,"sources":["imports/core/components/UploaderArray/FileDropper.jsx"],"names":["module","export","FileDropper","React","Component","watch","require","v","PropTypes","classnames","getDataTransferItems","event","dataTransferItemsList","dataTransfer","dt","files","length","items","target","Array","prototype","slice","call","props","handleDragEnter","e","preventDefault","stopPropagation","disabled","setState","dragging","handleDragLeave","state","handleDrop","handleAddFiles","pD","children","className","uploader","propTypes","func","isRequired"],"mappings":"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","file":"imports/core/components/UploaderArray/FileDropper.jsx.map","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\n// from https://github.com/react-dropzone/react-dropzone/blob/master/src/utils/index.js\nconst getDataTransferItems = (event) => {\n  let dataTransferItemsList = [];\n  if (event.dataTransfer) {\n    const dt = event.dataTransfer;\n    if (dt.files && dt.files.length) {\n      dataTransferItemsList = dt.files;\n    } else if (dt.items && dt.items.length) {\n      // During the drag even the dataTransfer.files is null\n      // but Chrome implements some drag store, which is accesible via dataTransfer.items\n      dataTransferItemsList = dt.items;\n    }\n  } else if (event.target && event.target.files) {\n    dataTransferItemsList = event.target.files;\n  }\n  // Convert from DataTransferItemsList to the native Array\n  return Array.prototype.slice.call(dataTransferItemsList);\n};\n\nexport default class FileDropper extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  handleDragEnter = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!this.props.disabled) {\n      this.setState({ dragging: true, target: e.target });\n    }\n  };\n\n  handleDragLeave = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.target === this.state.target) {\n      this.setState({ dragging: false });\n    }\n  };\n\n  handleDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.setState({ dragging: false });\n    if (!this.props.disabled) {\n      this.props.handleAddFiles(getDataTransferItems(e));\n    }\n  };\n\n  pD = e => e.preventDefault();\n\n  render() {\n    const { children, className } = this.props;\n    const { dragging } = this.state;\n\n    return (\n      <div\n        className={classnames({ uploader: true, dragging })}\n        onDragEnd={this.pD}\n        onDragEnter={this.handleDragEnter}\n        onDragLeave={this.handleDragLeave}\n        onDrop={this.handleDrop}\n        onDrag={this.pD}\n        onDragExit={this.pD}\n        onDragOver={this.pD}\n      >\n        {children}\n      </div>\n    );\n  }\n}\n\nFileDropper.propTypes = {\n  handleAddFiles: PropTypes.func.isRequired,\n};\n"]},"hash":"e066ae1a01cf18bec38a47375352bfe54c8a9cda"}
