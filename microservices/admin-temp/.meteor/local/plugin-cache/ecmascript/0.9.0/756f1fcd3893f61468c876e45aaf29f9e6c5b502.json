{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"./enzyme.config","imported":[],"specifiers":[]},{"source":"react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"React"}]},{"source":"enzyme","imported":["shallow","mount"],"specifiers":[{"kind":"named","imported":"shallow","local":"shallow"},{"kind":"named","imported":"mount","local":"mount"}]},{"source":"./bootstrap/collections","imported":["Authors","Groups","Posts","Categories","AuthorProfiles"],"specifiers":[{"kind":"named","imported":"Authors","local":"Authors"},{"kind":"named","imported":"Groups","local":"Groups"},{"kind":"named","imported":"Posts","local":"Posts"},{"kind":"named","imported":"Categories","local":"Categories"},{"kind":"named","imported":"AuthorProfiles","local":"AuthorProfiles"}]},{"source":"./bootstrap/namedQueries","imported":["authorsList","postsList"],"specifiers":[{"kind":"named","imported":"authorsList","local":"authorsList"},{"kind":"named","imported":"postsList","local":"postsList"}]},{"source":"sinon","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"sinon"}]},{"source":"meteor/cultofcoders:grapher-react","imported":["withQuery"],"specifiers":[{"kind":"named","imported":"withQuery","local":"withQuery"}]},{"source":"chai","imported":["expect"],"specifiers":[{"kind":"named","imported":"expect","local":"expect"}]},{"source":"./components/containers/PostItem","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PostItemContainer"}]},{"source":"./components/containers/PostItemPolling","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PostItemPollingContainer"}]},{"source":"./components/containers/PostItemReactive","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PostItemReactiveContainer"}]},{"source":"./components/containers/PostItemError","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PostItemErrorContainer"}]},{"source":"./components/containers/PostItemReactiveError","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PostItemReactiveErrorContainer"}]},{"source":"./components/dumb/Post","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Post"}]},{"source":"./components/dumb/Loading","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Loading"}]},{"source":"./components/dumb/Error","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Error"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"packages/cultofcoders:grapher-react/__tests__/main.client.js","filenameRelative":"packages/cultofcoders:grapher-react/__tests__/main.client.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"packages/cultofcoders:grapher-react/__tests__/main.client.js.map","sourceFileName":"packages/cultofcoders:grapher-react/__tests__/main.client.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"main.client"},"ignored":false,"code":"module.watch(require(\"./enzyme.config\"));\nvar React = void 0;\nmodule.watch(require(\"react\"), {\n    \"default\": function (v) {\n        React = v;\n    }\n}, 0);\nvar shallow = void 0,\n    mount = void 0;\nmodule.watch(require(\"enzyme\"), {\n    shallow: function (v) {\n        shallow = v;\n    },\n    mount: function (v) {\n        mount = v;\n    }\n}, 1);\nvar Authors = void 0,\n    Groups = void 0,\n    Posts = void 0,\n    Categories = void 0,\n    AuthorProfiles = void 0;\nmodule.watch(require(\"./bootstrap/collections\"), {\n    Authors: function (v) {\n        Authors = v;\n    },\n    Groups: function (v) {\n        Groups = v;\n    },\n    Posts: function (v) {\n        Posts = v;\n    },\n    Categories: function (v) {\n        Categories = v;\n    },\n    AuthorProfiles: function (v) {\n        AuthorProfiles = v;\n    }\n}, 2);\nvar authorsList = void 0,\n    postsList = void 0;\nmodule.watch(require(\"./bootstrap/namedQueries\"), {\n    authorsList: function (v) {\n        authorsList = v;\n    },\n    postsList: function (v) {\n        postsList = v;\n    }\n}, 3);\nvar sinon = void 0;\nmodule.watch(require(\"sinon\"), {\n    \"default\": function (v) {\n        sinon = v;\n    }\n}, 4);\nvar withQuery = void 0;\nmodule.watch(require(\"meteor/cultofcoders:grapher-react\"), {\n    withQuery: function (v) {\n        withQuery = v;\n    }\n}, 5);\nvar expect = void 0;\nmodule.watch(require(\"chai\"), {\n    expect: function (v) {\n        expect = v;\n    }\n}, 6);\nvar PostItemContainer = void 0;\nmodule.watch(require(\"./components/containers/PostItem\"), {\n    \"default\": function (v) {\n        PostItemContainer = v;\n    }\n}, 7);\nvar PostItemPollingContainer = void 0;\nmodule.watch(require(\"./components/containers/PostItemPolling\"), {\n    \"default\": function (v) {\n        PostItemPollingContainer = v;\n    }\n}, 8);\nvar PostItemReactiveContainer = void 0;\nmodule.watch(require(\"./components/containers/PostItemReactive\"), {\n    \"default\": function (v) {\n        PostItemReactiveContainer = v;\n    }\n}, 9);\nvar PostItemErrorContainer = void 0;\nmodule.watch(require(\"./components/containers/PostItemError\"), {\n    \"default\": function (v) {\n        PostItemErrorContainer = v;\n    }\n}, 10);\nvar PostItemReactiveErrorContainer = void 0;\nmodule.watch(require(\"./components/containers/PostItemReactiveError\"), {\n    \"default\": function (v) {\n        PostItemReactiveErrorContainer = v;\n    }\n}, 11);\nvar Post = void 0;\nmodule.watch(require(\"./components/dumb/Post\"), {\n    \"default\": function (v) {\n        Post = v;\n    }\n}, 12);\nvar Loading = void 0;\nmodule.watch(require(\"./components/dumb/Loading\"), {\n    \"default\": function (v) {\n        Loading = v;\n    }\n}, 13);\nvar Error = void 0;\nmodule.watch(require(\"./components/dumb/Error\"), {\n    \"default\": function (v) {\n        Error = v;\n    }\n}, 14);\ndescribe('withTracker()', function () {\n    it('[Static] Should load the date after mounting', function (done) {\n        var wrapper = mount(React.createElement(PostItemContainer, null));\n        var loadingComponent = wrapper.html();\n        expect(wrapper.find('Post').length).to.equal(1);\n        expect(wrapper.find('Loading').length).to.equal(1);\n        setTimeout(function () {\n            var html = wrapper.html();\n            expect(html).to.equal('<div class=\"title\">Post 0</div>');\n            done();\n        }, 100);\n    });\n    it('[Static] Should trigger the error if specified', function (done) {\n        var wrapper = mount(React.createElement(PostItemErrorContainer, null));\n        var html = wrapper.html();\n        expect(wrapper.find('Post').length).to.equal(1);\n        expect(wrapper.find('Loading').length).to.equal(1);\n        setTimeout(function () {\n            wrapper.update();\n            expect(wrapper.find('Error').length).to.equal(1);\n            done();\n        }, 100);\n    });\n    it('[Reactive] Should load the date after mounting', function (done) {\n        var wrapper = mount(React.createElement(PostItemReactiveContainer, null));\n        expect(wrapper.find('Post').length).to.equal(1);\n        expect(wrapper.find('Loading').length).to.equal(1);\n        setTimeout(function () {\n            var html = wrapper.html();\n            expect(html).to.equal('<div class=\"title\">Post 0</div>'); // triggering a reactive change\n\n            wrapper.update();\n\n            var _wrapper$find$props = wrapper.find('Post').props(),\n                data = _wrapper$find$props.data;\n\n            assert.isObject(data);\n            Posts.update(data._id, {\n                $set: {\n                    'title': 'Post 0 update'\n                }\n            });\n            setTimeout(function () {\n                wrapper.update();\n                var html = wrapper.html();\n                expect(html).to.equal('<div class=\"title\">Post 0 update</div>');\n                Posts.update(data._id, {\n                    $set: {\n                        'title': 'Post 0'\n                    }\n                });\n                done();\n            }, 200);\n        }, 100);\n    });\n    it('[Reactive] Should trigger the error if specified', function (done) {\n        var wrapper = mount(React.createElement(PostItemReactiveErrorContainer, null));\n        var html = wrapper.html();\n        expect(wrapper.find('Post').length).to.equal(1);\n        expect(wrapper.find('Loading').length).to.equal(1);\n        setTimeout(function () {\n            wrapper.update();\n            expect(wrapper.find('Error').length).to.equal(1);\n            expect(wrapper.find('Error').html()).to.equal('<div>not-good</div>');\n            done();\n        }, 100);\n    });\n    it('[Static] Should load the date after polling', function (done) {\n        var wrapper = mount(React.createElement(PostItemPollingContainer, null));\n        expect(wrapper.find('Post').length).to.equal(1);\n        expect(wrapper.find('Loading').length).to.equal(1);\n        setTimeout(function () {\n            var html = wrapper.html();\n            expect(html).to.equal('<div class=\"title\">Post 0</div>'); // triggering a reactive change\n\n            wrapper.update();\n\n            var _wrapper$find$props2 = wrapper.find('Post').props(),\n                data = _wrapper$find$props2.data;\n\n            assert.isObject(data);\n            Posts.update(data._id, {\n                $set: {\n                    'title': 'Post 0 update'\n                }\n            });\n            setTimeout(function () {\n                wrapper.update();\n                var html = wrapper.html();\n                expect(html).to.equal('<div class=\"title\">Post 0 update</div>');\n                Posts.update(data._id, {\n                    $set: {\n                        'title': 'Post 0'\n                    }\n                });\n                done();\n            }, 200);\n        }, 100);\n    });\n});","map":{"version":3,"sources":["packages/cultofcoders:grapher-react/__tests__/main.client.js"],"names":["module","watch","require","React","v","shallow","mount","Authors","Groups","Posts","Categories","AuthorProfiles","authorsList","postsList","sinon","withQuery","expect","PostItemContainer","PostItemPollingContainer","PostItemReactiveContainer","PostItemErrorContainer","PostItemReactiveErrorContainer","Post","Loading","Error","describe","it","done","wrapper","loadingComponent","html","find","length","to","equal","setTimeout","update","props","data","assert","isObject","_id","$set"],"mappings":"AAAAA,OAAOC,KAAP,CAAaC,QAAQ,iBAAR,CAAb;AAAyC,IAAIC,cAAJ;AAAUH,OAAOC,KAAP,CAAaC,QAAQ,OAAR,CAAb,EAA8B;AAAA,yBAASE,CAAT,EAAW;AAACD,gBAAMC,CAAN;AAAQ;AAApB,CAA9B,EAAoD,CAApD;AAAuD,IAAIC,gBAAJ;AAAA,IAAYC,cAAZ;AAAkBN,OAAOC,KAAP,CAAaC,QAAQ,QAAR,CAAb,EAA+B;AAACG,WAAD,YAASD,CAAT,EAAW;AAACC,kBAAQD,CAAR;AAAU,KAAtB;AAAuBE,SAAvB,YAA6BF,CAA7B,EAA+B;AAACE,gBAAMF,CAAN;AAAQ;AAAxC,CAA/B,EAAyE,CAAzE;AAA4E,IAAIG,gBAAJ;AAAA,IAAYC,eAAZ;AAAA,IAAmBC,cAAnB;AAAA,IAAyBC,mBAAzB;AAAA,IAAoCC,uBAApC;AAAmDX,OAAOC,KAAP,CAAaC,QAAQ,yBAAR,CAAb,EAAgD;AAACK,WAAD,YAASH,CAAT,EAAW;AAACG,kBAAQH,CAAR;AAAU,KAAtB;AAAuBI,UAAvB,YAA8BJ,CAA9B,EAAgC;AAACI,iBAAOJ,CAAP;AAAS,KAA1C;AAA2CK,SAA3C,YAAiDL,CAAjD,EAAmD;AAACK,gBAAML,CAAN;AAAQ,KAA5D;AAA6DM,cAA7D,YAAwEN,CAAxE,EAA0E;AAACM,qBAAWN,CAAX;AAAa,KAAxF;AAAyFO,kBAAzF,YAAwGP,CAAxG,EAA0G;AAACO,yBAAeP,CAAf;AAAiB;AAA5H,CAAhD,EAA8K,CAA9K;AAAiL,IAAIQ,oBAAJ;AAAA,IAAgBC,kBAAhB;AAA0Bb,OAAOC,KAAP,CAAaC,QAAQ,0BAAR,CAAb,EAAiD;AAACU,eAAD,YAAaR,CAAb,EAAe;AAACQ,sBAAYR,CAAZ;AAAc,KAA9B;AAA+BS,aAA/B,YAAyCT,CAAzC,EAA2C;AAACS,oBAAUT,CAAV;AAAY;AAAxD,CAAjD,EAA2G,CAA3G;AAA8G,IAAIU,cAAJ;AAAUd,OAAOC,KAAP,CAAaC,QAAQ,OAAR,CAAb,EAA8B;AAAA,yBAASE,CAAT,EAAW;AAACU,gBAAMV,CAAN;AAAQ;AAApB,CAA9B,EAAoD,CAApD;AAAuD,IAAIW,kBAAJ;AAAcf,OAAOC,KAAP,CAAaC,QAAQ,mCAAR,CAAb,EAA0D;AAACa,aAAD,YAAWX,CAAX,EAAa;AAACW,oBAAUX,CAAV;AAAY;AAA1B,CAA1D,EAAsF,CAAtF;AAAyF,IAAIY,eAAJ;AAAWhB,OAAOC,KAAP,CAAaC,QAAQ,MAAR,CAAb,EAA6B;AAACc,UAAD,YAAQZ,CAAR,EAAU;AAACY,iBAAOZ,CAAP;AAAS;AAApB,CAA7B,EAAmD,CAAnD;AAAsD,IAAIa,0BAAJ;AAAsBjB,OAAOC,KAAP,CAAaC,QAAQ,kCAAR,CAAb,EAAyD;AAAA,yBAASE,CAAT,EAAW;AAACa,4BAAkBb,CAAlB;AAAoB;AAAhC,CAAzD,EAA2F,CAA3F;AAA8F,IAAIc,iCAAJ;AAA6BlB,OAAOC,KAAP,CAAaC,QAAQ,yCAAR,CAAb,EAAgE;AAAA,yBAASE,CAAT,EAAW;AAACc,mCAAyBd,CAAzB;AAA2B;AAAvC,CAAhE,EAAyG,CAAzG;AAA4G,IAAIe,kCAAJ;AAA8BnB,OAAOC,KAAP,CAAaC,QAAQ,0CAAR,CAAb,EAAiE;AAAA,yBAASE,CAAT,EAAW;AAACe,oCAA0Bf,CAA1B;AAA4B;AAAxC,CAAjE,EAA2G,CAA3G;AAA8G,IAAIgB,+BAAJ;AAA2BpB,OAAOC,KAAP,CAAaC,QAAQ,uCAAR,CAAb,EAA8D;AAAA,yBAASE,CAAT,EAAW;AAACgB,iCAAuBhB,CAAvB;AAAyB;AAArC,CAA9D,EAAqG,EAArG;AAAyG,IAAIiB,uCAAJ;AAAmCrB,OAAOC,KAAP,CAAaC,QAAQ,+CAAR,CAAb,EAAsE;AAAA,yBAASE,CAAT,EAAW;AAACiB,yCAA+BjB,CAA/B;AAAiC;AAA7C,CAAtE,EAAqH,EAArH;AAAyH,IAAIkB,aAAJ;AAAStB,OAAOC,KAAP,CAAaC,QAAQ,wBAAR,CAAb,EAA+C;AAAA,yBAASE,CAAT,EAAW;AAACkB,eAAKlB,CAAL;AAAO;AAAnB,CAA/C,EAAoE,EAApE;AAAwE,IAAImB,gBAAJ;AAAYvB,OAAOC,KAAP,CAAaC,QAAQ,2BAAR,CAAb,EAAkD;AAAA,yBAASE,CAAT,EAAW;AAACmB,kBAAQnB,CAAR;AAAU;AAAtB,CAAlD,EAA0E,EAA1E;AAA8E,IAAIoB,cAAJ;AAAUxB,OAAOC,KAAP,CAAaC,QAAQ,yBAAR,CAAb,EAAgD;AAAA,yBAASE,CAAT,EAAW;AAACoB,gBAAMpB,CAAN;AAAQ;AAApB,CAAhD,EAAsE,EAAtE;AAmB3nDqB,SAAS,eAAT,EAA0B,YAAY;AAClCC,OAAG,8CAAH,EAAmD,UAAUC,IAAV,EAAgB;AAC/D,YAAMC,UAAUtB,MAAM,oBAAC,iBAAD,OAAN,CAAhB;AACA,YAAIuB,mBAAmBD,QAAQE,IAAR,EAAvB;AAEAd,eAAOY,QAAQG,IAAR,CAAa,MAAb,EAAqBC,MAA5B,EAAoCC,EAApC,CAAuCC,KAAvC,CAA6C,CAA7C;AACAlB,eAAOY,QAAQG,IAAR,CAAa,SAAb,EAAwBC,MAA/B,EAAuCC,EAAvC,CAA0CC,KAA1C,CAAgD,CAAhD;AAEAC,mBAAW,YAAY;AACnB,gBAAIL,OAAOF,QAAQE,IAAR,EAAX;AACAd,mBAAOc,IAAP,EAAaG,EAAb,CAAgBC,KAAhB,CAAsB,iCAAtB;AAEAP;AACH,SALD,EAKG,GALH;AAMH,KAbD;AAeAD,OAAG,gDAAH,EAAqD,UAAUC,IAAV,EAAgB;AACjE,YAAMC,UAAUtB,MAAM,oBAAC,sBAAD,OAAN,CAAhB;AAEA,YAAIwB,OAAOF,QAAQE,IAAR,EAAX;AAEAd,eAAOY,QAAQG,IAAR,CAAa,MAAb,EAAqBC,MAA5B,EAAoCC,EAApC,CAAuCC,KAAvC,CAA6C,CAA7C;AACAlB,eAAOY,QAAQG,IAAR,CAAa,SAAb,EAAwBC,MAA/B,EAAuCC,EAAvC,CAA0CC,KAA1C,CAAgD,CAAhD;AAEAC,mBAAW,YAAY;AACnBP,oBAAQQ,MAAR;AACApB,mBAAOY,QAAQG,IAAR,CAAa,OAAb,EAAsBC,MAA7B,EAAqCC,EAArC,CAAwCC,KAAxC,CAA8C,CAA9C;AACAP;AACH,SAJD,EAIG,GAJH;AAKH,KAbD;AAgBAD,OAAG,gDAAH,EAAqD,UAAUC,IAAV,EAAgB;AACjE,YAAMC,UAAUtB,MAAM,oBAAC,yBAAD,OAAN,CAAhB;AAEAU,eAAOY,QAAQG,IAAR,CAAa,MAAb,EAAqBC,MAA5B,EAAoCC,EAApC,CAAuCC,KAAvC,CAA6C,CAA7C;AACAlB,eAAOY,QAAQG,IAAR,CAAa,SAAb,EAAwBC,MAA/B,EAAuCC,EAAvC,CAA0CC,KAA1C,CAAgD,CAAhD;AAEAC,mBAAW,YAAY;AACnB,gBAAIL,OAAOF,QAAQE,IAAR,EAAX;AACAd,mBAAOc,IAAP,EAAaG,EAAb,CAAgBC,KAAhB,CAAsB,iCAAtB,EAFmB,CAInB;;AACAN,oBAAQQ,MAAR;;AALmB,sCAMJR,QAAQG,IAAR,CAAa,MAAb,EAAqBM,KAArB,EANI;AAAA,gBAMZC,IANY,uBAMZA,IANY;;AAOnBC,mBAAOC,QAAP,CAAgBF,IAAhB;AAEA7B,kBAAM2B,MAAN,CAAaE,KAAKG,GAAlB,EAAuB;AAACC,sBAAM;AAAC,6BAAS;AAAV;AAAP,aAAvB;AAEAP,uBAAW,YAAY;AACnBP,wBAAQQ,MAAR;AACA,oBAAIN,OAAOF,QAAQE,IAAR,EAAX;AACAd,uBAAOc,IAAP,EAAaG,EAAb,CAAgBC,KAAhB,CAAsB,wCAAtB;AACAzB,sBAAM2B,MAAN,CAAaE,KAAKG,GAAlB,EAAuB;AAACC,0BAAM;AAAC,iCAAS;AAAV;AAAP,iBAAvB;AACAf;AACH,aAND,EAMG,GANH;AAOH,SAlBD,EAkBG,GAlBH;AAmBH,KAzBD;AA2BAD,OAAG,kDAAH,EAAuD,UAAUC,IAAV,EAAgB;AACnE,YAAMC,UAAUtB,MAAM,oBAAC,8BAAD,OAAN,CAAhB;AAEA,YAAIwB,OAAOF,QAAQE,IAAR,EAAX;AAEAd,eAAOY,QAAQG,IAAR,CAAa,MAAb,EAAqBC,MAA5B,EAAoCC,EAApC,CAAuCC,KAAvC,CAA6C,CAA7C;AACAlB,eAAOY,QAAQG,IAAR,CAAa,SAAb,EAAwBC,MAA/B,EAAuCC,EAAvC,CAA0CC,KAA1C,CAAgD,CAAhD;AAEAC,mBAAW,YAAY;AACnBP,oBAAQQ,MAAR;AACApB,mBAAOY,QAAQG,IAAR,CAAa,OAAb,EAAsBC,MAA7B,EAAqCC,EAArC,CAAwCC,KAAxC,CAA8C,CAA9C;AACAlB,mBAAOY,QAAQG,IAAR,CAAa,OAAb,EAAsBD,IAAtB,EAAP,EAAqCG,EAArC,CAAwCC,KAAxC,CAA8C,qBAA9C;AACAP;AACH,SALD,EAKG,GALH;AAMH,KAdD;AAgBAD,OAAG,6CAAH,EAAkD,UAAUC,IAAV,EAAgB;AAC9D,YAAMC,UAAUtB,MAAM,oBAAC,wBAAD,OAAN,CAAhB;AAEAU,eAAOY,QAAQG,IAAR,CAAa,MAAb,EAAqBC,MAA5B,EAAoCC,EAApC,CAAuCC,KAAvC,CAA6C,CAA7C;AACAlB,eAAOY,QAAQG,IAAR,CAAa,SAAb,EAAwBC,MAA/B,EAAuCC,EAAvC,CAA0CC,KAA1C,CAAgD,CAAhD;AAEAC,mBAAW,YAAY;AACnB,gBAAIL,OAAOF,QAAQE,IAAR,EAAX;AACAd,mBAAOc,IAAP,EAAaG,EAAb,CAAgBC,KAAhB,CAAsB,iCAAtB,EAFmB,CAInB;;AACAN,oBAAQQ,MAAR;;AALmB,uCAMJR,QAAQG,IAAR,CAAa,MAAb,EAAqBM,KAArB,EANI;AAAA,gBAMZC,IANY,wBAMZA,IANY;;AAOnBC,mBAAOC,QAAP,CAAgBF,IAAhB;AAEA7B,kBAAM2B,MAAN,CAAaE,KAAKG,GAAlB,EAAuB;AAACC,sBAAM;AAAC,6BAAS;AAAV;AAAP,aAAvB;AAEAP,uBAAW,YAAY;AACnBP,wBAAQQ,MAAR;AACA,oBAAIN,OAAOF,QAAQE,IAAR,EAAX;AACAd,uBAAOc,IAAP,EAAaG,EAAb,CAAgBC,KAAhB,CAAsB,wCAAtB;AACAzB,sBAAM2B,MAAN,CAAaE,KAAKG,GAAlB,EAAuB;AAACC,0BAAM;AAAC,iCAAS;AAAV;AAAP,iBAAvB;AACAf;AACH,aAND,EAMG,GANH;AAOH,SAlBD,EAkBG,GAlBH;AAmBH,KAzBD;AA0BH,CArGD","file":"packages/cultofcoders:grapher-react/__tests__/main.client.js.map","sourcesContent":["import './enzyme.config';\n\nimport React from 'react';\nimport {shallow, mount} from 'enzyme';\nimport {Authors, Groups, Posts, Categories, AuthorProfiles} from './bootstrap/collections';\nimport {authorsList, postsList} from './bootstrap/namedQueries';\nimport sinon from 'sinon';\nimport {withQuery} from 'meteor/cultofcoders:grapher-react';\nimport {expect} from 'chai';\n\nimport PostItemContainer from './components/containers/PostItem';\nimport PostItemPollingContainer from './components/containers/PostItemPolling';\nimport PostItemReactiveContainer from './components/containers/PostItemReactive';\nimport PostItemErrorContainer from './components/containers/PostItemError';\nimport PostItemReactiveErrorContainer from './components/containers/PostItemReactiveError';\nimport Post from './components/dumb/Post';\nimport Loading from './components/dumb/Loading';\nimport Error from './components/dumb/Error';\n\ndescribe('withTracker()', function () {\n    it('[Static] Should load the date after mounting', function (done) {\n        const wrapper = mount(<PostItemContainer />);\n        let loadingComponent = wrapper.html();\n\n        expect(wrapper.find('Post').length).to.equal(1);\n        expect(wrapper.find('Loading').length).to.equal(1);\n\n        setTimeout(function () {\n            let html = wrapper.html();\n            expect(html).to.equal('<div class=\"title\">Post 0</div>');\n\n            done();\n        }, 100)\n    });\n\n    it('[Static] Should trigger the error if specified', function (done) {\n        const wrapper = mount(<PostItemErrorContainer />);\n\n        let html = wrapper.html();\n\n        expect(wrapper.find('Post').length).to.equal(1);\n        expect(wrapper.find('Loading').length).to.equal(1);\n\n        setTimeout(function () {\n            wrapper.update();\n            expect(wrapper.find('Error').length).to.equal(1);\n            done();\n        }, 100)\n    });\n\n\n    it('[Reactive] Should load the date after mounting', function (done) {\n        const wrapper = mount(<PostItemReactiveContainer />);\n\n        expect(wrapper.find('Post').length).to.equal(1);\n        expect(wrapper.find('Loading').length).to.equal(1);\n\n        setTimeout(function () {\n            let html = wrapper.html();\n            expect(html).to.equal('<div class=\"title\">Post 0</div>');\n\n            // triggering a reactive change\n            wrapper.update();\n            const {data} = wrapper.find('Post').props();\n            assert.isObject(data);\n\n            Posts.update(data._id, {$set: {'title': 'Post 0 update'}});\n\n            setTimeout(function () {\n                wrapper.update();\n                let html = wrapper.html();\n                expect(html).to.equal('<div class=\"title\">Post 0 update</div>');\n                Posts.update(data._id, {$set: {'title': 'Post 0'}});\n                done();\n            }, 200);\n        }, 100)\n    });\n\n    it('[Reactive] Should trigger the error if specified', function (done) {\n        const wrapper = mount(<PostItemReactiveErrorContainer />);\n\n        let html = wrapper.html();\n\n        expect(wrapper.find('Post').length).to.equal(1);\n        expect(wrapper.find('Loading').length).to.equal(1);\n\n        setTimeout(function () {\n            wrapper.update();\n            expect(wrapper.find('Error').length).to.equal(1);\n            expect(wrapper.find('Error').html()).to.equal('<div>not-good</div>')\n            done();\n        }, 100)\n    });\n\n    it('[Static] Should load the date after polling', function (done) {\n        const wrapper = mount(<PostItemPollingContainer />);\n\n        expect(wrapper.find('Post').length).to.equal(1);\n        expect(wrapper.find('Loading').length).to.equal(1);\n\n        setTimeout(function () {\n            let html = wrapper.html();\n            expect(html).to.equal('<div class=\"title\">Post 0</div>');\n\n            // triggering a reactive change\n            wrapper.update();\n            const {data} = wrapper.find('Post').props();\n            assert.isObject(data);\n\n            Posts.update(data._id, {$set: {'title': 'Post 0 update'}});\n\n            setTimeout(function () {\n                wrapper.update();\n                let html = wrapper.html();\n                expect(html).to.equal('<div class=\"title\">Post 0 update</div>');\n                Posts.update(data._id, {$set: {'title': 'Post 0'}});\n                done();\n            }, 200);\n        }, 100);\n    });\n});"]},"hash":"756f1fcd3893f61468c876e45aaf29f9e6c5b502"}
