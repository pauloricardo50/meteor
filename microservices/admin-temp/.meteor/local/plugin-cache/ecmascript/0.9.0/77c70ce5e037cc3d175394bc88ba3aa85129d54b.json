{"metadata":{"usedHelpers":["createClass","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"../Security","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Security"}]},{"source":"../..","imported":["Borrowers"],"specifiers":[{"kind":"named","imported":"Borrowers","local":"Borrowers"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/core/api/security/collections/BorrowerSecurity.js","filenameRelative":"imports/core/api/security/collections/BorrowerSecurity.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/api/security/collections/BorrowerSecurity.js.map","sourceFileName":"imports/core/api/security/collections/BorrowerSecurity.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"BorrowerSecurity"},"ignored":false,"code":"\"use strict\";\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Security = void 0;\nmodule.watch(require(\"../Security\"), {\n  default: function _default(v) {\n    Security = v;\n  }\n}, 0);\n\nvar _Borrowers = void 0;\n\nmodule.watch(require(\"../..\"), {\n  Borrowers: function Borrowers(v) {\n    _Borrowers = v;\n  }\n}, 1);\n\nvar BorrowerSecurity = function () {\n  function BorrowerSecurity() {\n    (0, _classCallCheck3.default)(this, BorrowerSecurity);\n  }\n\n  (0, _createClass3.default)(BorrowerSecurity, null, [{\n    key: \"isAllowedToInsert\",\n    value: function isAllowedToInsert() {\n      Security.checkLoggedIn();\n    }\n  }, {\n    key: \"isAllowedToUpdate\",\n    value: function isAllowedToUpdate(loanId) {\n      if (Security.currentUserIsAdmin()) {\n        return;\n      }\n\n      var loan = _Borrowers.findOne(loanId);\n\n      Security.checkOwnership(loan);\n    }\n  }, {\n    key: \"isAllowedToDelete\",\n    value: function isAllowedToDelete() {\n      Security.checkCurrentUserIsAdmin();\n    }\n  }]);\n  return BorrowerSecurity;\n}();\n\nmodule.exportDefault(BorrowerSecurity);","map":{"version":3,"sources":["imports/core/api/security/collections/BorrowerSecurity.js"],"names":["Security","module","watch","require","default","v","Borrowers","BorrowerSecurity","checkLoggedIn","loanId","currentUserIsAdmin","loan","findOne","checkOwnership","checkCurrentUserIsAdmin","exportDefault"],"mappings":";;;;;;;;;;;;AAAA,IAAIA,iBAAJ;AAAaC,OAAOC,KAAP,CAAaC,QAAQ,aAAR,CAAb,EAAoC;AAACC,SAAD,oBAASC,CAAT,EAAW;AAACL,eAASK,CAAT;AAAW;AAAvB,CAApC,EAA6D,CAA7D;;AAAgE,IAAIC,mBAAJ;;AAAcL,OAAOC,KAAP,CAAaC,QAAQ,OAAR,CAAb,EAA8B;AAACG,WAAD,qBAAWD,CAAX,EAAa;AAACC,iBAAUD,CAAV;AAAY;AAA1B,CAA9B,EAA0D,CAA1D;;IAGrFE,gB;;;;;;;wCACuB;AACzBP,eAASQ,aAAT;AACD;;;sCAEwBC,M,EAAQ;AAC/B,UAAIT,SAASU,kBAAT,EAAJ,EAAmC;AACjC;AACD;;AAED,UAAMC,OAAOL,WAAUM,OAAV,CAAkBH,MAAlB,CAAb;;AACAT,eAASa,cAAT,CAAwBF,IAAxB;AACD;;;wCAE0B;AACzBX,eAASc,uBAAT;AACD;;;;;AAnBHb,OAAOc,aAAP,CAsBeR,gBAtBf","file":"imports/core/api/security/collections/BorrowerSecurity.js.map","sourcesContent":["import Security from '../Security';\nimport { Borrowers } from '../..';\n\nclass BorrowerSecurity {\n  static isAllowedToInsert() {\n    Security.checkLoggedIn();\n  }\n\n  static isAllowedToUpdate(loanId) {\n    if (Security.currentUserIsAdmin()) {\n      return;\n    }\n\n    const loan = Borrowers.findOne(loanId);\n    Security.checkOwnership(loan);\n  }\n\n  static isAllowedToDelete() {\n    Security.checkCurrentUserIsAdmin();\n  }\n}\n\nexport default BorrowerSecurity;\n"]},"hash":"77c70ce5e037cc3d175394bc88ba3aa85129d54b"}
