{"metadata":{"usedHelpers":["extends","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"../api/constants","imported":["PROPERTY_STYLE","PURCHASE_TYPE","OWNER","USAGE_TYPE","EXPERTISE_RATING"],"specifiers":[{"kind":"named","imported":"PROPERTY_STYLE","local":"PROPERTY_STYLE"},{"kind":"named","imported":"PURCHASE_TYPE","local":"PURCHASE_TYPE"},{"kind":"named","imported":"OWNER","local":"OWNER"},{"kind":"named","imported":"USAGE_TYPE","local":"USAGE_TYPE"},{"kind":"named","imported":"EXPERTISE_RATING","local":"EXPERTISE_RATING"}]}],"exports":{"exported":["getPropertyLoanArray","getPropertyArray"],"specifiers":[{"kind":"local","local":"getPropertyLoanArray","exported":"getPropertyLoanArray"},{"kind":"local","local":"getPropertyArray","exported":"getPropertyArray"}]}}},"options":{"filename":"imports/core/arrays/PropertyFormArray.js","filenameRelative":"imports/core/arrays/PropertyFormArray.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/arrays/PropertyFormArray.js.map","sourceFileName":"imports/core/arrays/PropertyFormArray.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"PropertyFormArray"},"ignored":false,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getPropertyLoanArray = undefined;\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.export({\n  getPropertyLoanArray: function getPropertyLoanArray() {\n    return _getPropertyLoanArray;\n  },\n  getPropertyArray: function getPropertyArray() {\n    return _getPropertyArray;\n  }\n});\n\nvar _PROPERTY_STYLE = void 0,\n    _PURCHASE_TYPE = void 0,\n    _OWNER = void 0,\n    _USAGE_TYPE = void 0,\n    _EXPERTISE_RATING = void 0;\n\nmodule.watch(require(\"../api/constants\"), {\n  PROPERTY_STYLE: function PROPERTY_STYLE(v) {\n    _PROPERTY_STYLE = v;\n  },\n  PURCHASE_TYPE: function PURCHASE_TYPE(v) {\n    _PURCHASE_TYPE = v;\n  },\n  OWNER: function OWNER(v) {\n    _OWNER = v;\n  },\n  USAGE_TYPE: function USAGE_TYPE(v) {\n    _USAGE_TYPE = v;\n  },\n  EXPERTISE_RATING: function EXPERTISE_RATING(v) {\n    _EXPERTISE_RATING = v;\n  }\n}, 0);\nexports.getPropertyLoanArray = _getPropertyLoanArray;\n\nvar mapInput = function mapInput(input) {\n  var intlSafeObject = (0, _extends3.default)({}, input); // If the id contains a dot in it, split it and add a intlId\n  // This makes it easier to write intl messages\n\n  if (input.id && input.id.indexOf('.') > 0) {\n    // Perform some additional slicing to make sure ids with multiple dots\n    // work by removing only the first part\n    intlSafeObject.intlId = input.id.split('.').slice(1).join('.');\n  }\n\n  if (input.inputs) {\n    // If there are nested inputs, give them an intlId too\n    intlSafeObject.inputs = input.inputs.map(function (obj) {\n      return obj.id && obj.id.indexOf('.') > 0 ? (0, _extends3.default)({}, obj, {\n        intlId: obj.id.split('.')[1]\n      }) : obj;\n    });\n  }\n\n  return intlSafeObject;\n};\n\nvar _getPropertyLoanArray = function _getPropertyLoanArray(_ref) {\n  var loan = _ref.loan,\n      borrowers = _ref.borrowers;\n  var r = loan;\n\n  if (!r) {\n    throw new Error('requires a loan');\n  }\n\n  var array = [{\n    type: 'h3',\n    id: 'propertyInfo',\n    ignore: true,\n    required: false\n  }, {\n    id: 'general.usageType',\n    type: 'radioInput',\n    options: Object.values(_USAGE_TYPE)\n  }, {\n    id: 'general.propertyWork',\n    type: 'textInput',\n    money: true,\n    required: false\n  }, {\n    type: 'conditionalInput',\n    conditionalTrueValue: _OWNER.OTHER,\n    condition: borrowers.length > 1 && r.general.purchaseType === _PURCHASE_TYPE.REFINANCING,\n    inputs: [{\n      id: 'general.currentOwner',\n      type: 'radioInput',\n      options: Object.values(_OWNER).filter(function (value) {\n        return borrowers.length === 1 ? value !== _OWNER.SECOND : true;\n      }).map(function (value) {\n        var isFirst = value === _OWNER.FIRST;\n        var isSecond = value === _OWNER.SECOND;\n        return isFirst || isSecond ? {\n          id: isFirst ? 0 : 1,\n          intlValues: {\n            name: borrowers[isFirst ? 0 : 1].firstName || \"Emprunteur \" + (isFirst ? 1 : 2)\n          }\n        } : value;\n      })\n    }, {\n      id: 'general.otherOwner',\n      type: 'textInput'\n    }]\n  }, {\n    type: 'conditionalInput',\n    conditionalTrueValue: _OWNER.OTHER,\n    condition: borrowers.length > 1 && r.general.purchaseType !== _PURCHASE_TYPE.REFINANCING,\n    inputs: [{\n      id: 'general.futureOwner',\n      type: 'radioInput',\n      options: Object.values(_OWNER).filter(function (value) {\n        return borrowers.length === 1 ? value !== _OWNER.SECOND : true;\n      }).map(function (value) {\n        var isFirst = value === _OWNER.FIRST;\n        var isSecond = value === _OWNER.SECOND;\n        return isFirst || isSecond ? {\n          id: isFirst ? 0 : 1,\n          intlValues: {\n            name: borrowers[isFirst ? 0 : 1].firstName || \"Emprunteur \" + (isFirst ? 1 : 2)\n          }\n        } : value;\n      })\n    }, {\n      id: 'general.otherOwner',\n      type: 'textInput'\n    }]\n  }];\n  return array.map(mapInput);\n};\n\nvar _getPropertyArray = function _getPropertyArray(_ref2) {\n  var loan = _ref2.loan,\n      borrowers = _ref2.borrowers,\n      property = _ref2.property;\n  var r = loan;\n\n  if (!r) {\n    throw new Error('requires a loan');\n  }\n\n  var array = [{\n    id: 'value',\n    type: 'textInput',\n    money: true\n  }, {\n    id: 'style',\n    type: 'radioInput',\n    options: Object.values(_PROPERTY_STYLE)\n  }, {\n    id: 'isNew',\n    type: 'radioInput',\n    options: [true, false],\n    condition: r.general.purchaseType === _PURCHASE_TYPE.ACQUISITION\n  }, {\n    type: 'h3',\n    id: 'propertyAddress',\n    ignore: true,\n    required: false\n  }, {\n    id: 'address1',\n    type: 'textInput'\n  }, {\n    id: 'address2',\n    type: 'textInput',\n    required: false\n  }, {\n    id: 'zipCode',\n    type: 'custom',\n    component: 'ZipAutoComplete',\n    componentProps: {\n      savePath: '',\n      initialValue: property.zipCode && property.city ? property.zipCode + \" \" + property.city : ''\n    }\n  }, {\n    type: 'h3',\n    id: 'propertyDetails',\n    ignore: true,\n    required: false\n  }, {\n    id: 'constructionYear',\n    type: 'textInput',\n    number: true\n  }, {\n    id: 'renovationYear',\n    type: 'textInput',\n    number: true,\n    required: false,\n    info: true\n  }, {\n    id: 'landArea',\n    type: 'textInput',\n    number: true,\n    condition: property.style === _PROPERTY_STYLE.VILLA\n  }, {\n    id: 'insideArea',\n    type: 'textInput',\n    number: true\n  }, {\n    id: 'balconyArea',\n    type: 'textInput',\n    number: true,\n    required: false\n  }, {\n    id: 'terraceArea',\n    type: 'textInput',\n    number: true,\n    required: false\n  }, {\n    id: 'volume',\n    type: 'textInput',\n    number: true,\n    condition: property.style === _PROPERTY_STYLE.VILLA\n  }, {\n    id: 'volumeNorm',\n    type: 'textInput',\n    condition: property.style === _PROPERTY_STYLE.VILLA\n  }, {\n    id: 'roomCount',\n    type: 'textInput',\n    decimal: true,\n    info: true\n  }, {\n    id: 'bathroomCount',\n    type: 'textInput',\n    number: true,\n    info: true\n  }, {\n    id: 'toiletCount',\n    type: 'textInput',\n    number: true\n  }, {\n    id: 'parking.box',\n    type: 'textInput',\n    number: true\n  }, {\n    id: 'parking.inside',\n    type: 'textInput',\n    number: true\n  }, {\n    id: 'parking.outside',\n    type: 'textInput',\n    number: true\n  }, {\n    id: 'minergie',\n    type: 'radioInput',\n    options: [true, false]\n  }, {\n    type: 'conditionalInput',\n    conditionalTrueValue: true,\n    condition: property.style === _PROPERTY_STYLE.VILLA,\n    inputs: [{\n      id: 'isCoproperty',\n      type: 'radioInput',\n      options: [true, false]\n    }, {\n      id: 'copropertyPercentage',\n      type: 'textInput',\n      number: true,\n      info: true\n    }]\n  }, {\n    id: 'copropertyPercentage',\n    type: 'textInput',\n    number: true,\n    condition: property.style === _PROPERTY_STYLE.FLAT,\n    info: true\n  }, {\n    type: 'h3',\n    id: 'propertyQuality',\n    ignore: true,\n    required: false\n  }, {\n    id: 'cityPlacementQuality',\n    type: 'radioInput',\n    options: Object.values(_EXPERTISE_RATING)\n  }, {\n    id: 'buildingPlacementQuality',\n    type: 'radioInput',\n    options: Object.values(_EXPERTISE_RATING),\n    condition: property.style === _PROPERTY_STYLE.FLAT\n  }, {\n    id: 'buildingQuality',\n    type: 'radioInput',\n    options: Object.values(_EXPERTISE_RATING)\n  }, {\n    id: 'flatQuality',\n    type: 'radioInput',\n    options: Object.values(_EXPERTISE_RATING),\n    condition: property.style === _PROPERTY_STYLE.FLAT\n  }, {\n    id: 'materialsQuality',\n    type: 'radioInput',\n    options: Object.values(_EXPERTISE_RATING)\n  }, {\n    id: 'otherNotes',\n    type: 'textInput',\n    multiline: true,\n    rows: 3,\n    required: false\n  }];\n  return array.map(mapInput);\n};","map":{"version":3,"sources":["imports/core/arrays/PropertyFormArray.js"],"names":["module","export","getPropertyLoanArray","getPropertyArray","PROPERTY_STYLE","PURCHASE_TYPE","OWNER","USAGE_TYPE","EXPERTISE_RATING","watch","require","v","mapInput","input","intlSafeObject","id","indexOf","intlId","split","slice","join","inputs","map","obj","loan","borrowers","r","Error","array","type","ignore","required","options","Object","values","money","conditionalTrueValue","OTHER","condition","length","general","purchaseType","REFINANCING","filter","value","SECOND","isFirst","FIRST","isSecond","intlValues","name","firstName","property","ACQUISITION","component","componentProps","savePath","initialValue","zipCode","city","number","info","style","VILLA","decimal","FLAT","multiline","rows"],"mappings":"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","file":"imports/core/arrays/PropertyFormArray.js.map","sourcesContent":["import {\n  PROPERTY_STYLE,\n  PURCHASE_TYPE,\n  OWNER,\n  USAGE_TYPE,\n  EXPERTISE_RATING,\n} from 'core/api/constants';\n\nconst mapInput = (input) => {\n  const intlSafeObject = { ...input };\n  // If the id contains a dot in it, split it and add a intlId\n  // This makes it easier to write intl messages\n  if (input.id && input.id.indexOf('.') > 0) {\n    // Perform some additional slicing to make sure ids with multiple dots\n    // work by removing only the first part\n    intlSafeObject.intlId = input.id\n      .split('.')\n      .slice(1)\n      .join('.');\n  }\n\n  if (input.inputs) {\n    // If there are nested inputs, give them an intlId too\n    intlSafeObject.inputs = input.inputs.map(obj =>\n      (obj.id && obj.id.indexOf('.') > 0\n        ? { ...obj, intlId: obj.id.split('.')[1] }\n        : obj));\n  }\n\n  return intlSafeObject;\n};\n\nexport const getPropertyLoanArray = ({ loan, borrowers }) => {\n  const r = loan;\n\n  if (!r) {\n    throw new Error('requires a loan');\n  }\n\n  const array = [\n    {\n      type: 'h3',\n      id: 'propertyInfo',\n      ignore: true,\n      required: false,\n    },\n    {\n      id: 'general.usageType',\n      type: 'radioInput',\n      options: Object.values(USAGE_TYPE),\n    },\n    {\n      id: 'general.propertyWork',\n      type: 'textInput',\n      money: true,\n      required: false,\n    },\n    {\n      type: 'conditionalInput',\n      conditionalTrueValue: OWNER.OTHER,\n      condition:\n        borrowers.length > 1 &&\n        r.general.purchaseType === PURCHASE_TYPE.REFINANCING,\n      inputs: [\n        {\n          id: 'general.currentOwner',\n          type: 'radioInput',\n          options: Object.values(OWNER)\n            .filter(value => (borrowers.length === 1 ? value !== OWNER.SECOND : true))\n            .map((value) => {\n              const isFirst = value === OWNER.FIRST;\n              const isSecond = value === OWNER.SECOND;\n              return isFirst || isSecond\n                ? {\n                  id: isFirst ? 0 : 1,\n                  intlValues: {\n                    name:\n                        borrowers[isFirst ? 0 : 1].firstName ||\n                        `Emprunteur ${isFirst ? 1 : 2}`,\n                  },\n                }\n                : value;\n            }),\n        },\n        { id: 'general.otherOwner', type: 'textInput' },\n      ],\n    },\n    {\n      type: 'conditionalInput',\n      conditionalTrueValue: OWNER.OTHER,\n      condition:\n        borrowers.length > 1 &&\n        r.general.purchaseType !== PURCHASE_TYPE.REFINANCING,\n      inputs: [\n        {\n          id: 'general.futureOwner',\n          type: 'radioInput',\n          options: Object.values(OWNER)\n            .filter(value => (borrowers.length === 1 ? value !== OWNER.SECOND : true))\n            .map((value) => {\n              const isFirst = value === OWNER.FIRST;\n              const isSecond = value === OWNER.SECOND;\n              return isFirst || isSecond\n                ? {\n                  id: isFirst ? 0 : 1,\n                  intlValues: {\n                    name:\n                        borrowers[isFirst ? 0 : 1].firstName ||\n                        `Emprunteur ${isFirst ? 1 : 2}`,\n                  },\n                }\n                : value;\n            }),\n        },\n        {\n          id: 'general.otherOwner',\n          type: 'textInput',\n        },\n      ],\n    },\n  ];\n\n  return array.map(mapInput);\n};\n\nexport const getPropertyArray = ({ loan, borrowers, property }) => {\n  const r = loan;\n\n  if (!r) {\n    throw new Error('requires a loan');\n  }\n\n  const array = [\n    { id: 'value', type: 'textInput', money: true },\n    {\n      id: 'style',\n      type: 'radioInput',\n      options: Object.values(PROPERTY_STYLE),\n    },\n    {\n      id: 'isNew',\n      type: 'radioInput',\n      options: [true, false],\n      condition: r.general.purchaseType === PURCHASE_TYPE.ACQUISITION,\n    },\n    {\n      type: 'h3',\n      id: 'propertyAddress',\n      ignore: true,\n      required: false,\n    },\n    {\n      id: 'address1',\n      type: 'textInput',\n    },\n    {\n      id: 'address2',\n      type: 'textInput',\n      required: false,\n    },\n    {\n      id: 'zipCode',\n      type: 'custom',\n      component: 'ZipAutoComplete',\n      componentProps: {\n        savePath: '',\n        initialValue:\n          property.zipCode && property.city\n            ? `${property.zipCode} ${property.city}`\n            : '',\n      },\n    },\n    {\n      type: 'h3',\n      id: 'propertyDetails',\n      ignore: true,\n      required: false,\n    },\n    { id: 'constructionYear', type: 'textInput', number: true },\n    {\n      id: 'renovationYear',\n      type: 'textInput',\n      number: true,\n      required: false,\n      info: true,\n    },\n    {\n      id: 'landArea',\n      type: 'textInput',\n      number: true,\n      condition: property.style === PROPERTY_STYLE.VILLA,\n    },\n    { id: 'insideArea', type: 'textInput', number: true },\n    {\n      id: 'balconyArea',\n      type: 'textInput',\n      number: true,\n      required: false,\n    },\n    {\n      id: 'terraceArea',\n      type: 'textInput',\n      number: true,\n      required: false,\n    },\n    {\n      id: 'volume',\n      type: 'textInput',\n      number: true,\n      condition: property.style === PROPERTY_STYLE.VILLA,\n    },\n    {\n      id: 'volumeNorm',\n      type: 'textInput',\n      condition: property.style === PROPERTY_STYLE.VILLA,\n    },\n    {\n      id: 'roomCount',\n      type: 'textInput',\n      decimal: true,\n      info: true,\n    },\n    {\n      id: 'bathroomCount',\n      type: 'textInput',\n      number: true,\n      info: true,\n    },\n    { id: 'toiletCount', type: 'textInput', number: true },\n    { id: 'parking.box', type: 'textInput', number: true },\n    { id: 'parking.inside', type: 'textInput', number: true },\n    { id: 'parking.outside', type: 'textInput', number: true },\n    { id: 'minergie', type: 'radioInput', options: [true, false] },\n    {\n      type: 'conditionalInput',\n      conditionalTrueValue: true,\n      condition: property.style === PROPERTY_STYLE.VILLA,\n      inputs: [\n        {\n          id: 'isCoproperty',\n          type: 'radioInput',\n          options: [true, false],\n        },\n        {\n          id: 'copropertyPercentage',\n          type: 'textInput',\n          number: true,\n          info: true,\n        },\n      ],\n    },\n    {\n      id: 'copropertyPercentage',\n      type: 'textInput',\n      number: true,\n      condition: property.style === PROPERTY_STYLE.FLAT,\n      info: true,\n    },\n    {\n      type: 'h3',\n      id: 'propertyQuality',\n      ignore: true,\n      required: false,\n    },\n    {\n      id: 'cityPlacementQuality',\n      type: 'radioInput',\n      options: Object.values(EXPERTISE_RATING),\n    },\n    {\n      id: 'buildingPlacementQuality',\n      type: 'radioInput',\n      options: Object.values(EXPERTISE_RATING),\n      condition: property.style === PROPERTY_STYLE.FLAT,\n    },\n    {\n      id: 'buildingQuality',\n      type: 'radioInput',\n      options: Object.values(EXPERTISE_RATING),\n    },\n    {\n      id: 'flatQuality',\n      type: 'radioInput',\n      options: Object.values(EXPERTISE_RATING),\n      condition: property.style === PROPERTY_STYLE.FLAT,\n    },\n    {\n      id: 'materialsQuality',\n      type: 'radioInput',\n      options: Object.values(EXPERTISE_RATING),\n    },\n    {\n      id: 'otherNotes',\n      type: 'textInput',\n      multiline: true,\n      rows: 3,\n      required: false,\n    },\n  ];\n\n  return array.map(mapInput);\n};\n"]},"hash":"a4d817a486f7d01a230a8c31a50eaf5eedbf0c56"}
