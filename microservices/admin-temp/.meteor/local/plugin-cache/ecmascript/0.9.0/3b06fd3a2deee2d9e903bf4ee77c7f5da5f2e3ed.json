{"metadata":{"usedHelpers":["extends","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"@storybook/react-komposer","imported":["compose"],"specifiers":[{"kind":"named","imported":"compose","local":"compose"}]},{"source":"meteor/tracker","imported":["Tracker"],"specifiers":[{"kind":"named","imported":"Tracker","local":"Tracker"}]}],"exports":{"exported":["defaultOptions"],"specifiers":[{"kind":"local","local":"defaultOptions","exported":"defaultOptions"}]}}},"options":{"filename":"imports/core/containers/composers/composeWithTracker.js","filenameRelative":"imports/core/containers/composers/composeWithTracker.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/containers/composers/composeWithTracker.js.map","sourceFileName":"imports/core/containers/composers/composeWithTracker.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"composeWithTracker"},"ignored":false,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.defaultOptions = undefined;\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.export({\n  defaultOptions: function defaultOptions() {\n    return _defaultOptions;\n  }\n});\n\nvar _compose = void 0;\n\nmodule.watch(require(\"@storybook/react-komposer\"), {\n  compose: function compose(v) {\n    _compose = v;\n  }\n}, 0);\n\nvar _Tracker = void 0;\n\nexports.defaultOptions = _defaultOptions;\nmodule.watch(require(\"meteor/tracker\"), {\n  Tracker: function Tracker(v) {\n    _Tracker = v;\n  }\n}, 1);\n\nvar getTrackerLoader = function getTrackerLoader(loaderFunc) {\n  return function (props, onData, env) {\n    var trackerCleanup = function trackerCleanup() {\n      return null;\n    };\n\n    var handler = _Tracker.nonreactive(function () {\n      return _Tracker.autorun(function () {\n        // Store clean-up function if provided.\n        trackerCleanup = loaderFunc(props, onData, env) || function () {\n          return null;\n        };\n      });\n    });\n\n    return function () {\n      trackerCleanup();\n      return handler.stop();\n    };\n  };\n};\n\nvar _defaultOptions = {\n  withRef: false\n};\n\nvar composeWithTracker = function composeWithTracker(loadFunc, options) {\n  return function (component) {\n    return _compose(getTrackerLoader(loadFunc), (0, _extends3.default)({}, options, _defaultOptions))(component);\n  };\n}; // compose(getTrackerLoader(loadFunc), options)(component);\n\n\nmodule.exportDefault(composeWithTracker);","map":{"version":3,"sources":["imports/core/containers/composers/composeWithTracker.js"],"names":["module","export","defaultOptions","compose","watch","require","v","Tracker","getTrackerLoader","props","onData","env","trackerCleanup","handler","nonreactive","autorun","loaderFunc","stop","withRef","composeWithTracker","loadFunc","options","component","exportDefault"],"mappings":";;;;;;;;;;;;;AAAAA,OAAOC,MAAP,CAAc;AAACC,kBAAe;AAAA,WAAIA,eAAJ;AAAA;AAAhB,CAAd;;AAAmD,IAAIC,iBAAJ;;AAAYH,OAAOI,KAAP,CAAaC,QAAQ,2BAAR,CAAb,EAAkD;AAACF,SAAD,mBAASG,CAAT,EAAW;AAACH,eAAQG,CAAR;AAAU;AAAtB,CAAlD,EAA0E,CAA1E;;AAA6E,IAAIC,iBAAJ;;;AAAYP,OAAOI,KAAP,CAAaC,QAAQ,gBAAR,CAAb,EAAuC;AAACE,SAAD,mBAASD,CAAT,EAAW;AAACC,eAAQD,CAAR;AAAU;AAAtB,CAAvC,EAA+D,CAA/D;;AAGxJ,IAAME,mBAAmB,SAAnBA,gBAAmB;AAAA,SAAc,UAACC,KAAD,EAAQC,MAAR,EAAgBC,GAAhB,EAAwB;AAC7D,QAAIC,iBAAiB;AAAA,aAAM,IAAN;AAAA,KAArB;;AAEA,QAAMC,UAAUN,SAAQO,WAAR,CAAoB;AAAA,aAClCP,SAAQQ,OAAR,CAAgB,YAAM;AACpB;AACAH,yBAAiBI,WAAWP,KAAX,EAAkBC,MAAlB,EAA0BC,GAA1B,KAAmC;AAAA,iBAAM,IAAN;AAAA,SAApD;AACD,OAHD,CADkC;AAAA,KAApB,CAAhB;;AAMA,WAAO,YAAM;AACXC;AACA,aAAOC,QAAQI,IAAR,EAAP;AACD,KAHD;AAID,GAbwB;AAAA,CAAzB;;AAeO,IAAMf,kBAAiB;AAC5BgB,WAAS;AADmB,CAAvB;;AAIP,IAAMC,qBAAqB,SAArBA,kBAAqB,CAACC,QAAD,EAAWC,OAAX;AAAA,SAAuB;AAAA,WAChDlB,SAAQK,iBAAiBY,QAAjB,CAAR,6BAAyCC,OAAzC,EAAqDnB,eAArD,GAAuEoB,SAAvE,CADgD;AAAA,GAAvB;AAAA,CAA3B,C,CAEA;;;AAxBAtB,OAAOuB,aAAP,CA0BeJ,kBA1Bf","file":"imports/core/containers/composers/composeWithTracker.js.map","sourcesContent":["import { compose } from '@storybook/react-komposer';\nimport { Tracker } from 'meteor/tracker';\n\nconst getTrackerLoader = loaderFunc => (props, onData, env) => {\n  let trackerCleanup = () => null;\n\n  const handler = Tracker.nonreactive(() =>\n    Tracker.autorun(() => {\n      // Store clean-up function if provided.\n      trackerCleanup = loaderFunc(props, onData, env) || (() => null);\n    }));\n\n  return () => {\n    trackerCleanup();\n    return handler.stop();\n  };\n};\n\nexport const defaultOptions = {\n  withRef: false,\n};\n\nconst composeWithTracker = (loadFunc, options) => component =>\n  compose(getTrackerLoader(loadFunc), { ...options, ...defaultOptions })(component);\n// compose(getTrackerLoader(loadFunc), options)(component);\n\nexport default composeWithTracker;\n"]},"hash":"3b06fd3a2deee2d9e903bf4ee77c7f5da5f2e3ed"}
