{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"React"}]},{"source":"prop-types","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PropTypes"}]},{"source":"../../../core/components/DropdownMenu","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"DropdownMenu"}]},{"source":"../../../core/api","imported":["callMutation","mutations"],"specifiers":[{"kind":"named","imported":"callMutation","local":"callMutation"},{"kind":"named","imported":"mutations","local":"mutations"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/ui/pages/TasksPage/TasksAssignedUserDropdown.jsx","filenameRelative":"imports/ui/pages/TasksPage/TasksAssignedUserDropdown.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/ui/pages/TasksPage/TasksAssignedUserDropdown.jsx.map","sourceFileName":"imports/ui/pages/TasksPage/TasksAssignedUserDropdown.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"TasksAssignedUserDropdown"},"ignored":false,"code":"\"use strict\";\n\nvar React = void 0;\nmodule.watch(require(\"react\"), {\n  default: function _default(v) {\n    React = v;\n  }\n}, 0);\nvar PropTypes = void 0;\nmodule.watch(require(\"prop-types\"), {\n  default: function _default(v) {\n    PropTypes = v;\n  }\n}, 1);\nvar DropdownMenu = void 0;\nmodule.watch(require(\"../../../core/components/DropdownMenu\"), {\n  default: function _default(v) {\n    DropdownMenu = v;\n  }\n}, 2);\n\nvar _callMutation = void 0,\n    _mutations = void 0;\n\nmodule.watch(require(\"../../../core/api\"), {\n  callMutation: function callMutation(v) {\n    _callMutation = v;\n  },\n  mutations: function mutations(v) {\n    _mutations = v;\n  }\n}, 3);\n\nvar changeAssignedUser = function changeAssignedUser(user, taskId) {\n  _callMutation(_mutations.TASK_CHANGE_USER, {\n    taskId: taskId,\n    newUser: user\n  });\n};\n\nvar getMenuItems = function getMenuItems(users, taskUser, taskId) {\n  var options = users.map(function (user) {\n    return {\n      id: user._id,\n      show: user._id !== taskUser,\n      label: user.emails[0].address,\n      link: false,\n      onClick: function onClick() {\n        changeAssignedUser(user._id, taskId);\n      }\n    };\n  });\n  return options;\n};\n\nvar TasksAssignedUserDropdown = function TasksAssignedUserDropdown(props) {\n  var data = props.data,\n      isLoading = props.isLoading,\n      error = props.error,\n      taskId = props.taskId,\n      taskUser = props.taskUser,\n      styles = props.styles;\n\n  if (isLoading) {\n    return null;\n  }\n\n  if (error) {\n    return React.createElement(\n      \"div\",\n      null,\n      \"Error: \",\n      error.reason\n    );\n  }\n\n  return React.createElement(DropdownMenu, {\n    iconType: \"personAdd\",\n    options: getMenuItems(data, taskUser, taskId),\n    style: styles\n  });\n};\n\nmodule.exportDefault(TasksAssignedUserDropdown);","map":{"version":3,"sources":["imports/ui/pages/TasksPage/TasksAssignedUserDropdown.jsx"],"names":["React","module","watch","require","default","v","PropTypes","DropdownMenu","callMutation","mutations","changeAssignedUser","user","taskId","TASK_CHANGE_USER","newUser","getMenuItems","users","taskUser","options","map","id","_id","show","label","emails","address","link","onClick","TasksAssignedUserDropdown","props","data","isLoading","error","styles","reason","exportDefault"],"mappings":";;AAAA,IAAIA,cAAJ;AAAUC,OAAOC,KAAP,CAAaC,QAAQ,OAAR,CAAb,EAA8B;AAACC,SAAD,oBAASC,CAAT,EAAW;AAACL,YAAMK,CAAN;AAAQ;AAApB,CAA9B,EAAoD,CAApD;AAAuD,IAAIC,kBAAJ;AAAcL,OAAOC,KAAP,CAAaC,QAAQ,YAAR,CAAb,EAAmC;AAACC,SAAD,oBAASC,CAAT,EAAW;AAACC,gBAAUD,CAAV;AAAY;AAAxB,CAAnC,EAA6D,CAA7D;AAAgE,IAAIE,qBAAJ;AAAiBN,OAAOC,KAAP,CAAaC,QAAQ,uCAAR,CAAb,EAA8D;AAACC,SAAD,oBAASC,CAAT,EAAW;AAACE,mBAAaF,CAAb;AAAe;AAA3B,CAA9D,EAA2F,CAA3F;;AAA8F,IAAIG,sBAAJ;AAAA,IAAiBC,mBAAjB;;AAA2BR,OAAOC,KAAP,CAAaC,QAAQ,mBAAR,CAAb,EAA0C;AAACK,cAAD,wBAAcH,CAAd,EAAgB;AAACG,oBAAaH,CAAb;AAAe,GAAhC;AAAiCI,WAAjC,qBAA2CJ,CAA3C,EAA6C;AAACI,iBAAUJ,CAAV;AAAY;AAA1D,CAA1C,EAAsG,CAAtG;;AAMzR,IAAMK,qBAAqB,SAArBA,kBAAqB,CAACC,IAAD,EAAOC,MAAP,EAAkB;AAC3CJ,gBAAaC,WAAUI,gBAAvB,EAAyC;AACvCD,kBADuC;AAEvCE,aAASH;AAF8B,GAAzC;AAID,CALD;;AAOA,IAAMI,eAAe,SAAfA,YAAe,CAACC,KAAD,EAAQC,QAAR,EAAkBL,MAAlB,EAA6B;AAChD,MAAMM,UAAUF,MAAMG,GAAN,CAAU;AAAA,WAAS;AACjCC,UAAIT,KAAKU,GADwB;AAEjCC,YAAMX,KAAKU,GAAL,KAAaJ,QAFc;AAGjCM,aAAOZ,KAAKa,MAAL,CAAY,CAAZ,EAAeC,OAHW;AAIjCC,YAAM,KAJ2B;AAKjCC,eAAS,mBAAM;AACbjB,2BAAmBC,KAAKU,GAAxB,EAA6BT,MAA7B;AACD;AAPgC,KAAT;AAAA,GAAV,CAAhB;AASA,SAAOM,OAAP;AACD,CAXD;;AAaA,IAAMU,4BAA4B,SAA5BA,yBAA4B,CAACC,KAAD,EAAW;AAAA,MACnCC,IADmC,GACkBD,KADlB,CACnCC,IADmC;AAAA,MAC7BC,SAD6B,GACkBF,KADlB,CAC7BE,SAD6B;AAAA,MAClBC,KADkB,GACkBH,KADlB,CAClBG,KADkB;AAAA,MACXpB,MADW,GACkBiB,KADlB,CACXjB,MADW;AAAA,MACHK,QADG,GACkBY,KADlB,CACHZ,QADG;AAAA,MACOgB,MADP,GACkBJ,KADlB,CACOI,MADP;;AAG3C,MAAIF,SAAJ,EAAe;AACb,WAAO,IAAP;AACD;;AACD,MAAIC,KAAJ,EAAW;AACT,WAAO;AAAA;AAAA;AAAA;AAAaA,YAAME;AAAnB,KAAP;AACD;;AAED,SACE,oBAAC,YAAD;AACE,cAAS,WADX;AAEE,aAASnB,aAAae,IAAb,EAAmBb,QAAnB,EAA6BL,MAA7B,CAFX;AAGE,WAAOqB;AAHT,IADF;AAOD,CAjBD;;AA1BAhC,OAAOkC,aAAP,CA6CeP,yBA7Cf","file":"imports/ui/pages/TasksPage/TasksAssignedUserDropdown.jsx.map","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport DropdownMenu from 'core/components/DropdownMenu/';\nimport { callMutation, mutations } from 'core/api';\n\nconst changeAssignedUser = (user, taskId) => {\n  callMutation(mutations.TASK_CHANGE_USER, {\n    taskId,\n    newUser: user,\n  });\n};\n\nconst getMenuItems = (users, taskUser, taskId) => {\n  const options = users.map(user => ({\n    id: user._id,\n    show: user._id !== taskUser,\n    label: user.emails[0].address,\n    link: false,\n    onClick: () => {\n      changeAssignedUser(user._id, taskId);\n    },\n  }));\n  return options;\n};\n\nconst TasksAssignedUserDropdown = (props) => {\n  const { data, isLoading, error, taskId, taskUser, styles } = props;\n\n  if (isLoading) {\n    return null;\n  }\n  if (error) {\n    return <div>Error: {error.reason}</div>;\n  }\n\n  return (\n    <DropdownMenu\n      iconType=\"personAdd\"\n      options={getMenuItems(data, taskUser, taskId)}\n      style={styles}\n    />\n  );\n};\n\nexport default TasksAssignedUserDropdown;\n"]},"hash":"80f1dd83feeae057d1c3e3d694ef6db8ba3ab56e"}
