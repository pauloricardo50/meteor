{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"meteor/mongo","imported":["Mongo"],"specifiers":[{"kind":"named","imported":"Mongo","local":"Mongo"}]},{"source":"simpl-schema","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"SimpleSchema"}]},{"source":"./tasksConstants","imported":["TASK_STATUS","TASK_TYPE"],"specifiers":[{"kind":"named","imported":"TASK_STATUS","local":"TASK_STATUS"},{"kind":"named","imported":"TASK_TYPE","local":"TASK_TYPE"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/core/api/tasks/tasks.js","filenameRelative":"imports/core/api/tasks/tasks.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/api/tasks/tasks.js.map","sourceFileName":"imports/core/api/tasks/tasks.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"tasks"},"ignored":false,"code":"\"use strict\";\n\nvar _Mongo = void 0;\n\nmodule.watch(require(\"meteor/mongo\"), {\n  Mongo: function () {\n    function Mongo(v) {\n      _Mongo = v;\n    }\n\n    return Mongo;\n  }()\n}, 0);\nvar SimpleSchema = void 0;\nmodule.watch(require(\"simpl-schema\"), {\n  \"default\": function () {\n    function _default(v) {\n      SimpleSchema = v;\n    }\n\n    return _default;\n  }()\n}, 1);\n\nvar _TASK_STATUS = void 0,\n    _TASK_TYPE = void 0;\n\nmodule.watch(require(\"./tasksConstants\"), {\n  TASK_STATUS: function () {\n    function TASK_STATUS(v) {\n      _TASK_STATUS = v;\n    }\n\n    return TASK_STATUS;\n  }(),\n  TASK_TYPE: function () {\n    function TASK_TYPE(v) {\n      _TASK_TYPE = v;\n    }\n\n    return TASK_TYPE;\n  }()\n}, 2);\nvar Tasks = new _Mongo.Collection('tasks'); // Prevent all client side modifications of mongoDB\n\nTasks.deny({\n  insert: function () {\n    function insert() {\n      return true;\n    }\n\n    return insert;\n  }(),\n  update: function () {\n    function update() {\n      return true;\n    }\n\n    return update;\n  }(),\n  remove: function () {\n    function remove() {\n      return true;\n    }\n\n    return remove;\n  }()\n});\nTasks.allow({\n  insert: function () {\n    function insert() {\n      return false;\n    }\n\n    return insert;\n  }(),\n  update: function () {\n    function update() {\n      return false;\n    }\n\n    return update;\n  }(),\n  remove: function () {\n    function remove() {\n      return false;\n    }\n\n    return remove;\n  }()\n});\nvar TasksSchema = new SimpleSchema({\n  createdAt: {\n    type: Date,\n    autoValue: function () {\n      function autoValue() {\n        if (this.isInsert) {\n          return new Date();\n        }\n      }\n\n      return autoValue;\n    }()\n  },\n  updatedAt: {\n    type: Date,\n    optional: true\n  },\n  status: {\n    type: String,\n    defaultValue: _TASK_STATUS.ACTIVE,\n    allowedValues: Object.values(_TASK_STATUS)\n  },\n  completedAt: {\n    type: Date,\n    optional: true\n  },\n  dueAt: {\n    type: Date,\n    optional: true\n  },\n  userId: {\n    type: String,\n    optional: true\n  },\n  type: {\n    type: String,\n    allowedValues: Object.values(_TASK_TYPE),\n    optional: true\n  },\n  title: {\n    type: String,\n    optional: true\n  },\n  description: {\n    type: String,\n    optional: true\n  },\n  loanId: {\n    type: String,\n    optional: true\n  },\n  propertyId: {\n    type: String,\n    optional: true\n  },\n  borrowerId: {\n    type: String,\n    optional: true\n  }\n});\nTasks.attachSchema(TasksSchema);\nmodule.exportDefault(Tasks);","map":{"version":3,"sources":["imports/core/api/tasks/tasks.js"],"names":["Mongo","module","watch","require","v","SimpleSchema","TASK_STATUS","TASK_TYPE","Tasks","Collection","deny","insert","update","remove","allow","TasksSchema","createdAt","type","Date","autoValue","isInsert","updatedAt","optional","status","String","defaultValue","ACTIVE","allowedValues","Object","values","completedAt","dueAt","userId","title","description","loanId","propertyId","borrowerId","attachSchema","exportDefault"],"mappings":";;AAAA,IAAIA,eAAJ;;AAAUC,OAAOC,KAAP,CAAaC,QAAQ,cAAR,CAAb,EAAqC;AAACH,OAAD;AAAA,mBAAOI,CAAP,EAAS;AAACJ,eAAMI,CAAN;AAAQ;;AAAlB;AAAA;AAAA,CAArC,EAAyD,CAAzD;AAA4D,IAAIC,qBAAJ;AAAiBJ,OAAOC,KAAP,CAAaC,QAAQ,cAAR,CAAb,EAAqC;AAAA;AAAA,sBAASC,CAAT,EAAW;AAACC,qBAAaD,CAAb;AAAe;;AAA3B;AAAA;AAAA,CAArC,EAAkE,CAAlE;;AAAqE,IAAIE,qBAAJ;AAAA,IAAgBC,mBAAhB;;AAA0BN,OAAOC,KAAP,CAAaC,QAAQ,kBAAR,CAAb,EAAyC;AAACG,aAAD;AAAA,yBAAaF,CAAb,EAAe;AAACE,qBAAYF,CAAZ;AAAc;;AAA9B;AAAA;AAA+BG,WAA/B;AAAA,uBAAyCH,CAAzC,EAA2C;AAACG,mBAAUH,CAAV;AAAY;;AAAxD;AAAA;AAAA,CAAzC,EAAmG,CAAnG;AAItL,IAAMI,QAAQ,IAAIR,OAAMS,UAAV,CAAqB,OAArB,CAAd,C,CAEA;;AACAD,MAAME,IAAN,CAAW;AACTC;AAAQ;AAAA,aAAM,IAAN;AAAA;;AAAR;AAAA,KADS;AAETC;AAAQ;AAAA,aAAM,IAAN;AAAA;;AAAR;AAAA,KAFS;AAGTC;AAAQ;AAAA,aAAM,IAAN;AAAA;;AAAR;AAAA;AAHS,CAAX;AAMAL,MAAMM,KAAN,CAAY;AACVH;AAAQ;AAAA,aAAM,KAAN;AAAA;;AAAR;AAAA,KADU;AAEVC;AAAQ;AAAA,aAAM,KAAN;AAAA;;AAAR;AAAA,KAFU;AAGVC;AAAQ;AAAA,aAAM,KAAN;AAAA;;AAAR;AAAA;AAHU,CAAZ;AAMA,IAAME,cAAc,IAAIV,YAAJ,CAAiB;AACnCW,aAAW;AACTC,UAAMC,IADG;AAETC,aAFS;AAAA,2BAEG;AACV,YAAI,KAAKC,QAAT,EAAmB;AACjB,iBAAO,IAAIF,IAAJ,EAAP;AACD;AACF;;AANQ;AAAA;AAAA,GADwB;AASnCG,aAAW;AACTJ,UAAMC,IADG;AAETI,cAAU;AAFD,GATwB;AAanCC,UAAQ;AACNN,UAAMO,MADA;AAENC,kBAAcnB,aAAYoB,MAFpB;AAGNC,mBAAeC,OAAOC,MAAP,CAAcvB,YAAd;AAHT,GAb2B;AAkBnCwB,eAAa;AACXb,UAAMC,IADK;AAEXI,cAAU;AAFC,GAlBsB;AAsBnCS,SAAO;AACLd,UAAMC,IADD;AAELI,cAAU;AAFL,GAtB4B;AA0BnCU,UAAQ;AACNf,UAAMO,MADA;AAENF,cAAU;AAFJ,GA1B2B;AA8BnCL,QAAM;AACJA,UAAMO,MADF;AAEJG,mBAAeC,OAAOC,MAAP,CAActB,UAAd,CAFX;AAGJe,cAAU;AAHN,GA9B6B;AAmCnCW,SAAO;AACLhB,UAAMO,MADD;AAELF,cAAU;AAFL,GAnC4B;AAuCnCY,eAAa;AACXjB,UAAMO,MADK;AAEXF,cAAU;AAFC,GAvCsB;AA2CnCa,UAAQ;AACNlB,UAAMO,MADA;AAENF,cAAU;AAFJ,GA3C2B;AA+CnCc,cAAY;AACVnB,UAAMO,MADI;AAEVF,cAAU;AAFA,GA/CuB;AAmDnCe,cAAY;AACVpB,UAAMO,MADI;AAEVF,cAAU;AAFA;AAnDuB,CAAjB,CAApB;AAyDAd,MAAM8B,YAAN,CAAmBvB,WAAnB;AA5EAd,OAAOsC,aAAP,CA6Ee/B,KA7Ef","file":"imports/core/api/tasks/tasks.js.map","sourcesContent":["import { Mongo } from 'meteor/mongo';\nimport SimpleSchema from 'simpl-schema';\nimport { TASK_STATUS, TASK_TYPE } from './tasksConstants';\n\nconst Tasks = new Mongo.Collection('tasks');\n\n// Prevent all client side modifications of mongoDB\nTasks.deny({\n  insert: () => true,\n  update: () => true,\n  remove: () => true,\n});\n\nTasks.allow({\n  insert: () => false,\n  update: () => false,\n  remove: () => false,\n});\n\nconst TasksSchema = new SimpleSchema({\n  createdAt: {\n    type: Date,\n    autoValue() {\n      if (this.isInsert) {\n        return new Date();\n      }\n    },\n  },\n  updatedAt: {\n    type: Date,\n    optional: true,\n  },\n  status: {\n    type: String,\n    defaultValue: TASK_STATUS.ACTIVE,\n    allowedValues: Object.values(TASK_STATUS),\n  },\n  completedAt: {\n    type: Date,\n    optional: true,\n  },\n  dueAt: {\n    type: Date,\n    optional: true,\n  },\n  userId: {\n    type: String,\n    optional: true,\n  },\n  type: {\n    type: String,\n    allowedValues: Object.values(TASK_TYPE),\n    optional: true,\n  },\n  title: {\n    type: String,\n    optional: true,\n  },\n  description: {\n    type: String,\n    optional: true,\n  },\n  loanId: {\n    type: String,\n    optional: true,\n  },\n  propertyId: {\n    type: String,\n    optional: true,\n  },\n  borrowerId: {\n    type: String,\n    optional: true,\n  },\n});\n\nTasks.attachSchema(TasksSchema);\nexport default Tasks;\n"]},"hash":"83148024f93c6b48994cba3f069e7b79b0ee9ad2"}
