{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"./collections","imported":["Authors","Groups","Posts","Categories","AuthorProfiles"],"specifiers":[{"kind":"named","imported":"Authors","local":"Authors"},{"kind":"named","imported":"Groups","local":"Groups"},{"kind":"named","imported":"Posts","local":"Posts"},{"kind":"named","imported":"Categories","local":"Categories"},{"kind":"named","imported":"AuthorProfiles","local":"AuthorProfiles"}]}],"exports":{"exported":["categoryIds","groupIds","authorIds","postIds"],"specifiers":[{"kind":"local","local":"categoryIds","exported":"categoryIds"},{"kind":"local","local":"groupIds","exported":"groupIds"},{"kind":"local","local":"authorIds","exported":"authorIds"},{"kind":"local","local":"postIds","exported":"postIds"}]}}},"options":{"filename":"packages/cultofcoders:grapher/lib/query/testing/link-cache/fixtures.js","filenameRelative":"packages/cultofcoders:grapher/lib/query/testing/link-cache/fixtures.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"packages/cultofcoders:grapher/lib/query/testing/link-cache/fixtures.js.map","sourceFileName":"packages/cultofcoders:grapher/lib/query/testing/link-cache/fixtures.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"fixtures"},"ignored":false,"code":"module.export({\n    categoryIds: () => categoryIds,\n    groupIds: () => groupIds,\n    authorIds: () => authorIds,\n    postIds: () => postIds\n});\nlet Authors, Groups, Posts, Categories, AuthorProfiles;\nmodule.watch(require(\"./collections\"), {\n    Authors(v) {\n        Authors = v;\n    },\n\n    Groups(v) {\n        Groups = v;\n    },\n\n    Posts(v) {\n        Posts = v;\n    },\n\n    Categories(v) {\n        Categories = v;\n    },\n\n    AuthorProfiles(v) {\n        AuthorProfiles = v;\n    }\n\n}, 0);\nconst GROUPS = 3;\nconst CATEGORIES = 3;\nconst AUTHOR_PER_GROUPS = 3;\nconst POSTS_PER_AUTHOR = 3;\nlet categoryIds = [];\nlet groupIds = [];\nlet authorIds = [];\nlet postIds = [];\nMeteor.startup(() => {\n    for (let i = 0; i < CATEGORIES; i++) {\n        const categoryId = Categories.insert({\n            name: `Category ${i}`\n        });\n        categoryIds.push(categoryId);\n    }\n\n    for (let i = 0; i < GROUPS; i++) {\n        const groupId = Groups.insert({\n            name: `Group ${i}`\n        });\n        groupIds.push(groupId);\n    }\n\n    groupIds.forEach(groupId => {\n        for (let i = 0; i < AUTHOR_PER_GROUPS; i++) {\n            const authorId = Authors.insert({\n                name: `Author ${authorIds.length}`,\n                createdAt: new Date()\n            });\n            const authorProfileId = AuthorProfiles.insert({\n                name: `Author ${authorIds.length}`,\n                createdAt: new Date()\n            });\n            Authors.getLink(authorId, 'profile').set(authorProfileId);\n            authorIds.push(authorId); // link it to the group\n\n            const groupLink = Authors.getLink(authorId, 'groups');\n            groupLink.add(groupId);\n\n            for (let j = 0; j < POSTS_PER_AUTHOR; j++) {\n                createPost(authorId);\n            }\n        }\n    });\n\n    function createPost(authorId) {\n        const postId = Posts.insert({\n            title: `Post ${postIds.length}`,\n            createdAt: new Date()\n        });\n        postIds.push(postId);\n        const authorLink = Posts.getLink(postId, 'author');\n        authorLink.set(authorId);\n        const randomCategoryId = categoryIds[Math.floor(Math.random() * categoryIds.length)];\n        const categoriesLink = Posts.getLink(postId, 'categories');\n        categoriesLink.add(randomCategoryId, {\n            createdAt: new Date()\n        });\n        return postId;\n    }\n});","map":{"version":3,"sources":["packages/cultofcoders:grapher/lib/query/testing/link-cache/fixtures.js"],"names":["module","export","categoryIds","groupIds","authorIds","postIds","Authors","Groups","Posts","Categories","AuthorProfiles","watch","require","v","GROUPS","CATEGORIES","AUTHOR_PER_GROUPS","POSTS_PER_AUTHOR","Meteor","startup","i","categoryId","insert","name","push","groupId","forEach","authorId","length","createdAt","Date","authorProfileId","getLink","set","groupLink","add","j","createPost","postId","title","authorLink","randomCategoryId","Math","floor","random","categoriesLink"],"mappings":"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","file":"packages/cultofcoders:grapher/lib/query/testing/link-cache/fixtures.js.map","sourcesContent":["import {Authors, Groups, Posts, Categories, AuthorProfiles} from './collections';\n\nconst GROUPS = 3;\nconst CATEGORIES = 3;\nconst AUTHOR_PER_GROUPS = 3;\nconst POSTS_PER_AUTHOR = 3;\n\nexport let categoryIds = [];\nexport let groupIds = [];\nexport let authorIds = [];\nexport let postIds = [];\n\nMeteor.startup(() => {\n    for (let i = 0; i < CATEGORIES; i++) {\n        const categoryId = Categories.insert({\n            name: `Category ${i}`\n        });\n\n        categoryIds.push(categoryId);\n    }\n\n\n    for (let i = 0; i < GROUPS; i++) {\n        const groupId = Groups.insert({\n            name: `Group ${i}`\n        });\n\n        groupIds.push(groupId);\n    }\n\n    groupIds.forEach(groupId => {\n        for (let i = 0; i < AUTHOR_PER_GROUPS; i++) {\n            const authorId = Authors.insert({\n                name: `Author ${authorIds.length}`,\n                createdAt: new Date(),\n            });\n\n            const authorProfileId = AuthorProfiles.insert({\n                name: `Author ${authorIds.length}`,\n                createdAt: new Date(),\n            });\n\n            Authors.getLink(authorId, 'profile').set(authorProfileId);\n\n            authorIds.push(authorId);\n\n            // link it to the group\n            const groupLink = Authors.getLink(authorId, 'groups');\n            groupLink.add(groupId);\n\n            for (let j = 0; j < POSTS_PER_AUTHOR; j++) {\n                createPost(authorId);\n            }\n        }\n    });\n\n    function createPost(authorId) {\n        const postId = Posts.insert({\n            title: `Post ${postIds.length}`,\n            createdAt: new Date(),\n        });\n\n        postIds.push(postId);\n\n        const authorLink = Posts.getLink(postId, 'author');\n        authorLink.set(authorId);\n\n        const randomCategoryId = categoryIds[Math.floor(Math.random()*categoryIds.length)];\n\n        const categoriesLink = Posts.getLink(postId, 'categories');\n        categoriesLink.add(randomCategoryId, {\n            createdAt: new Date(),\n        });\n\n        return postId;\n    }\n});\n"]},"hash":"7a59a119c1740016287f04916a633dcf92733523"}
