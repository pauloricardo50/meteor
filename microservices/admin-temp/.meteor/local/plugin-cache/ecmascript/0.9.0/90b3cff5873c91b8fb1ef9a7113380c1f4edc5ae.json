{"metadata":{"usedHelpers":["classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[],"exports":{"exported":["ReducerNode"],"specifiers":[{"kind":"local","local":"ReducerNode","exported":"default"}]}}},"options":{"filename":"packages/cultofcoders:grapher/lib/query/nodes/reducerNode.js","filenameRelative":"packages/cultofcoders:grapher/lib/query/nodes/reducerNode.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"packages/cultofcoders:grapher/lib/query/nodes/reducerNode.js.map","sourceFileName":"packages/cultofcoders:grapher/lib/query/nodes/reducerNode.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"reducerNode"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nmodule.export({\n    \"default\": function () {\n        return ReducerNode;\n    }\n});\n\nvar ReducerNode = function () {\n    function ReducerNode(name, _ref) {\n        var body = _ref.body,\n            reduce = _ref.reduce;\n        (0, _classCallCheck3.default)(this, ReducerNode);\n        this.name = name;\n        this.body = body;\n        this.reduceFunction = reduce;\n    } /**\n       * When computing we also pass the parameters\n       * \n       * @param {*} object \n       * @param {*} args \n       */\n\n    ReducerNode.prototype.compute = function () {\n        function compute(object) {\n            var _reduce;\n\n            for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n                args[_key - 1] = arguments[_key];\n            }\n\n            object[this.name] = (_reduce = this.reduce).call.apply(_reduce, [this, object].concat(args));\n        }\n\n        return compute;\n    }();\n\n    ReducerNode.prototype.reduce = function () {\n        function reduce(object) {\n            var _reduceFunction;\n\n            for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n                args[_key2 - 1] = arguments[_key2];\n            }\n\n            return (_reduceFunction = this.reduceFunction).call.apply(_reduceFunction, [this, object].concat(args));\n        }\n\n        return reduce;\n    }();\n\n    return ReducerNode;\n}();","map":{"version":3,"sources":["packages/cultofcoders:grapher/lib/query/nodes/reducerNode.js"],"names":["module","export","ReducerNode","name","body","reduce","reduceFunction","compute","object","args","call"],"mappings":";;;;;;AAAAA,OAAOC,MAAP,CAAc;AAAC,eAAQ;AAAA,eAAIC,WAAJ;AAAA;AAAT,CAAd;;IAAqBA,W;AACjB,yBAAYC,IAAZ,QAAkC;AAAA,YAAfC,IAAe,QAAfA,IAAe;AAAA,YAATC,MAAS,QAATA,MAAS;AAAA;AAC9B,aAAKF,IAAL,GAAYA,IAAZ;AACA,aAAKC,IAAL,GAAYA,IAAZ;AACA,aAAKE,cAAL,GAAsBD,MAAtB;AACH,K,CAED;;;;;;;0BAMAE,O;yBAAQC,M,EAAiB;AAAA;;AAAA,8CAANC,IAAM;AAANA,oBAAM;AAAA;;AACrBD,mBAAO,KAAKL,IAAZ,IAAoB,gBAAKE,MAAL,EAAYK,IAAZ,iBAAiB,IAAjB,EAAuBF,MAAvB,SAAkCC,IAAlC,EAApB;AACH;;;;;0BAEDJ,M;wBAAOG,M,EAAiB;AAAA;;AAAA,+CAANC,IAAM;AAANA,oBAAM;AAAA;;AACpB,mBAAO,wBAAKH,cAAL,EAAoBI,IAApB,yBAAyB,IAAzB,EAA+BF,MAA/B,SAA0CC,IAA1C,EAAP;AACH","file":"packages/cultofcoders:grapher/lib/query/nodes/reducerNode.js.map","sourcesContent":["export default class ReducerNode {\n    constructor(name, {body, reduce}) {\n        this.name = name;\n        this.body = body;\n        this.reduceFunction = reduce;\n    }\n\n    /**\n     * When computing we also pass the parameters\n     * \n     * @param {*} object \n     * @param {*} args \n     */\n    compute(object, ...args) {\n        object[this.name] = this.reduce.call(this, object, ...args);\n    }\n\n    reduce(object, ...args) {\n        return this.reduceFunction.call(this, object, ...args);\n    }\n}"]},"hash":"90b3cff5873c91b8fb1ef9a7113380c1f4edc5ae"}
