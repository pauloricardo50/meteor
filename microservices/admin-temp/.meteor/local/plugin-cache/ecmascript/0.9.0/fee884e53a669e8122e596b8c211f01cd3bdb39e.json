{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"../../","imported":["Tasks"],"specifiers":[{"kind":"named","imported":"Tasks","local":"Tasks"}]},{"source":"../tasksConstants","imported":["QUERY"],"specifiers":[{"kind":"named","imported":"QUERY","local":"QUERY"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/core/api/tasks/queries/tasksList.js","filenameRelative":"imports/core/api/tasks/queries/tasksList.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],{"spec":false,"loose":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/core/api/tasks/queries/tasksList.js.map","sourceFileName":"imports/core/api/tasks/queries/tasksList.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"tasksList"},"ignored":false,"code":"\"use strict\";\n\nvar _Tasks = void 0;\n\nmodule.watch(require(\"../../\"), {\n  Tasks: function Tasks(v) {\n    _Tasks = v;\n  }\n}, 0);\n\nvar _QUERY = void 0;\n\nmodule.watch(require(\"../tasksConstants\"), {\n  QUERY: function QUERY(v) {\n    _QUERY = v;\n  }\n}, 1);\nmodule.exportDefault(_Tasks.createQuery(_QUERY.TASKS, {\n  $filter: function $filter(_ref) {\n    var filters = _ref.filters,\n        options = _ref.options,\n        params = _ref.params;\n\n    if (params.unassigned) {\n      filters.assignedTo = undefined;\n    } else if (params.userId) {\n      filters.assignedTo = params.userId;\n    } // filters.assignedUser.roles = {$in: ['admin']};\n\n  },\n  $options: {\n    sort: {\n      status: -1,\n      type: -1,\n      createdAt: -1\n    }\n  },\n  $paginate: true,\n  status: 1,\n  createdAt: 1,\n  updatedAt: 1,\n  dueAt: 1,\n  assignedUser: {\n    emails: 1,\n    roles: 1\n  }\n}));","map":{"version":3,"sources":["imports/core/api/tasks/queries/tasksList.js"],"names":["Tasks","module","watch","require","v","QUERY","exportDefault","createQuery","TASKS","$filter","filters","options","params","unassigned","assignedTo","undefined","userId","$options","sort","status","type","createdAt","$paginate","updatedAt","dueAt","assignedUser","emails","roles"],"mappings":";;AAAA,IAAIA,eAAJ;;AAAUC,OAAOC,KAAP,CAAaC,QAAQ,QAAR,CAAb,EAA+B;AAACH,OAAD,iBAAOI,CAAP,EAAS;AAACJ,aAAMI,CAAN;AAAQ;AAAlB,CAA/B,EAAmD,CAAnD;;AAAsD,IAAIC,eAAJ;;AAAUJ,OAAOC,KAAP,CAAaC,QAAQ,mBAAR,CAAb,EAA0C;AAACE,OAAD,iBAAOD,CAAP,EAAS;AAACC,aAAMD,CAAN;AAAQ;AAAlB,CAA1C,EAA8D,CAA9D;AAA1EH,OAAOK,aAAP,CAGeN,OAAMO,WAAN,CAAkBF,OAAMG,KAAxB,EAA+B;AAC5CC,SAD4C,yBACN;AAAA,QAA5BC,OAA4B,QAA5BA,OAA4B;AAAA,QAAnBC,OAAmB,QAAnBA,OAAmB;AAAA,QAAVC,MAAU,QAAVA,MAAU;;AACpC,QAAIA,OAAOC,UAAX,EAAuB;AACrBH,cAAQI,UAAR,GAAqBC,SAArB;AACD,KAFD,MAEO,IAAIH,OAAOI,MAAX,EAAmB;AACxBN,cAAQI,UAAR,GAAqBF,OAAOI,MAA5B;AACD,KALmC,CAMpC;;AACD,GAR2C;AAS5CC,YAAU;AACRC,UAAM;AACJC,cAAQ,CAAC,CADL;AAEJC,YAAM,CAAC,CAFH;AAGJC,iBAAW,CAAC;AAHR;AADE,GATkC;AAgB5CC,aAAW,IAhBiC;AAiB5CH,UAAQ,CAjBoC;AAkB5CE,aAAW,CAlBiC;AAmB5CE,aAAW,CAnBiC;AAoB5CC,SAAO,CApBqC;AAqB5CC,gBAAc;AACZC,YAAQ,CADI;AAEZC,WAAO;AAFK;AArB8B,CAA/B,CAHf","file":"imports/core/api/tasks/queries/tasksList.js.map","sourcesContent":["import { Tasks } from '../../';\nimport { QUERY } from '../tasksConstants';\n\nexport default Tasks.createQuery(QUERY.TASKS, {\n  $filter({ filters, options, params }) {\n    if (params.unassigned) {\n      filters.assignedTo = undefined;\n    } else if (params.userId) {\n      filters.assignedTo = params.userId;\n    }\n    // filters.assignedUser.roles = {$in: ['admin']};\n  },\n  $options: {\n    sort: {\n      status: -1,\n      type: -1,\n      createdAt: -1,\n    },\n  },\n  $paginate: true,\n  status: 1,\n  createdAt: 1,\n  updatedAt: 1,\n  dueAt: 1,\n  assignedUser: {\n    emails: 1,\n    roles: 1,\n  },\n});\n"]},"hash":"fee884e53a669e8122e596b8c211f01cd3bdb39e"}
