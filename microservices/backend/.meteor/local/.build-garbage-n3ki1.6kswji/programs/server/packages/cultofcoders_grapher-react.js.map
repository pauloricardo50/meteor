{"version":3,"sources":["meteor://ðŸ’»app/packages/cultofcoders:grapher-react/main.server.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/defaults.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/setDefaults.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/withQuery.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/legacy/createQueryContainer.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/lib/checkOptions.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/lib/getDisplayName.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/lib/withQueryContainer.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/lib/withReactiveQuery.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/lib/withStaticQuery.js"],"names":["checkNpmVersions","module","link","v","default","react","exportDefault","reactive","single","dataProp","export","setDefaults","defaults","newDefaults","Object","assign","React","withTracker","withReactiveQuery","withQueryContainer","withStaticQuery","checkOptions","handler","_config","config","component","queryContainer","staticQueryContainer","props","query","createElement","createContainer","options","Meteor","isDevelopment","console","warn","params","setParams","subscribe","loading","ready","_","first","fetch","MethodQueryComponent","Component","constructor","state","undefined","error","componentWillReceiveProps","nextProps","_fetch","componentDidMount","data","setState","render","propTypes","PropTypes","object","check","Match","Maybe","Boolean","pollingMs","Number","errorComponent","Any","loadingComponent","String","loadOnRefetch","shouldRefetch","Function","poll","Error","getDisplayName","WrappedComponent","displayName","name","Query","NamedQuery","grapher","shape","isLoading","bool","isRequired","array","oneOfType","instanceOf","GrapherQueryContainer","withReactiveContainer","ReactiveVar","QueryComponent","subscriptionError","subscriptionHandle","onStop","err","set","onReady","isReady","errorTracker","get","withStaticQueryContainer","GrapherStaticQueryContainer","refetch","pollingInterval","setInterval","componentWillUnmount","clearInterval"],"mappings":"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","file":"/packages/cultofcoders_grapher-react.js","sourcesContent":["import { checkNpmVersions } from 'meteor/tmeasday:check-npm-versions';\n\ncheckNpmVersions({\n    react: '15.3 - 16',\n    'prop-types': '15.0 - 16',\n}, 'cultofcoders:grapher-react');\n\nexport {\n    default as setDefaults\n} from './setDefaults.js';\n\nexport {\n    default as withQuery\n} from './withQuery.js';\n\nexport {\n    default as createQueryContainer\n} from './legacy/createQueryContainer.js';","export default {\n    reactive: false,\n    single: false,\n    dataProp: 'data',\n}\n","import defaults from './defaults';\n\nexport default function setDefaults(newDefaults) {\n    Object.assign(defaults, newDefaults);\n}","import React from 'react';\nimport defaults from './defaults';\nimport { withTracker } from 'meteor/react-meteor-data';\nimport withReactiveQuery from './lib/withReactiveQuery';\nimport withQueryContainer from './lib/withQueryContainer';\nimport withStaticQuery from './lib/withStaticQuery';\nimport checkOptions from './lib/checkOptions';\n\nexport default function(handler, _config = {}) {\n    checkOptions(_config);\n    const config = Object.assign({}, defaults, _config);\n\n    return function(component) {\n        const queryContainer = withQueryContainer(component);\n\n        if (!config.reactive) {\n            const staticQueryContainer = withStaticQuery(config)(\n                queryContainer,\n            );\n\n            return function(props) {\n                const query = handler(props);\n\n                return React.createElement(staticQueryContainer, {\n                    query,\n                    props,\n                    config,\n                });\n            };\n        } else {\n            return withReactiveQuery(handler, config, queryContainer);\n        }\n    };\n}\n","import React from 'react';\nimport {createContainer} from 'meteor/react-meteor-data';\n\nexport default (query, component, options = {}) => {\n    if (Meteor.isDevelopment) {\n        console.warn('createQueryContainer() is deprecated, please use withQuery() instead')\n    }\n\n    if (options.reactive) {\n        return createContainer((props) => {\n            if (props.params) {\n                query.setParams(props.params);\n            }\n\n            const handler = query.subscribe();\n\n            return {\n                query,\n                loading: !handler.ready(),\n                [options.dataProp]: options.single ? _.first(query.fetch()) : query.fetch(),\n                ...props\n            }\n        }, component);\n    }\n\n    class MethodQueryComponent extends React.Component {\n        constructor() {\n            super();\n            this.state = {\n                [options.dataProp]: undefined,\n                error: undefined,\n                loading: true\n            }\n        }\n\n        componentWillReceiveProps(nextProps) {\n            this._fetch(nextProps.params);\n        }\n\n        componentDidMount() {\n            this._fetch(this.props.params);\n        }\n\n        _fetch(params) {\n            if (params) {\n                query.setParams(params);\n            }\n\n            query.fetch((error, data) => {\n                const state = {\n                    error,\n                    [options.dataProp]: options.single ? _.first(data) : data,\n                    loading: false\n                };\n\n                this.setState(state);\n            });\n        }\n\n        render() {\n            const {state, props} = this;\n\n            return React.createElement(component, {\n                query,\n                ...state,\n                ...props\n            })\n        }\n    }\n\n    MethodQueryComponent.propTypes = {\n        params: React.PropTypes.object\n    };\n\n    return MethodQueryComponent;\n}","import React from 'react';\nimport { check, Match } from 'meteor/check';\n\nexport default function(options) {\n    check(options, {\n        reactive: Match.Maybe(Boolean),\n        single: Match.Maybe(Boolean),\n        pollingMs: Match.Maybe(Number),\n        errorComponent: Match.Maybe(Match.Any),\n        loadingComponent: Match.Maybe(Match.Any),\n        dataProp: Match.Maybe(String),\n        loadOnRefetch: Match.Maybe(Boolean),\n        shouldRefetch: Match.Maybe(Function),\n    });\n\n    if (options.reactive && options.poll) {\n        throw new Meteor.Error(\n            `You cannot have a query that is reactive and it is with polling`\n        );\n    }\n}\n","export default function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Query, NamedQuery} from 'meteor/cultofcoders:grapher-react';\nimport getDisplayName from './getDisplayName';\nimport {withTracker} from 'meteor/react-meteor-data';\n\nconst propTypes = {\n    grapher: PropTypes.shape({\n        isLoading: PropTypes.bool.isRequired,\n        error: PropTypes.object,\n        data: PropTypes.array,\n        query: PropTypes.oneOfType([\n            PropTypes.instanceOf(Query),\n            PropTypes.instanceOf(NamedQuery),\n        ])\n    }).isRequired,\n    config: PropTypes.object.isRequired,\n    props: PropTypes.object,\n};\n\nexport default function withQueryContainer(WrappedComponent) {\n    let GrapherQueryContainer = function({grapher, config, query, props}) {\n        const {isLoading, error, data} = grapher;\n\n        if (error && config.errorComponent) {\n            return React.createElement(config.errorComponent, {\n                error,\n                query,\n            })\n        }\n\n        if (isLoading && config.loadingComponent) {\n            return React.createElement(config.loadingComponent, {\n                query,\n            })\n        }\n\n        return React.createElement(WrappedComponent, {\n            ...props,\n            isLoading: error ? false : isLoading,\n            error,\n            [config.dataProp]: config.single ? data[0] : data,\n            query\n        })\n    };\n\n    GrapherQueryContainer.propTypes = propTypes;\n    GrapherQueryContainer.displayName = `GrapherQuery(${getDisplayName(WrappedComponent)})`;\n\n    return GrapherQueryContainer;\n}\n","import {withTracker} from 'meteor/react-meteor-data';\nimport {ReactiveVar} from 'meteor/reactive-var';\n\n/**\n * Wraps the query and provides reactive data fetching utility\n *\n * @param handler\n * @param config\n * @param QueryComponent\n */\nexport default function withReactiveContainer(handler, config, QueryComponent) {\n    let subscriptionError = new ReactiveVar();\n\n    return withTracker((props) => {\n        const query = handler(props);\n\n        const subscriptionHandle = query.subscribe({\n            onStop(err) {\n                if (err) {\n                    subscriptionError.set(err);\n                }\n            },\n            onReady() {\n                subscriptionError.set(null);\n            }\n        });\n\n        const isReady = subscriptionHandle.ready();\n\n        const data = query.fetch();\n\n        return {\n            grapher: {\n                isLoading: !isReady,\n                data,\n                error: subscriptionError,\n            },\n            query,\n            config,\n            props,\n        }\n    })(errorTracker(QueryComponent))\n}\n\nconst errorTracker = withTracker((props) => {\n    const error = props.grapher.error.get();\n\n    return {\n        ...props,\n        grapher: {\n            ...props.grapher,\n            error,\n        }\n    };\n});","import React from 'react';\nimport getDisplayName from './getDisplayName';\n\nexport default function withStaticQueryContainer(config) {\n    return function(WrappedComponent) {\n        /**\n         * We use it like this so we can have naming inside React Dev Tools\n         * This is a standard pattern in HOCs\n         */\n        class GrapherStaticQueryContainer extends React.Component {\n            state = {\n                isLoading: true,\n                error: null,\n                data: [],\n            };\n\n            componentWillReceiveProps(nextProps) {\n                const { query } = nextProps;\n                \n                if (!config.shouldRefetch) {\n                    this.fetch(query);\n                } else if (config.shouldRefetch(this.props, nextProps)) {\n                    this.fetch(query);\n                }\n            }\n\n            componentDidMount() {\n                const { query, config } = this.props;\n                this.fetch(query);\n\n                if (config.pollingMs) {\n                    this.pollingInterval = setInterval(() => {\n                        this.fetch(query);\n                    }, config.pollingMs);\n                }\n            }\n\n            componentWillUnmount() {\n                this.pollingInterval && clearInterval(this.pollingInterval);\n            }\n\n            fetch(query) {\n                query.fetch((error, data) => {\n                    if (error) {\n                        this.setState({\n                            error,\n                            data: [],\n                            isLoading: false,\n                        });\n                    } else {\n                        this.setState({\n                            error: null,\n                            data,\n                            isLoading: false,\n                        });\n                    }\n                });\n            }\n\n            refetch = () => {\n                const { loadOnRefetch = true } = config;\n                const { query } = this.props;\n\n                if (loadOnRefetch) {\n                    this.setState({ isLoading: true }, () => {\n                        this.fetch(query);\n                    });\n                } else {\n                    this.fetch(query);\n                }\n            };\n\n            render() {\n                const { config, props, query } = this.props;\n\n                return React.createElement(WrappedComponent, {\n                    grapher: this.state,\n                    config,\n                    query,\n                    props: { ...props, refetch: this.refetch },\n                });\n            }\n        }\n\n        GrapherStaticQueryContainer.displayName = `StaticQuery(${getDisplayName(\n            WrappedComponent,\n        )})`;\n\n        return GrapherStaticQueryContainer;\n    };\n}\n"]}