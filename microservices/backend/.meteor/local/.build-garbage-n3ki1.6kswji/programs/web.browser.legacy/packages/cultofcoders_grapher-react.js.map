{"version":3,"sources":["meteor://ðŸ’»app/packages/cultofcoders:grapher-react/main.client.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/defaults.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/setDefaults.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/withQuery.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/legacy/createQueryContainer.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/lib/checkOptions.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/lib/getDisplayName.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/lib/withQueryContainer.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/lib/withReactiveQuery.js","meteor://ðŸ’»app/packages/cultofcoders:grapher-react/lib/withStaticQuery.js"],"names":["checkNpmVersions","module","link","v","react","exportDefault","reactive","single","dataProp","export","setDefaults","defaults","newDefaults","Object","assign","React","withTracker","withReactiveQuery","withQueryContainer","withStaticQuery","checkOptions","handler","_config","config","component","queryContainer","staticQueryContainer","props","query","createElement","createContainer","options","Meteor","isDevelopment","console","warn","params","setParams","subscribe","loading","ready","_","first","fetch","MethodQueryComponent","state","undefined","error","componentWillReceiveProps","nextProps","_fetch","componentDidMount","data","setState","render","Component","propTypes","PropTypes","object","check","Match","Maybe","Boolean","pollingMs","Number","errorComponent","Any","loadingComponent","String","loadOnRefetch","shouldRefetch","Function","poll","Error","getDisplayName","WrappedComponent","displayName","name","Query","NamedQuery","grapher","shape","isLoading","bool","isRequired","array","oneOfType","instanceOf","GrapherQueryContainer","withReactiveContainer","ReactiveVar","QueryComponent","subscriptionError","subscriptionHandle","onStop","err","set","onReady","isReady","errorTracker","get","withStaticQueryContainer","GrapherStaticQueryContainer","refetch","pollingInterval","setInterval","componentWillUnmount","clearInterval"],"mappings":"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","file":"/packages/cultofcoders_grapher-react.js","sourcesContent":["import { checkNpmVersions } from 'meteor/tmeasday:check-npm-versions';\n\ncheckNpmVersions({\n    react: '15.3 - 16',\n    'prop-types': '15.0 - 16',\n}, 'cultofcoders:grapher-react');\n\nexport {\n    default as setDefaults\n} from './setDefaults.js';\n\nexport {\n    default as withQuery\n} from './withQuery.js';\n\nexport {\n    default as createQueryContainer\n} from './legacy/createQueryContainer.js';","export default {\n    reactive: false,\n    single: false,\n    dataProp: 'data',\n}\n","import defaults from './defaults';\n\nexport default function setDefaults(newDefaults) {\n    Object.assign(defaults, newDefaults);\n}","import React from 'react';\nimport defaults from './defaults';\nimport { withTracker } from 'meteor/react-meteor-data';\nimport withReactiveQuery from './lib/withReactiveQuery';\nimport withQueryContainer from './lib/withQueryContainer';\nimport withStaticQuery from './lib/withStaticQuery';\nimport checkOptions from './lib/checkOptions';\n\nexport default function(handler, _config = {}) {\n    checkOptions(_config);\n    const config = Object.assign({}, defaults, _config);\n\n    return function(component) {\n        const queryContainer = withQueryContainer(component);\n\n        if (!config.reactive) {\n            const staticQueryContainer = withStaticQuery(config)(\n                queryContainer,\n            );\n\n            return function(props) {\n                const query = handler(props);\n\n                return React.createElement(staticQueryContainer, {\n                    query,\n                    props,\n                    config,\n                });\n            };\n        } else {\n            return withReactiveQuery(handler, config, queryContainer);\n        }\n    };\n}\n","import React from 'react';\nimport {createContainer} from 'meteor/react-meteor-data';\n\nexport default (query, component, options = {}) => {\n    if (Meteor.isDevelopment) {\n        console.warn('createQueryContainer() is deprecated, please use withQuery() instead')\n    }\n\n    if (options.reactive) {\n        return createContainer((props) => {\n            if (props.params) {\n                query.setParams(props.params);\n            }\n\n            const handler = query.subscribe();\n\n            return {\n                query,\n                loading: !handler.ready(),\n                [options.dataProp]: options.single ? _.first(query.fetch()) : query.fetch(),\n                ...props\n            }\n        }, component);\n    }\n\n    class MethodQueryComponent extends React.Component {\n        constructor() {\n            super();\n            this.state = {\n                [options.dataProp]: undefined,\n                error: undefined,\n                loading: true\n            }\n        }\n\n        componentWillReceiveProps(nextProps) {\n            this._fetch(nextProps.params);\n        }\n\n        componentDidMount() {\n            this._fetch(this.props.params);\n        }\n\n        _fetch(params) {\n            if (params) {\n                query.setParams(params);\n            }\n\n            query.fetch((error, data) => {\n                const state = {\n                    error,\n                    [options.dataProp]: options.single ? _.first(data) : data,\n                    loading: false\n                };\n\n                this.setState(state);\n            });\n        }\n\n        render() {\n            const {state, props} = this;\n\n            return React.createElement(component, {\n                query,\n                ...state,\n                ...props\n            })\n        }\n    }\n\n    MethodQueryComponent.propTypes = {\n        params: React.PropTypes.object\n    };\n\n    return MethodQueryComponent;\n}","import React from 'react';\nimport { check, Match } from 'meteor/check';\n\nexport default function(options) {\n    check(options, {\n        reactive: Match.Maybe(Boolean),\n        single: Match.Maybe(Boolean),\n        pollingMs: Match.Maybe(Number),\n        errorComponent: Match.Maybe(Match.Any),\n        loadingComponent: Match.Maybe(Match.Any),\n        dataProp: Match.Maybe(String),\n        loadOnRefetch: Match.Maybe(Boolean),\n        shouldRefetch: Match.Maybe(Function),\n    });\n\n    if (options.reactive && options.poll) {\n        throw new Meteor.Error(\n            `You cannot have a query that is reactive and it is with polling`\n        );\n    }\n}\n","export default function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Query, NamedQuery} from 'meteor/cultofcoders:grapher-react';\nimport getDisplayName from './getDisplayName';\nimport {withTracker} from 'meteor/react-meteor-data';\n\nconst propTypes = {\n    grapher: PropTypes.shape({\n        isLoading: PropTypes.bool.isRequired,\n        error: PropTypes.object,\n        data: PropTypes.array,\n        query: PropTypes.oneOfType([\n            PropTypes.instanceOf(Query),\n            PropTypes.instanceOf(NamedQuery),\n        ])\n    }).isRequired,\n    config: PropTypes.object.isRequired,\n    props: PropTypes.object,\n};\n\nexport default function withQueryContainer(WrappedComponent) {\n    let GrapherQueryContainer = function({grapher, config, query, props}) {\n        const {isLoading, error, data} = grapher;\n\n        if (error && config.errorComponent) {\n            return React.createElement(config.errorComponent, {\n                error,\n                query,\n            })\n        }\n\n        if (isLoading && config.loadingComponent) {\n            return React.createElement(config.loadingComponent, {\n                query,\n            })\n        }\n\n        return React.createElement(WrappedComponent, {\n            ...props,\n            isLoading: error ? false : isLoading,\n            error,\n            [config.dataProp]: config.single ? data[0] : data,\n            query\n        })\n    };\n\n    GrapherQueryContainer.propTypes = propTypes;\n    GrapherQueryContainer.displayName = `GrapherQuery(${getDisplayName(WrappedComponent)})`;\n\n    return GrapherQueryContainer;\n}\n","import {withTracker} from 'meteor/react-meteor-data';\nimport {ReactiveVar} from 'meteor/reactive-var';\n\n/**\n * Wraps the query and provides reactive data fetching utility\n *\n * @param handler\n * @param config\n * @param QueryComponent\n */\nexport default function withReactiveContainer(handler, config, QueryComponent) {\n    let subscriptionError = new ReactiveVar();\n\n    return withTracker((props) => {\n        const query = handler(props);\n\n        const subscriptionHandle = query.subscribe({\n            onStop(err) {\n                if (err) {\n                    subscriptionError.set(err);\n                }\n            },\n            onReady() {\n                subscriptionError.set(null);\n            }\n        });\n\n        const isReady = subscriptionHandle.ready();\n\n        const data = query.fetch();\n\n        return {\n            grapher: {\n                isLoading: !isReady,\n                data,\n                error: subscriptionError,\n            },\n            query,\n            config,\n            props,\n        }\n    })(errorTracker(QueryComponent))\n}\n\nconst errorTracker = withTracker((props) => {\n    const error = props.grapher.error.get();\n\n    return {\n        ...props,\n        grapher: {\n            ...props.grapher,\n            error,\n        }\n    };\n});","import React from 'react';\nimport getDisplayName from './getDisplayName';\n\nexport default function withStaticQueryContainer(config) {\n    return function(WrappedComponent) {\n        /**\n         * We use it like this so we can have naming inside React Dev Tools\n         * This is a standard pattern in HOCs\n         */\n        class GrapherStaticQueryContainer extends React.Component {\n            state = {\n                isLoading: true,\n                error: null,\n                data: [],\n            };\n\n            componentWillReceiveProps(nextProps) {\n                const { query } = nextProps;\n                \n                if (!config.shouldRefetch) {\n                    this.fetch(query);\n                } else if (config.shouldRefetch(this.props, nextProps)) {\n                    this.fetch(query);\n                }\n            }\n\n            componentDidMount() {\n                const { query, config } = this.props;\n                this.fetch(query);\n\n                if (config.pollingMs) {\n                    this.pollingInterval = setInterval(() => {\n                        this.fetch(query);\n                    }, config.pollingMs);\n                }\n            }\n\n            componentWillUnmount() {\n                this.pollingInterval && clearInterval(this.pollingInterval);\n            }\n\n            fetch(query) {\n                query.fetch((error, data) => {\n                    if (error) {\n                        this.setState({\n                            error,\n                            data: [],\n                            isLoading: false,\n                        });\n                    } else {\n                        this.setState({\n                            error: null,\n                            data,\n                            isLoading: false,\n                        });\n                    }\n                });\n            }\n\n            refetch = () => {\n                const { loadOnRefetch = true } = config;\n                const { query } = this.props;\n\n                if (loadOnRefetch) {\n                    this.setState({ isLoading: true }, () => {\n                        this.fetch(query);\n                    });\n                } else {\n                    this.fetch(query);\n                }\n            };\n\n            render() {\n                const { config, props, query } = this.props;\n\n                return React.createElement(WrappedComponent, {\n                    grapher: this.state,\n                    config,\n                    query,\n                    props: { ...props, refetch: this.refetch },\n                });\n            }\n        }\n\n        GrapherStaticQueryContainer.displayName = `StaticQuery(${getDisplayName(\n            WrappedComponent,\n        )})`;\n\n        return GrapherStaticQueryContainer;\n    };\n}\n"]}