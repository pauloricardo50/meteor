{"code":"!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,a=Package.meteor.meteorEnv,n=Package[\"aldeed:collection2\"].Collection2,o=Package.mongo.Mongo,s=Package.modules.meteorInstall,i=Package[\"babel-runtime\"].meteorBabelHelpers,d=Package.promise.Promise,l=Package[\"ecmascript-runtime-client\"].Symbol,c=Package[\"ecmascript-runtime-client\"].Map,r=Package[\"ecmascript-runtime-client\"].Set,m,g=s({node_modules:{meteor:{\"aldeed:schema-deny\":{\"deny.js\":function(e,t,a){var n,o;a.link(\"simpl-schema\",{default:function(e){n=e}},0),a.link(\"meteor/aldeed:collection2\",{default:function(e){o=e}},1),n.extendOptions([\"denyInsert\",\"denyUpdate\"]),o.on(\"schema.attached\",function(e,t){t.version>=2&&t.messageBox&&\"function\"==typeof t.messageBox.messages&&t.messageBox.messages({en:{insertNotAllowed:\"{{label}} cannot be set during an insert\",updateNotAllowed:\"{{label}} cannot be set during an update\"}}),t.addValidator(function(){if(this.isSet){var e=this.definition;return e.denyInsert&&this.isInsert?\"insertNotAllowed\":e.denyUpdate&&(this.isUpdate||this.isUpsert)?\"updateNotAllowed\":void 0}})})}}}}},{extensions:[\".js\",\".json\"]})(\"/node_modules/meteor/aldeed:schema-deny/deny.js\");Package._define(\"aldeed:schema-deny\",g)}();","sourcemap":"{\"version\":3,\"sources\":[\"packages/aldeed:schema-deny/deny.js\"],\"names\":[\"SimpleSchema\",\"Collection2\",\"module\",\"link\",\"default\",\"v\",\"extendOptions\",\"on\",\"collection\",\"ss\",\"version\",\"messageBox\",\"messages\",\"en\",\"insertNotAllowed\",\"updateNotAllowed\",\"addValidator\",\"this\",\"isSet\",\"def\",\"definition\",\"denyInsert\",\"isInsert\",\"denyUpdate\",\"isUpdate\",\"isUpsert\"],\"mappings\":\"sdAAA,IAAIA,EAA4EC,EAA/DC,EAAOC,KAAK,gBAAeC,QAAA,SAASC,GAAGL,EAAaK,IAAI,GAAmBH,EAAOC,KAAK,6BAA4BC,QAAA,SAASC,GAAGJ,EAAYI,IAAI,GAKhKL,EAAaM,eAAe,aAAc,eAE1CL,EAAYM,GAAG,kBAAmB,SAAUC,EAAYC,GAClDA,EAAGC,SAAW,GAAKD,EAAGE,YAAgD,mBAA3BF,EAAGE,WAAWC,UAC3DH,EAAGE,WAAWC,UACZC,IACEC,iBAAkB,2CAClBC,iBAAkB,8CAKxBN,EAAGO,aAAa,WACd,GAAKC,KAAKC,MAAV,CAEA,IAAMC,EAAMF,KAAKG,WAEjB,OAAID,EAAIE,YAAcJ,KAAKK,SAAiB,mBACxCH,EAAII,aAAeN,KAAKO,UAAYP,KAAKQ,UAAkB,wBAA/D\",\"sourcesContent\":[\"// collection2 checks to make sure that simpl-schema package is added\\nimport SimpleSchema from 'simpl-schema';\\nimport Collection2 from 'meteor/aldeed:collection2';\\n\\n// Extend the schema options allowed by SimpleSchema\\nSimpleSchema.extendOptions(['denyInsert', 'denyUpdate']);\\n\\nCollection2.on('schema.attached', function (collection, ss) {\\n  if (ss.version >= 2 && ss.messageBox && typeof ss.messageBox.messages === 'function') {\\n    ss.messageBox.messages({\\n      en: {\\n        insertNotAllowed: '{{label}} cannot be set during an insert',\\n        updateNotAllowed: '{{label}} cannot be set during an update'\\n      }\\n    });\\n  }\\n\\n  ss.addValidator(function() {\\n    if (!this.isSet) return;\\n\\n    const def = this.definition;\\n\\n    if (def.denyInsert && this.isInsert) return 'insertNotAllowed';\\n    if (def.denyUpdate && (this.isUpdate || this.isUpsert)) return 'updateNotAllowed';\\n  });\\n});\\n\"]}","minifier":"terser"}