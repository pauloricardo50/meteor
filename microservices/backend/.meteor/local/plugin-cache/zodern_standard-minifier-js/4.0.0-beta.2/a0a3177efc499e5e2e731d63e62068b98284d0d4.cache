{"code":"!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,r=Package.meteor.meteorEnv,t=Package.tracker.Tracker,i=Package.tracker.Deps,o=Package[\"mongo-id\"].MongoID,a=Package[\"diff-sequence\"].DiffSequence,c=Package.underscore._,f=Package.random.Random,u,d,s,l;(function(){var e=function(){u._suppressWarnings?u._suppressWarnings--:(\"undefined\"!=typeof console&&console.warn&&console.warn.apply(console,arguments),u._loggedWarnings++)};function n(e){return e instanceof Array||c.isArray(e)}var r=o.idStringify,i=o.idParse;u={_suppressWarnings:0,_loggedWarnings:0,observe:function(e,r){var i=null,o=null,f=[],u=t.autorun(function(){var u=e();t.nonreactive(function(){var e;if(o&&(f=c.map(i.fetch(),function(e){return{_id:e._id,item:e}}),o.stop(),o=null),u)if(n(u))e=s(f,u,r);else{if(!v(u))throw a();var t=l(f,u,r);e=t[0],o=t[1]}else e=d(f,r);p(f,e,r),i=u,f=e})});return{stop:function(){u.stop(),o&&o.stop()}}},fetch:function(e){if(e){if(n(e))return e;if(v(e))return e.fetch();throw a()}return[]}};var a=function(){return new Error(\"{{#each}} currently only accepts arrays, cursors or falsey values.\")},v=function(e){return e&&c.isObject(e)&&c.isFunction(e.observe)&&c.isFunction(e.fetch)},p=function(e,n,t){var o=Package[\"diff-sequence\"].DiffSequence.diffQueryOrderedChanges,a=[],f=[],u={},d={},s={},l=e.length;c.each(n,function(e,n){f.push({_id:e._id}),d[r(e._id)]=n}),c.each(e,function(e,n){a.push({_id:e._id}),u[r(e._id)]=n,s[r(e._id)]=n}),o(a,f,{addedBefore:function(e,i,o){var a=o?s[r(o)]:l;o&&c.each(s,function(e,n){e>=a&&s[n]++}),l++,s[r(e)]=a,t.addedAt(e,n[d[r(e)]].item,a,o)},movedBefore:function(e,i){if(e!==i){var o=s[r(e)],a=i?s[r(i)]:l;a>o&&a--,c.each(s,function(e,n){o<e&&e<a?s[n]--:a<=e&&e<o&&s[n]++}),s[r(e)]=a,t.movedTo(e,n[d[r(e)]].item,o,a,i)}},removed:function(n){var i=s[r(n)];c.each(s,function(e,n){e>=i&&s[n]--}),delete s[r(n)],l--,t.removedAt(n,e[u[r(n)]].item,i)}}),c.each(d,function(r,o){var a=i(o);if(c.has(u,o)){var f=n[r].item,d=e[u[o]].item;\"object\"!=typeof f&&f===d||t.changedAt(a,f,d,r)}})};d=function(e,n){return[]},s=function(n,t,i){var o={},a;return c.map(t,function(n,i){var a;if(\"string\"==typeof n)a=\"-\"+n;else if(\"number\"==typeof n||\"boolean\"==typeof n||null==n)a=n;else{if(\"object\"!=typeof n)throw new Error(\"{{#each}} doesn't support arrays with elements of type \"+typeof n);a=n&&\"_id\"in n?n._id:i}var c=r(a);return o[c]?(n&&\"object\"==typeof n&&\"_id\"in n&&e(\"duplicate id \"+a+\" in\",t),a=f.id()):o[c]=!0,{_id:a,item:n}})},l=function(e,n,r){var t=!0,i=[],o=n.observe({addedAt:function(e,n,o){if(t){if(null!==o)throw new Error(\"Expected initial data from observe in order\");i.push({_id:e._id,item:e})}else r.addedAt(e._id,e,n,o)},changedAt:function(e,n,t){r.changedAt(e._id,e,n,t)},removedAt:function(e,n){r.removedAt(e._id,e,n)},movedTo:function(e,n,t,i){r.movedTo(e._id,e,n,t,i)}});return t=!1,[i,o]}}).call(this),Package._define(\"observe-sequence\",{ObserveSequence:u})}();","sourcemap":"{\"version\":3,\"sources\":[\"packages/observe-sequence.js\"],\"names\":[\"Meteor\",\"Package\",\"meteor\",\"global\",\"meteorEnv\",\"Tracker\",\"tracker\",\"Deps\",\"MongoID\",\"DiffSequence\",\"_\",\"underscore\",\"Random\",\"random\",\"ObserveSequence\",\"seqChangedToEmpty\",\"seqChangedToArray\",\"seqChangedToCursor\",\"warn\",\"_suppressWarnings\",\"console\",\"apply\",\"arguments\",\"_loggedWarnings\",\"isArray\",\"arr\",\"Array\",\"idStringify\",\"idParse\",\"observe\",\"sequenceFunc\",\"callbacks\",\"lastSeq\",\"activeObserveHandle\",\"lastSeqArray\",\"computation\",\"autorun\",\"seq\",\"nonreactive\",\"seqArray\",\"map\",\"fetch\",\"doc\",\"_id\",\"item\",\"stop\",\"isStoreCursor\",\"badSequenceError\",\"result\",\"diffArray\",\"Error\",\"cursor\",\"isObject\",\"isFunction\",\"diffFn\",\"diffQueryOrderedChanges\",\"oldIdObjects\",\"newIdObjects\",\"posOld\",\"posNew\",\"posCur\",\"lengthCur\",\"length\",\"each\",\"i\",\"push\",\"addedBefore\",\"id\",\"before\",\"position\",\"pos\",\"addedAt\",\"movedBefore\",\"oldPosition\",\"newPosition\",\"elCurPosition\",\"movedTo\",\"removed\",\"prevPosition\",\"removedAt\",\"idString\",\"has\",\"newItem\",\"oldItem\",\"changedAt\",\"array\",\"idsUsed\",\"index\",\"initial\",\"observeHandle\",\"document\",\"atIndex\",\"newDocument\",\"oldDocument\",\"fromIndex\",\"toIndex\",\"call\",\"this\",\"_define\"],\"mappings\":\"CAUA,WAGA,IAAIA,EAASC,QAAQC,OAAOF,OACxBG,EAASF,QAAQC,OAAOC,OACxBC,EAAYH,QAAQC,OAAOE,UAC3BC,EAAUJ,QAAQK,QAAQD,QAC1BE,EAAON,QAAQK,QAAQC,KACvBC,EAAUP,QAAQ,YAAYO,QAC9BC,EAAeR,QAAQ,iBAAiBQ,aACxCC,EAAIT,QAAQU,WAAWD,EACvBE,EAASX,QAAQY,OAAOD,OAGxBE,EAAiBC,EAAmBC,EAAmBC,GAE3D,WAQA,IAAIC,EAAO,WACLJ,EAAgBK,kBAClBL,EAAgBK,qBAEO,oBAAZC,SAA2BA,QAAQF,MAC5CE,QAAQF,KAAKG,MAAMD,QAASE,WAE9BR,EAAgBS,oBASpB,SAASC,EAAQC,GACf,OAAOA,aAAeC,OAAShB,EAAEc,QAAQC,GAG3C,IAAIE,EAAcnB,EAAQmB,YACtBC,EAAUpB,EAAQoB,QAEtBd,GACEK,kBAAmB,EACnBI,gBAAiB,EAwCjBM,QAAS,SAAUC,EAAcC,GAC/B,IAAIC,EAAU,KACVC,EAAsB,KAmBtBC,KACAC,EAAc9B,EAAQ+B,QAAQ,WAChC,IAAIC,EAAMP,IAEVzB,EAAQiC,YAAY,WAClB,IAAIC,EAYJ,GAVIN,IAGFC,EAAexB,EAAE8B,IAAIR,EAAQS,QAAS,SAAUC,GAC9C,OAAQC,IAAKD,EAAIC,IAAKC,KAAMF,KAE9BT,EAAoBY,OACpBZ,EAAsB,MAGnBI,EAEE,GAAIb,EAAQa,GACjBE,EAAWvB,EAAkBkB,EAAcG,EAAKN,OAC3C,CAAA,IAAIe,EAAcT,GAMvB,MAAMU,IALN,IAAIC,EACE/B,EAAmBiB,EAAcG,EAAKN,GAC5CQ,EAAWS,EAAO,GAClBf,EAAsBe,EAAO,QAP7BT,EAAWxB,EAAkBmB,EAAcH,GAY7CkB,EAAUf,EAAcK,EAAUR,GAClCC,EAAUK,EACVH,EAAeK,MAInB,OACEM,KAAM,WACJV,EAAYU,OACRZ,GACFA,EAAoBY,UAQ5BJ,MAAO,SAAUJ,GACf,GAAKA,EAEE,CAAA,GAAIb,EAAQa,GACjB,OAAOA,EACF,GAAIS,EAAcT,GACvB,OAAOA,EAAII,QAEX,MAAMM,IANN,WAWN,IAAIA,EAAmB,WACrB,OAAO,IAAIG,MAAM,uEAIfJ,EAAgB,SAAUK,GAC5B,OAAOA,GAAUzC,EAAE0C,SAASD,IAC1BzC,EAAE2C,WAAWF,EAAOtB,UAAYnB,EAAE2C,WAAWF,EAAOV,QAMpDQ,EAAY,SAAUf,EAAcK,EAAUR,GAChD,IAAIuB,EAASrD,QAAQ,iBAAiBQ,aAAa8C,wBAC/CC,KACAC,KACAC,KACAC,KACAC,KACAC,EAAY3B,EAAa4B,OAE7BpD,EAAEqD,KAAKxB,EAAU,SAAUG,EAAKsB,GAC9BP,EAAaQ,MAAMtB,IAAKD,EAAIC,MAC5BgB,EAAOhC,EAAYe,EAAIC,MAAQqB,IAEjCtD,EAAEqD,KAAK7B,EAAc,SAAUQ,EAAKsB,GAClCR,EAAaS,MAAMtB,IAAKD,EAAIC,MAC5Be,EAAO/B,EAAYe,EAAIC,MAAQqB,EAC/BJ,EAAOjC,EAAYe,EAAIC,MAAQqB,IAOjCV,EAAOE,EAAcC,GACnBS,YAAa,SAAUC,EAAIzB,EAAK0B,GAC9B,IAAIC,EAAWD,EAASR,EAAOjC,EAAYyC,IAAWP,EAElDO,GAGF1D,EAAEqD,KAAKH,EAAQ,SAAUU,EAAKH,GACxBG,GAAOD,GACTT,EAAOO,OAIbN,IACAD,EAAOjC,EAAYwC,IAAOE,EAE1BtC,EAAUwC,QACRJ,EACA5B,EAASoB,EAAOhC,EAAYwC,KAAMvB,KAClCyB,EACAD,IAEJI,YAAa,SAAUL,EAAIC,GACzB,GAAID,IAAOC,EAAX,CAGA,IAAIK,EAAcb,EAAOjC,EAAYwC,IACjCO,EAAcN,EAASR,EAAOjC,EAAYyC,IAAWP,EAUrDa,EAAcD,GAChBC,IAYFhE,EAAEqD,KAAKH,EAAQ,SAAUe,EAAeR,GAClCM,EAAcE,GAAiBA,EAAgBD,EACjDd,EAAOO,KACAO,GAAeC,GAAiBA,EAAgBF,GACvDb,EAAOO,OAIXP,EAAOjC,EAAYwC,IAAOO,EAE1B3C,EAAU6C,QACRT,EACA5B,EAASoB,EAAOhC,EAAYwC,KAAMvB,KAClC6B,EACAC,EACAN,KAEJS,QAAS,SAAUV,GACjB,IAAIW,EAAelB,EAAOjC,EAAYwC,IAEtCzD,EAAEqD,KAAKH,EAAQ,SAAUU,EAAKH,GACxBG,GAAOQ,GACTlB,EAAOO,cAGJP,EAAOjC,EAAYwC,IAC1BN,IAEA9B,EAAUgD,UACRZ,EACAjC,EAAawB,EAAO/B,EAAYwC,KAAMvB,KACtCkC,MAINpE,EAAEqD,KAAKJ,EAAQ,SAAUW,EAAKU,GAC5B,IAAIb,EAAKvC,EAAQoD,GACjB,GAAItE,EAAEuE,IAAIvB,EAAQsB,GAAW,CAQ3B,IAAIE,EAAU3C,EAAS+B,GAAK1B,KACxBuC,EAAUjD,EAAawB,EAAOsB,IAAWpC,KAEtB,iBAAZsC,GAAwBA,IAAYC,GAC3CpD,EAAUqD,UAAUjB,EAAIe,EAASC,EAASb,OAKpDvD,EAAoB,SAAUmB,EAAcH,GAC1C,UAGFf,EAAoB,SAAUkB,EAAcmD,EAAOtD,GACjD,IAAIuD,KACA/C,EA6BJ,OA7Be7B,EAAE8B,IAAI6C,EAAO,SAAUzC,EAAM2C,GAC1C,IAAIpB,EACJ,GAAoB,iBAATvB,EAETuB,EAAK,IAAMvB,OACN,GAAoB,iBAATA,GACS,kBAATA,GADP,MAEAA,EAETuB,EAAKvB,MACA,CAAA,GAAoB,iBAATA,EAGhB,MAAM,IAAIM,MAAM,iEAC6BN,GAH7CuB,EAAMvB,GAAS,QAASA,EAASA,EAAKD,IAAM4C,EAM9C,IAAIP,EAAWrD,EAAYwC,GAS3B,OARImB,EAAQN,IACNpC,GAAwB,iBAATA,GAAqB,QAASA,GAC/C1B,EAAK,gBAAkBiD,EAAK,MAAOkB,GACrClB,EAAKvD,EAAOuD,MAEZmB,EAAQN,IAAY,GAGbrC,IAAKwB,EAAIvB,KAAMA,MAM5B3B,EAAqB,SAAUiB,EAAciB,EAAQpB,GACnD,IAAIyD,GAAU,EACVjD,KAEAkD,EAAgBtC,EAAOtB,SACzB0C,QAAS,SAAUmB,EAAUC,EAASvB,GACpC,GAAIoB,EAAS,CAGX,GAAe,OAAXpB,EACF,MAAM,IAAIlB,MAAM,+CAClBX,EAAS0B,MAAOtB,IAAK+C,EAAS/C,IAAKC,KAAM8C,SAEzC3D,EAAUwC,QAAQmB,EAAS/C,IAAK+C,EAAUC,EAASvB,IAGvDgB,UAAW,SAAUQ,EAAaC,EAAaF,GAC7C5D,EAAUqD,UAAUQ,EAAYjD,IAAKiD,EAAaC,EAC9BF,IAEtBZ,UAAW,SAAUc,EAAaF,GAChC5D,EAAUgD,UAAUc,EAAYlD,IAAKkD,EAAaF,IAEpDf,QAAS,SAAUc,EAAUI,EAAWC,EAAS3B,GAC/CrC,EAAU6C,QACRc,EAAS/C,IAAK+C,EAAUI,EAAWC,EAAS3B,MAKlD,OAFAoB,GAAU,GAEFjD,EAAUkD,MAKjBO,KAAKC,MAIRhG,QAAQiG,QAAQ,oBACdpF,gBAAiBA,IArYnB\"}","minifier":"terser"}