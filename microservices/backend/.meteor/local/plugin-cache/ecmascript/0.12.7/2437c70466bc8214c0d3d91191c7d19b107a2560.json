{"metadata":{},"options":{"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/Florian/dev/epotek/microservices/backend/imports/core/components/AutoForm/ValidIcon/ValidIconContainer.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties",["flow",{}],"dynamicImport","classProperties","classPrivateProperties","jsx",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"imports/core/components/AutoForm/ValidIcon/ValidIconContainer.jsx","filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/components/AutoForm/ValidIcon/ValidIconContainer.jsx","inputSourceMap":{"version":3,"sources":["imports/core/components/AutoForm/ValidIcon/ValidIconContainer.jsx"],"names":["Meteor","React","Component","STATUS","ERROR","VALID","HIDE","TODO","SAVING_ANIMATION_DURATION_MS","WrappedComponent","constructor","props","error","required","value","todo","undefined","includes","state","status","getStatus","timer","componentWillReceiveProps","saving","nextSaving","setState","setTimeout","clearTimeout","render"],"mappings":";;AAAA,SAASA,MAAT,QAAuB,eAAvB;AAEA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAO,MAAMC,MAAM,GAAG;AACpBC,EAAAA,KAAK,EAAE,OADa;AAEpBC,EAAAA,KAAK,EAAE,OAFa;AAGpBC,EAAAA,IAAI,EAAE,MAHc;AAIpBC,EAAAA,IAAI,EAAE;AAJc,CAAf;AAOP,MAAMC,4BAA4B,GAAG,GAArC;AAEA,gBAAeC,gBAAgB;AAAA;;AAAA,iBAC7B,cAAcP,SAAd,CAAwB;AACtBQ,IAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,YAAMA,KAAN;;AADiB,yCA8BP,MAAM;AAChB,cAAM;AAAEC,UAAAA,KAAF;AAASC,UAAAA,QAAT;AAAmBC,UAAAA,KAAnB;AAA0BC,UAAAA;AAA1B,YAAmC,KAAKJ,KAA9C;;AAEA,YAAIC,KAAJ,EAAW;AACT,iBAAOT,MAAM,CAACC,KAAd;AACD;;AACD,YACEW,IAAI,IACAF,QAAQ,KAAK,IAAb,IAAqB,CAACG,SAAD,EAAY,EAAZ,EAAgB,IAAhB,EAAsBC,QAAtB,CAA+BH,KAA/B,CAF3B,EAGE;AACA,iBAAOX,MAAM,CAACI,IAAd;AACD;;AAED,eAAOJ,MAAM,CAACE,KAAd;AACD,OA5CkB;;AAEjB,WAAKa,KAAL,GAAa;AACXC,QAAAA,MAAM,EAAE,KAAKC,SAAL;AADG,OAAb;AAIA,WAAKC,KAAL,GAAa,IAAb;AACD;;AAEDC,IAAAA,yBAAyB,CAAC;AAAEC,MAAAA,MAAM,EAAEC;AAAV,KAAD,EAAyB;AAChD;AACA,UAAI,KAAKH,KAAT,EAAgB;AACd;AACD;;AAED,YAAM;AAAEE,QAAAA;AAAF,UAAa,KAAKZ,KAAxB;;AAEA,UAAIY,MAAM,KAAK,KAAX,IAAoBC,UAAU,KAAK,IAAvC,EAA6C;AAC3C;AACA,aAAKC,QAAL,CAAc;AAAEN,UAAAA,MAAM,EAAEhB,MAAM,CAACG;AAAjB,SAAd,EAAuC,MAAM;AAC3C,eAAKe,KAAL,GAAarB,MAAM,CAAC0B,UAAP,CAAkB,MAAM;AACnC1B,YAAAA,MAAM,CAAC2B,YAAP,CAAoB,KAAKN,KAAzB;AACA,iBAAKA,KAAL,GAAa,IAAb;AACD,WAHY,EAGVb,4BAHU,CAAb;AAKA,eAAKiB,QAAL,CAAc;AAAEN,YAAAA,MAAM,EAAE,KAAKC,SAAL;AAAV,WAAd;AACD,SAPD;AAQD;AACF;;AAkBDQ,IAAAA,MAAM,GAAG;AACP,YAAM;AAAET,QAAAA;AAAF,UAAa,KAAKD,KAAxB;AACA,aAAO,CAAC,gBAAD,CAAkB,IAAI,KAAKP,KAAT,CAAlB,CAAkC,OAAO,CAACQ,MAAD,CAAzC,GAAP;AACD;;AAlDqB,GADK;AAAA,CAA/B","sourcesContent":["import { Meteor } from 'meteor/meteor';\n\nimport React, { Component } from 'react';\n\nexport const STATUS = {\n  ERROR: 'ERROR',\n  VALID: 'VALID',\n  HIDE: 'HIDE',\n  TODO: 'TODO',\n};\n\nconst SAVING_ANIMATION_DURATION_MS = 900;\n\nexport default WrappedComponent =>\n  class extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        status: this.getStatus(),\n      };\n\n      this.timer = null;\n    }\n\n    componentWillReceiveProps({ saving: nextSaving }) {\n      // If the animation is going on, don't trigger this again\n      if (this.timer) {\n        return;\n      }\n\n      const { saving } = this.props;\n\n      if (saving === false && nextSaving === true) {\n        // If saving is happening, hide the icon, and then make it reappear\n        this.setState({ status: STATUS.HIDE }, () => {\n          this.timer = Meteor.setTimeout(() => {\n            Meteor.clearTimeout(this.timer);\n            this.timer = null;\n          }, SAVING_ANIMATION_DURATION_MS);\n\n          this.setState({ status: this.getStatus() });\n        });\n      }\n    }\n\n    getStatus = () => {\n      const { error, required, value, todo } = this.props;\n\n      if (error) {\n        return STATUS.ERROR;\n      }\n      if (\n        todo\n        || (required === true && [undefined, '', null].includes(value))\n      ) {\n        return STATUS.TODO;\n      }\n\n      return STATUS.VALID;\n    };\n\n    render() {\n      const { status } = this.state;\n      return <WrappedComponent {...this.props} status={status} />;\n    }\n  };\n"]},"passPerPreset":false,"envName":"development","cwd":"/Users/Florian/dev/epotek/microservices/backend","root":"/Users/Florian/dev/epotek/microservices/backend","plugins":[{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"transform-runtime","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-modules-commonjs","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-flow","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]},"ClassPrivateMethod":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/components/AutoForm/ValidIcon/ValidIconContainer.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/core/components/AutoForm/ValidIcon/ValidIconContainer.jsx"}},"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nmodule.export({\n  STATUS: function () {\n    return STATUS;\n  }\n});\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar React, Component;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 1);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar STATUS = {\n  ERROR: 'ERROR',\n  VALID: 'VALID',\n  HIDE: 'HIDE',\n  TODO: 'TODO'\n};\nvar SAVING_ANIMATION_DURATION_MS = 900;\nmodule.exportDefault(function (WrappedComponent) {\n  var _temp;\n\n  return _temp =\n  /*#__PURE__*/\n  function (_Component) {\n    (0, _inheritsLoose2.default)(_temp, _Component);\n\n    function _temp(props) {\n      var _this;\n\n      _this = _Component.call(this, props) || this;\n\n      _defineProperty((0, _assertThisInitialized2.default)(_this), \"getStatus\", function () {\n        var _this$props = _this.props,\n            error = _this$props.error,\n            required = _this$props.required,\n            value = _this$props.value,\n            todo = _this$props.todo;\n\n        if (error) {\n          return STATUS.ERROR;\n        }\n\n        if (todo || required === true && [undefined, '', null].includes(value)) {\n          return STATUS.TODO;\n        }\n\n        return STATUS.VALID;\n      });\n\n      _this.state = {\n        status: _this.getStatus()\n      };\n      _this.timer = null;\n      return _this;\n    }\n\n    var _proto = _temp.prototype;\n\n    _proto.componentWillReceiveProps = function () {\n      function componentWillReceiveProps(_ref) {\n        var _this2 = this;\n\n        var nextSaving = _ref.saving;\n\n        // If the animation is going on, don't trigger this again\n        if (this.timer) {\n          return;\n        }\n\n        var saving = this.props.saving;\n\n        if (saving === false && nextSaving === true) {\n          // If saving is happening, hide the icon, and then make it reappear\n          this.setState({\n            status: STATUS.HIDE\n          }, function () {\n            _this2.timer = Meteor.setTimeout(function () {\n              Meteor.clearTimeout(_this2.timer);\n              _this2.timer = null;\n            }, SAVING_ANIMATION_DURATION_MS);\n\n            _this2.setState({\n              status: _this2.getStatus()\n            });\n          });\n        }\n      }\n\n      return componentWillReceiveProps;\n    }();\n\n    _proto.render = function () {\n      function render() {\n        var status = this.state.status;\n        return React.createElement(WrappedComponent, (0, _extends2.default)({}, this.props, {\n          status: status\n        }));\n      }\n\n      return render;\n    }();\n\n    return _temp;\n  }(Component), _temp;\n});","map":{"version":3,"sources":["imports/core/components/AutoForm/ValidIcon/ValidIconContainer.jsx"],"names":["STATUS","ERROR","VALID","HIDE","TODO","SAVING_ANIMATION_DURATION_MS","WrappedComponent","constructor","status","componentWillReceiveProps","saving","nextSaving","Meteor","todo","required","render"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIO,IAAMA,MAAM,GAAG;AACpBC,EAAAA,KAAK,EADe,OAAA;AAEpBC,EAAAA,KAAK,EAFe,OAAA;AAGpBC,EAAAA,IAAI,EAHgB,MAAA;AAIpBC,EAAAA,IAAI,EAAE;AAJc,CAAf;AAOP,IAAMC,4BAA4B,GAAlC,GAAA;qBAEeC,UAAAA,gBAAgB,EAAA;AAAA,MAAA,KAAA;;AAAA,SAAA,KAAA;AAAA;AAAA;AAAA;;AAE3BC,mBAAW,KAAXA,EAAmB;AAAA;;AACjB,oCAAA,KAAA;;AADiB,MAAA,eAAA,8CAAA,WAAA,EA8BP,YAAM;AAAA,0BACyB,MAAzC,KADgB;AAAA,YACV,KADU,eACV,KADU;AAAA,YACV,QADU,eACV,QADU;AAAA,YACV,KADU,eACV,KADU;AAAA,YACgBM,IADhB,eACgBA,IADhB;;AAGhB,YAAA,KAAA,EAAW;AACT,iBAAOb,MAAM,CAAb,KAAA;AACD;;AACD,YACEa,IAAI,IACAC,QAAQ,KAARA,IAAAA,IAAqB,CAAA,SAAA,EAAA,EAAA,EAAA,IAAA,EAAA,QAAA,CAF3B,KAE2B,CAF3B,EAGE;AACA,iBAAOd,MAAM,CAAb,IAAA;AACD;;AAED,eAAOA,MAAM,CAAb,KAAA;AA3CiB,OAAA,CAAA;;AAEjB,YAAA,KAAA,GAAa;AACXQ,QAAAA,MAAM,EAAE,MAAA,SAAA;AADG,OAAb;AAIA,YAAA,KAAA,GAAA,IAAA;AANiB;AAOlB;;AAT0B;;AAAA,WAW3BC,yBAX2B;AAW3BA,+CAAkD;AAAA;;AAAA,YAAdE,UAAc,QAAtBD,MAAsB;;AAChD;AACA,YAAI,KAAJ,KAAA,EAAgB;AACd;AACD;;AAJ+C,YAMxCA,MANwC,GAM7B,KAAnB,KANgD,CAMxCA,MANwC;;AAQhD,YAAIA,MAAM,KAANA,KAAAA,IAAoBC,UAAU,KAAlC,IAAA,EAA6C;AAC3C;AACA,eAAA,QAAA,CAAc;AAAEH,YAAAA,MAAM,EAAER,MAAM,CAACG;AAAjB,WAAd,EAAuC,YAAM;AAC3C,YAAA,MAAA,CAAA,KAAA,GAAa,MAAM,CAAN,UAAA,CAAkB,YAAM;AACnCS,cAAAA,MAAM,CAANA,YAAAA,CAAoB,MAAA,CAApBA,KAAAA;AACA,cAAA,MAAA,CAAA,KAAA,GAAA,IAAA;AAFW,aAAA,EAAb,4BAAa,CAAb;;AAKA,YAAA,MAAA,CAAA,QAAA,CAAc;AAAEJ,cAAAA,MAAM,EAAE,MAAA,CAAA,SAAA;AAAV,aAAd;AANF,WAAA;AAQD;AACF;;AA9B0B;AAAA;;AAAA,WAgD3BO,MAhD2B;AAgD3BA,wBAAS;AAAA,YACCP,MADD,GACY,KAAnB,KADO,CACCA,MADD;AAEP,eAAO,oBAAA,gBAAA,6BAAsB,KAAtB,KAAA;AAAkC,UAAA,MAAA,EAAzC;AAAO,WAAP;AACD;;AAnD0B;AAAA;;AAAA;AAAA,IAC7B,SAD6B,CAAA,EAAA,KAAA;AAA/B,C","sourcesContent":["import { Meteor } from 'meteor/meteor';\n\nimport React, { Component } from 'react';\n\nexport const STATUS = {\n  ERROR: 'ERROR',\n  VALID: 'VALID',\n  HIDE: 'HIDE',\n  TODO: 'TODO',\n};\n\nconst SAVING_ANIMATION_DURATION_MS = 900;\n\nexport default WrappedComponent =>\n  class extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        status: this.getStatus(),\n      };\n\n      this.timer = null;\n    }\n\n    componentWillReceiveProps({ saving: nextSaving }) {\n      // If the animation is going on, don't trigger this again\n      if (this.timer) {\n        return;\n      }\n\n      const { saving } = this.props;\n\n      if (saving === false && nextSaving === true) {\n        // If saving is happening, hide the icon, and then make it reappear\n        this.setState({ status: STATUS.HIDE }, () => {\n          this.timer = Meteor.setTimeout(() => {\n            Meteor.clearTimeout(this.timer);\n            this.timer = null;\n          }, SAVING_ANIMATION_DURATION_MS);\n\n          this.setState({ status: this.getStatus() });\n        });\n      }\n    }\n\n    getStatus = () => {\n      const { error, required, value, todo } = this.props;\n\n      if (error) {\n        return STATUS.ERROR;\n      }\n      if (\n        todo\n        || (required === true && [undefined, '', null].includes(value))\n      ) {\n        return STATUS.TODO;\n      }\n\n      return STATUS.VALID;\n    };\n\n    render() {\n      const { status } = this.state;\n      return <WrappedComponent {...this.props} status={status} />;\n    }\n  };\n"]},"sourceType":"script","hash":"2437c70466bc8214c0d3d91191c7d19b107a2560"}
