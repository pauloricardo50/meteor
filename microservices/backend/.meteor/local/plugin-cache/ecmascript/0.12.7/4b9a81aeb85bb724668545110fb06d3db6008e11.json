{"metadata":{},"options":{"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/Florian/dev/epotek/microservices/backend/imports/core/redux/widget1/widget1Reducers.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties",["flow",{}],"dynamicImport","classProperties","classPrivateProperties","jsx",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"imports/core/redux/widget1/widget1Reducers.js","filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/redux/widget1/widget1Reducers.js","inputSourceMap":{"version":3,"sources":["imports/core/redux/widget1/widget1Reducers.js"],"names":["combineReducers","DEFAULT_INTEREST_RATE","createValueReducer","SALARY","PROPERTY","FORTUNE","PURCHASE_TYPE","CURRENT_LOAN","WANTED_LOAN","SET_VALUE","SUGGEST_VALUE","SET_AUTO","INCREASE_SLIDER_MAX","SET_ALLOW_EXTREME_LOAN","roundedValue","value","Math","round","createWidget1ValueReducers","names","reduce","acc","name","initialSliderMax","state","auto","sliderMax","action","type","nextAuto","undefined","min","allowExtremeLoan","widget1","step","interestRate","purchaseType","ACQUISITION","finishedTutorial","useMaintenance"],"mappings":"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","sourcesContent":["import { combineReducers } from 'redux';\nimport { DEFAULT_INTEREST_RATE } from 'core/config/financeConstants';\nimport { createValueReducer } from '../common/reducers';\nimport {\n  SALARY,\n  PROPERTY,\n  FORTUNE,\n  PURCHASE_TYPE,\n  CURRENT_LOAN,\n  WANTED_LOAN,\n} from './widget1Constants';\nimport {\n  SET_VALUE,\n  SUGGEST_VALUE,\n  SET_AUTO,\n  INCREASE_SLIDER_MAX,\n  SET_ALLOW_EXTREME_LOAN,\n} from './widget1Types';\n\nconst roundedValue = value => value && Math.round(value);\n\nexport const createWidget1ValueReducers = names =>\n  names.reduce(\n    (acc, { name, initialSliderMax }) => ({\n      ...acc,\n      [name]: (\n        state = { value: 0, auto: false, sliderMax: initialSliderMax },\n        action = {},\n      ) => {\n        switch (action.type) {\n        case SET_VALUE(name):\n          if (action.value === '') {\n            // Allow empty string if the user edits the textfield\n            return { ...state, value: '', auto: false };\n          }\n          if (!action.value && name !== CURRENT_LOAN) {\n            // Set auto to true if the value is changed to 0\n            // (via slider or by typing 0)\n            // Exception for current_loan which is the only value that\n            // can explicitly be set to 0\n            return { ...state, value: 0, auto: true };\n          }\n          // Set auto to false if this value is set\n          return { ...state, auto: false, value: roundedValue(action.value) };\n        case SUGGEST_VALUE(name):\n          // If the value is suggested, don't change auto\n          return { ...state, value: roundedValue(action.value) };\n        case SET_AUTO(name): {\n          const nextAuto = action.auto !== undefined ? action.auto : !state.auto;\n          return { ...state, auto: nextAuto };\n        }\n        case INCREASE_SLIDER_MAX(name):\n          return {\n            ...state,\n            sliderMax: Math.min(state.sliderMax * 2, 100000000),\n          };\n        case SET_ALLOW_EXTREME_LOAN(name):\n          return { ...state, allowExtremeLoan: true };\n        default:\n          return state;\n        }\n      },\n    }),\n    {},\n  );\n\nconst widget1 = combineReducers({\n  ...createWidget1ValueReducers([\n    { name: SALARY, initialSliderMax: 500000 },\n    { name: FORTUNE, initialSliderMax: 500000 },\n    { name: PROPERTY, initialSliderMax: 2000000 },\n    { name: CURRENT_LOAN, initialSliderMax: 2000000 },\n    { name: WANTED_LOAN, initialSliderMax: 2000000 },\n  ]),\n  step: createValueReducer('step', 0), // TODO: Set me back to 0 for production\n  interestRate: createValueReducer('interestRate', DEFAULT_INTEREST_RATE),\n  purchaseType: createValueReducer('purchaseType', PURCHASE_TYPE.ACQUISITION),\n  finishedTutorial: createValueReducer('finishedTutorial', false),\n  useMaintenance: createValueReducer('useMaintenance', true),\n});\n\nexport default widget1;\n"]},"passPerPreset":false,"envName":"development","cwd":"/Users/Florian/dev/epotek/microservices/backend","root":"/Users/Florian/dev/epotek/microservices/backend","plugins":[{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"transform-runtime","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-modules-commonjs","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-flow","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/redux/widget1/widget1Reducers.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/core/redux/widget1/widget1Reducers.js"}},"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nmodule.export({\n  createWidget1ValueReducers: () => createWidget1ValueReducers\n});\nlet combineReducers;\nmodule.link(\"redux\", {\n  combineReducers(v) {\n    combineReducers = v;\n  }\n\n}, 0);\nlet DEFAULT_INTEREST_RATE;\nmodule.link(\"../../config/financeConstants\", {\n  DEFAULT_INTEREST_RATE(v) {\n    DEFAULT_INTEREST_RATE = v;\n  }\n\n}, 1);\nlet createValueReducer;\nmodule.link(\"../common/reducers\", {\n  createValueReducer(v) {\n    createValueReducer = v;\n  }\n\n}, 2);\nlet SALARY, PROPERTY, FORTUNE, PURCHASE_TYPE, CURRENT_LOAN, WANTED_LOAN;\nmodule.link(\"./widget1Constants\", {\n  SALARY(v) {\n    SALARY = v;\n  },\n\n  PROPERTY(v) {\n    PROPERTY = v;\n  },\n\n  FORTUNE(v) {\n    FORTUNE = v;\n  },\n\n  PURCHASE_TYPE(v) {\n    PURCHASE_TYPE = v;\n  },\n\n  CURRENT_LOAN(v) {\n    CURRENT_LOAN = v;\n  },\n\n  WANTED_LOAN(v) {\n    WANTED_LOAN = v;\n  }\n\n}, 3);\nlet SET_VALUE, SUGGEST_VALUE, SET_AUTO, INCREASE_SLIDER_MAX, SET_ALLOW_EXTREME_LOAN;\nmodule.link(\"./widget1Types\", {\n  SET_VALUE(v) {\n    SET_VALUE = v;\n  },\n\n  SUGGEST_VALUE(v) {\n    SUGGEST_VALUE = v;\n  },\n\n  SET_AUTO(v) {\n    SET_AUTO = v;\n  },\n\n  INCREASE_SLIDER_MAX(v) {\n    INCREASE_SLIDER_MAX = v;\n  },\n\n  SET_ALLOW_EXTREME_LOAN(v) {\n    SET_ALLOW_EXTREME_LOAN = v;\n  }\n\n}, 4);\n\nconst roundedValue = value => value && Math.round(value);\n\nconst createWidget1ValueReducers = names => names.reduce((acc, _ref) => {\n  let {\n    name,\n    initialSliderMax\n  } = _ref;\n  return (0, _objectSpread2.default)({}, acc, {\n    [name]: function () {\n      let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        value: 0,\n        auto: false,\n        sliderMax: initialSliderMax\n      };\n      let action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      switch (action.type) {\n        case SET_VALUE(name):\n          if (action.value === '') {\n            // Allow empty string if the user edits the textfield\n            return (0, _objectSpread2.default)({}, state, {\n              value: '',\n              auto: false\n            });\n          }\n\n          if (!action.value && name !== CURRENT_LOAN) {\n            // Set auto to true if the value is changed to 0\n            // (via slider or by typing 0)\n            // Exception for current_loan which is the only value that\n            // can explicitly be set to 0\n            return (0, _objectSpread2.default)({}, state, {\n              value: 0,\n              auto: true\n            });\n          } // Set auto to false if this value is set\n\n\n          return (0, _objectSpread2.default)({}, state, {\n            auto: false,\n            value: roundedValue(action.value)\n          });\n\n        case SUGGEST_VALUE(name):\n          // If the value is suggested, don't change auto\n          return (0, _objectSpread2.default)({}, state, {\n            value: roundedValue(action.value)\n          });\n\n        case SET_AUTO(name):\n          {\n            const nextAuto = action.auto !== undefined ? action.auto : !state.auto;\n            return (0, _objectSpread2.default)({}, state, {\n              auto: nextAuto\n            });\n          }\n\n        case INCREASE_SLIDER_MAX(name):\n          return (0, _objectSpread2.default)({}, state, {\n            sliderMax: Math.min(state.sliderMax * 2, 100000000)\n          });\n\n        case SET_ALLOW_EXTREME_LOAN(name):\n          return (0, _objectSpread2.default)({}, state, {\n            allowExtremeLoan: true\n          });\n\n        default:\n          return state;\n      }\n    }\n  });\n}, {});\n\nconst widget1 = combineReducers((0, _objectSpread2.default)({}, createWidget1ValueReducers([{\n  name: SALARY,\n  initialSliderMax: 500000\n}, {\n  name: FORTUNE,\n  initialSliderMax: 500000\n}, {\n  name: PROPERTY,\n  initialSliderMax: 2000000\n}, {\n  name: CURRENT_LOAN,\n  initialSliderMax: 2000000\n}, {\n  name: WANTED_LOAN,\n  initialSliderMax: 2000000\n}]), {\n  step: createValueReducer('step', 0),\n  // TODO: Set me back to 0 for production\n  interestRate: createValueReducer('interestRate', DEFAULT_INTEREST_RATE),\n  purchaseType: createValueReducer('purchaseType', PURCHASE_TYPE.ACQUISITION),\n  finishedTutorial: createValueReducer('finishedTutorial', false),\n  useMaintenance: createValueReducer('useMaintenance', true)\n}));\nmodule.exportDefault(widget1);","map":{"version":3,"sources":["imports/core/redux/widget1/widget1Reducers.js"],"names":["combineReducers","roundedValue","value","Math","createWidget1ValueReducers","names","initialSliderMax","state","auto","sliderMax","action","SET_VALUE","name","SUGGEST_VALUE","SET_AUTO","nextAuto","INCREASE_SLIDER_MAX","SET_ALLOW_EXTREME_LOAN","allowExtremeLoan","widget1","step","createValueReducer","interestRate","purchaseType","PURCHASE_TYPE","finishedTutorial","useMaintenance"],"mappings":";;;;AAAA,MAAA,CAAA,MAAA,CAASA;AAAT,EAAA,0BAAA,EAAA,MAAA;AAASA,CAAT;AAAA,IAAA,eAAA;AAAA,MAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AAAA,EAAA,eAAA,CAAA,CAAA,EAAA;AAAA,IAAA,eAAA,GAAA,CAAA;AAAA;;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,qBAAA;AAAA,MAAA,CAAA,IAAA,CAAA,+BAAA,EAAA;AAAA,EAAA,qBAAA,CAAA,CAAA,EAAA;AAAA,IAAA,qBAAA,GAAA,CAAA;AAAA;;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,kBAAA;AAAA,MAAA,CAAA,IAAA,CAAA,oBAAA,EAAA;AAAA,EAAA,kBAAA,CAAA,CAAA,EAAA;AAAA,IAAA,kBAAA,GAAA,CAAA;AAAA;;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,MAAA,EAAA,QAAA,EAAA,OAAA,EAAA,aAAA,EAAA,YAAA,EAAA,WAAA;AAAA,MAAA,CAAA,IAAA,CAAA,oBAAA,EAAA;AAAA,EAAA,MAAA,CAAA,CAAA,EAAA;AAAA,IAAA,MAAA,GAAA,CAAA;AAAA,GAAA;;AAAA,EAAA,QAAA,CAAA,CAAA,EAAA;AAAA,IAAA,QAAA,GAAA,CAAA;AAAA,GAAA;;AAAA,EAAA,OAAA,CAAA,CAAA,EAAA;AAAA,IAAA,OAAA,GAAA,CAAA;AAAA,GAAA;;AAAA,EAAA,aAAA,CAAA,CAAA,EAAA;AAAA,IAAA,aAAA,GAAA,CAAA;AAAA,GAAA;;AAAA,EAAA,YAAA,CAAA,CAAA,EAAA;AAAA,IAAA,YAAA,GAAA,CAAA;AAAA,GAAA;;AAAA,EAAA,WAAA,CAAA,CAAA,EAAA;AAAA,IAAA,WAAA,GAAA,CAAA;AAAA;;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,SAAA,EAAA,aAAA,EAAA,QAAA,EAAA,mBAAA,EAAA,sBAAA;AAAA,MAAA,CAAA,IAAA,CAAA,gBAAA,EAAA;AAAA,EAAA,SAAA,CAAA,CAAA,EAAA;AAAA,IAAA,SAAA,GAAA,CAAA;AAAA,GAAA;;AAAA,EAAA,aAAA,CAAA,CAAA,EAAA;AAAA,IAAA,aAAA,GAAA,CAAA;AAAA,GAAA;;AAAA,EAAA,QAAA,CAAA,CAAA,EAAA;AAAA,IAAA,QAAA,GAAA,CAAA;AAAA,GAAA;;AAAA,EAAA,mBAAA,CAAA,CAAA,EAAA;AAAA,IAAA,mBAAA,GAAA,CAAA;AAAA,GAAA;;AAAA,EAAA,sBAAA,CAAA,CAAA,EAAA;AAAA,IAAA,sBAAA,GAAA,CAAA;AAAA;;AAAA,CAAA,EAAA,CAAA;;AAmBA,MAAMC,YAAY,GAAGC,KAAK,IAAIA,KAAK,IAAIC,IAAI,CAAJA,KAAAA,CAAvC,KAAuCA,CAAvC;;AAEO,MAAMC,0BAA0B,GAAGC,KAAK,IAC7C,KAAK,CAAL,MAAA,CACE,CAAA,GAAA;AAAA,MAAM;AAAA,IAAA,IAAA;AAAQC,IAAAA;AAAR,GAAN;AAAA,yCAAsC,GAAtC;AAEE,KAAA,IAAA,GAAQ,YAGH;AAAA,UAFHC,KAEG,uEAFK;AAAEL,QAAAA,KAAK,EAAP,CAAA;AAAYM,QAAAA,IAAI,EAAhB,KAAA;AAAyBC,QAAAA,SAAS,EAAEH;AAApC,OAEL;AAAA,UADHI,MACG,uEAHG,EAGH;;AACH,cAAQA,MAAM,CAAd,IAAA;AACA,aAAKC,SAAS,CAAd,IAAc,CAAd;AACE,cAAID,MAAM,CAANA,KAAAA,KAAJ,EAAA,EAAyB;AACvB;AACA,mDAAO,KAAP;AAAmBR,cAAAA,KAAK,EAAjB,EAAP;AAA8BM,cAAAA,IAAI,EAAE;AAApC;AACD;;AACD,cAAI,CAACE,MAAM,CAAP,KAAA,IAAiBE,IAAI,KAAzB,YAAA,EAA4C;AAC1C;AACA;AACA;AACA;AACA,mDAAO,KAAP;AAAmBV,cAAAA,KAAK,EAAjB,CAAP;AAA6BM,cAAAA,IAAI,EAAE;AAAnC;AAVJ,WAAA,CAYE;;;AACA,iDAAO,KAAP;AAAmBA,YAAAA,IAAI,EAAhB,KAAP;AAAgCN,YAAAA,KAAK,EAAED,YAAY,CAACS,MAAM,CAAP,KAAA;AAAnD;;AACF,aAAKG,aAAa,CAAlB,IAAkB,CAAlB;AACE;AACA,iDAAO,KAAP;AAAmBX,YAAAA,KAAK,EAAED,YAAY,CAACS,MAAM,CAAP,KAAA;AAAtC;;AACF,aAAKI,QAAQ,CAAb,IAAa,CAAb;AAAqB;AACnB,kBAAMC,QAAQ,GAAGL,MAAM,CAANA,IAAAA,KAAAA,SAAAA,GAA4BA,MAAM,CAAlCA,IAAAA,GAA0C,CAACH,KAAK,CAAjE,IAAA;AACA,mDAAO,KAAP;AAAmBC,cAAAA,IAAI,EAAEO;AAAzB;AACD;;AACD,aAAKC,mBAAmB,CAAxB,IAAwB,CAAxB;AACE,iDAAO,KAAP;AAEEP,YAAAA,SAAS,EAAEN,IAAI,CAAJA,GAAAA,CAASI,KAAK,CAALA,SAAAA,GAATJ,CAAAA,EAAAA,SAAAA;AAFb;;AAIF,aAAKc,sBAAsB,CAA3B,IAA2B,CAA3B;AACE,iDAAO,KAAP;AAAmBC,YAAAA,gBAAgB,EAAE;AAArC;;AACF;AACE,iBAAA,KAAA;AA9BF;AAgCD;AAtCH;AAAA,CADF,EADK,EACL,CADK;;AA6CP,MAAMC,OAAO,GAAGnB,eAAe,iCAC1BI,0BAA0B,CAAC,CAC5B;AAAEQ,EAAAA,IAAI,EAAN,MAAA;AAAgBN,EAAAA,gBAAgB,EAAE;AAAlC,CAD4B,EAE5B;AAAEM,EAAAA,IAAI,EAAN,OAAA;AAAiBN,EAAAA,gBAAgB,EAAE;AAAnC,CAF4B,EAG5B;AAAEM,EAAAA,IAAI,EAAN,QAAA;AAAkBN,EAAAA,gBAAgB,EAAE;AAApC,CAH4B,EAI5B;AAAEM,EAAAA,IAAI,EAAN,YAAA;AAAsBN,EAAAA,gBAAgB,EAAE;AAAxC,CAJ4B,EAK5B;AAAEM,EAAAA,IAAI,EAAN,WAAA;AAAqBN,EAAAA,gBAAgB,EAAE;AAAvC,CAL4B,CAAD,CADA;AAQ7Bc,EAAAA,IAAI,EAAEC,kBAAkB,CAAA,MAAA,EARM,CAQN,CARK;AAQQ;AACrCC,EAAAA,YAAY,EAAED,kBAAkB,CAAA,cAAA,EATF,qBASE,CATH;AAU7BE,EAAAA,YAAY,EAAEF,kBAAkB,CAAA,cAAA,EAAiBG,aAAa,CAVhC,WAUE,CAVH;AAW7BC,EAAAA,gBAAgB,EAAEJ,kBAAkB,CAAA,kBAAA,EAXN,KAWM,CAXP;AAY7BK,EAAAA,cAAc,EAAEL,kBAAkB,CAAA,gBAAA,EAAA,IAAA;AAZL,GAA/B;AAlEA,MAAA,CAAA,aAAA,CAiFA,OAjFA","sourcesContent":["import { combineReducers } from 'redux';\nimport { DEFAULT_INTEREST_RATE } from 'core/config/financeConstants';\nimport { createValueReducer } from '../common/reducers';\nimport {\n  SALARY,\n  PROPERTY,\n  FORTUNE,\n  PURCHASE_TYPE,\n  CURRENT_LOAN,\n  WANTED_LOAN,\n} from './widget1Constants';\nimport {\n  SET_VALUE,\n  SUGGEST_VALUE,\n  SET_AUTO,\n  INCREASE_SLIDER_MAX,\n  SET_ALLOW_EXTREME_LOAN,\n} from './widget1Types';\n\nconst roundedValue = value => value && Math.round(value);\n\nexport const createWidget1ValueReducers = names =>\n  names.reduce(\n    (acc, { name, initialSliderMax }) => ({\n      ...acc,\n      [name]: (\n        state = { value: 0, auto: false, sliderMax: initialSliderMax },\n        action = {},\n      ) => {\n        switch (action.type) {\n        case SET_VALUE(name):\n          if (action.value === '') {\n            // Allow empty string if the user edits the textfield\n            return { ...state, value: '', auto: false };\n          }\n          if (!action.value && name !== CURRENT_LOAN) {\n            // Set auto to true if the value is changed to 0\n            // (via slider or by typing 0)\n            // Exception for current_loan which is the only value that\n            // can explicitly be set to 0\n            return { ...state, value: 0, auto: true };\n          }\n          // Set auto to false if this value is set\n          return { ...state, auto: false, value: roundedValue(action.value) };\n        case SUGGEST_VALUE(name):\n          // If the value is suggested, don't change auto\n          return { ...state, value: roundedValue(action.value) };\n        case SET_AUTO(name): {\n          const nextAuto = action.auto !== undefined ? action.auto : !state.auto;\n          return { ...state, auto: nextAuto };\n        }\n        case INCREASE_SLIDER_MAX(name):\n          return {\n            ...state,\n            sliderMax: Math.min(state.sliderMax * 2, 100000000),\n          };\n        case SET_ALLOW_EXTREME_LOAN(name):\n          return { ...state, allowExtremeLoan: true };\n        default:\n          return state;\n        }\n      },\n    }),\n    {},\n  );\n\nconst widget1 = combineReducers({\n  ...createWidget1ValueReducers([\n    { name: SALARY, initialSliderMax: 500000 },\n    { name: FORTUNE, initialSliderMax: 500000 },\n    { name: PROPERTY, initialSliderMax: 2000000 },\n    { name: CURRENT_LOAN, initialSliderMax: 2000000 },\n    { name: WANTED_LOAN, initialSliderMax: 2000000 },\n  ]),\n  step: createValueReducer('step', 0), // TODO: Set me back to 0 for production\n  interestRate: createValueReducer('interestRate', DEFAULT_INTEREST_RATE),\n  purchaseType: createValueReducer('purchaseType', PURCHASE_TYPE.ACQUISITION),\n  finishedTutorial: createValueReducer('finishedTutorial', false),\n  useMaintenance: createValueReducer('useMaintenance', true),\n});\n\nexport default widget1;\n"]},"sourceType":"script","hash":"4b9a81aeb85bb724668545110fb06d3db6008e11"}
