{"metadata":{},"options":{"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/Florian/dev/epotek/microservices/backend/imports/core/components/AutoForm2/AutoFormComponents.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties",["flow",{}],"dynamicImport","classProperties","classPrivateProperties","jsx",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"imports/core/components/AutoForm2/AutoFormComponents.jsx","filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/components/AutoForm2/AutoFormComponents.jsx","inputSourceMap":{"version":3,"sources":["imports/core/components/AutoForm2/AutoFormComponents.jsx"],"names":["React","useState","intlShape","compose","getContext","connectField","nothing","AutoField","BoolField","DateField","PercentField","CUSTOM_AUTOFIELD_TYPES","COMPONENT_TYPES","FIELDS_TO_IGNORE","CustomSelectField","OptimizedListField","CustomNestField","getLabel","getPlaceholder","MoneyInput","HtmlPreview","ignoreProps","container","OptimizedMoneyInput","OptimizedDateField","OptimizedPercentField","OptimizedBoolField","determineComponentFromProps","allowedValues","customAllowedValues","field","uniforms","fieldType","Component","type","SELECT","props","variant","DATE","placeholder","PERCENT","MONEY","margin","MONEY_DECIMAL","decimal","HTML_PREVIEW","Array","ARRAY","Object","Boolean","render","RENDER","makeCustomAutoField","labels","intlPrefix","CustomAutoField","schema","model","state","submitting","condition","customAutoValue","getField","name","additionalProps","autoValue","label","parent","Number","slice","value","shrink","contextTypes","intl","includeInChain","includeParent"],"mappings":"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","sourcesContent":["// @flow\nimport React, { useState } from 'react';\nimport { intlShape } from 'react-intl';\nimport { compose, getContext } from 'recompose';\nimport connectField from 'uniforms/connectField';\nimport nothing from 'uniforms/nothing';\nimport AutoField from 'uniforms-material/AutoField';\nimport BoolField from 'uniforms-material/BoolField';\n\nimport DateField from '../DateField';\nimport { PercentField } from '../PercentInput';\nimport {\n  CUSTOM_AUTOFIELD_TYPES,\n  COMPONENT_TYPES,\n  FIELDS_TO_IGNORE,\n} from './constants';\nimport CustomSelectField from './CustomSelectField';\nimport { OptimizedListField } from './CustomListField';\nimport CustomNestField from './CustomNestField';\nimport { getLabel, getPlaceholder } from './autoFormHelpers';\nimport MoneyInput from '../MoneyInput';\nimport HtmlPreview from '../HtmlPreview';\nimport { ignoreProps } from '../../containers/updateForProps';\n\nconst container = ignoreProps(FIELDS_TO_IGNORE);\n\nconst OptimizedMoneyInput = container(MoneyInput);\nconst OptimizedDateField = container(DateField);\nconst OptimizedPercentField = container(PercentField);\nconst OptimizedBoolField = container(BoolField);\n\nconst determineComponentFromProps = ({\n  allowedValues,\n  customAllowedValues,\n  field: { uniforms },\n  fieldType,\n}) => {\n  if (allowedValues || customAllowedValues) {\n    return {\n      Component: CustomSelectField,\n      type: COMPONENT_TYPES.SELECT,\n      props: { variant: 'outlined' },\n    };\n  }\n\n  if (uniforms && uniforms.type === CUSTOM_AUTOFIELD_TYPES.DATE) {\n    return {\n      Component: OptimizedDateField,\n      type: COMPONENT_TYPES.DATE,\n      props: { placeholder: null, variant: 'outlined' },\n    };\n  }\n\n  if (uniforms && uniforms.type === CUSTOM_AUTOFIELD_TYPES.PERCENT) {\n    return { Component: OptimizedPercentField, type: COMPONENT_TYPES.PERCENT };\n  }\n\n  if (uniforms && uniforms.type === CUSTOM_AUTOFIELD_TYPES.MONEY) {\n    return {\n      Component: OptimizedMoneyInput,\n      type: COMPONENT_TYPES.MONEY,\n      props: { margin: 'normal', variant: 'outlined' },\n    };\n  }\n\n  if (uniforms && uniforms.type === CUSTOM_AUTOFIELD_TYPES.MONEY_DECIMAL) {\n    return {\n      Component: OptimizedMoneyInput,\n      type: COMPONENT_TYPES.MONEY,\n      props: { margin: 'normal', decimal: true, variant: 'outlined' },\n    };\n  }\n\n  if (uniforms && uniforms.type === CUSTOM_AUTOFIELD_TYPES.HTML_PREVIEW) {\n    return {\n      Component: HtmlPreview,\n      type: COMPONENT_TYPES.HTML_PREVIEW,\n      props: { placeholder: null },\n    };\n  }\n\n  if (fieldType === Array) {\n    return { Component: OptimizedListField, type: COMPONENT_TYPES.ARRAY };\n  }\n\n  if (fieldType === Object) {\n    return { Component: CustomNestField, type: COMPONENT_TYPES.ARRAY };\n  }\n\n  if (fieldType === Boolean) {\n    return { Component: OptimizedBoolField };\n  }\n\n  if (uniforms && uniforms.render) {\n    return {\n      Component: uniforms.render,\n      type: COMPONENT_TYPES.RENDER,\n      props: { placeholder: null },\n    };\n  }\n\n  return { Component: false, type: null, props: { variant: 'outlined' } };\n};\n\nexport const makeCustomAutoField = ({ labels = {}, intlPrefix } = {}) => {\n  const CustomAutoField = (\n    props,\n    {\n      uniforms: {\n        schema,\n        model,\n        state: { submitting },\n      },\n    },\n  ) => {\n    const { condition, customAllowedValues, customAutoValue } = schema.getField(props.name);\n    const { allowedValues, field, fieldType, margin = 'normal' } = props;\n    let [{ Component, type, props: additionalProps = {} }] = useState(determineComponentFromProps({\n      allowedValues,\n      customAllowedValues,\n      field,\n      fieldType,\n    }));\n\n    Component = Component || AutoField;\n\n    let autoValue;\n\n    if (typeof customAutoValue === 'function') {\n      autoValue = customAutoValue(model);\n    }\n\n    // Don't recalculate these\n    const [label] = useState(getLabel({\n      ...props,\n      ...additionalProps,\n      intlPrefix,\n      label: labels[props.name],\n    }));\n    const [placeholder] = useState(getPlaceholder({ ...props, ...additionalProps, intlPrefix, type }));\n\n    if (\n      typeof condition === 'function'\n      && !condition(model, props.parent && Number(props.parent.name.slice(-1)))\n    ) {\n      return nothing;\n    }\n\n    return (\n      <Component\n        {...additionalProps}\n        {...props}\n        {...(autoValue ? { value: autoValue } : {})}\n        model={model}\n        submitting={submitting}\n        customAllowedValues={customAllowedValues}\n        label={label}\n        placeholder={placeholder}\n        InputLabelProps={{ shrink: true }}\n        margin={margin}\n      />\n    );\n  };\n\n  CustomAutoField.contextTypes = AutoField.contextTypes;\n\n  return compose(\n    getContext({ intl: intlShape, ...AutoField.contextTypes }),\n    connectField,\n  )(CustomAutoField, { includeInChain: false, includeParent: true });\n};\n\nexport const CustomAutoField = makeCustomAutoField({});\n"]},"passPerPreset":false,"envName":"development","cwd":"/Users/Florian/dev/epotek/microservices/backend","root":"/Users/Florian/dev/epotek/microservices/backend","plugins":[{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"transform-runtime","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-modules-commonjs","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-flow","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]},"ClassPrivateMethod":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/components/AutoForm2/AutoFormComponents.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/core/components/AutoForm2/AutoFormComponents.jsx"}},"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nmodule.export({\n  makeCustomAutoField: function () {\n    return makeCustomAutoField;\n  },\n  CustomAutoField: function () {\n    return CustomAutoField;\n  }\n});\nvar React, useState;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useState: function (v) {\n    useState = v;\n  }\n}, 0);\nvar intlShape;\nmodule.link(\"react-intl\", {\n  intlShape: function (v) {\n    intlShape = v;\n  }\n}, 1);\nvar compose, getContext;\nmodule.link(\"recompose\", {\n  compose: function (v) {\n    compose = v;\n  },\n  getContext: function (v) {\n    getContext = v;\n  }\n}, 2);\nvar connectField;\nmodule.link(\"uniforms/connectField\", {\n  \"default\": function (v) {\n    connectField = v;\n  }\n}, 3);\nvar nothing;\nmodule.link(\"uniforms/nothing\", {\n  \"default\": function (v) {\n    nothing = v;\n  }\n}, 4);\nvar AutoField;\nmodule.link(\"uniforms-material/AutoField\", {\n  \"default\": function (v) {\n    AutoField = v;\n  }\n}, 5);\nvar BoolField;\nmodule.link(\"uniforms-material/BoolField\", {\n  \"default\": function (v) {\n    BoolField = v;\n  }\n}, 6);\nvar DateField;\nmodule.link(\"../DateField\", {\n  \"default\": function (v) {\n    DateField = v;\n  }\n}, 7);\nvar PercentField;\nmodule.link(\"../PercentInput\", {\n  PercentField: function (v) {\n    PercentField = v;\n  }\n}, 8);\nvar CUSTOM_AUTOFIELD_TYPES, COMPONENT_TYPES, FIELDS_TO_IGNORE;\nmodule.link(\"./constants\", {\n  CUSTOM_AUTOFIELD_TYPES: function (v) {\n    CUSTOM_AUTOFIELD_TYPES = v;\n  },\n  COMPONENT_TYPES: function (v) {\n    COMPONENT_TYPES = v;\n  },\n  FIELDS_TO_IGNORE: function (v) {\n    FIELDS_TO_IGNORE = v;\n  }\n}, 9);\nvar CustomSelectField;\nmodule.link(\"./CustomSelectField\", {\n  \"default\": function (v) {\n    CustomSelectField = v;\n  }\n}, 10);\nvar OptimizedListField;\nmodule.link(\"./CustomListField\", {\n  OptimizedListField: function (v) {\n    OptimizedListField = v;\n  }\n}, 11);\nvar CustomNestField;\nmodule.link(\"./CustomNestField\", {\n  \"default\": function (v) {\n    CustomNestField = v;\n  }\n}, 12);\nvar getLabel, getPlaceholder;\nmodule.link(\"./autoFormHelpers\", {\n  getLabel: function (v) {\n    getLabel = v;\n  },\n  getPlaceholder: function (v) {\n    getPlaceholder = v;\n  }\n}, 13);\nvar MoneyInput;\nmodule.link(\"../MoneyInput\", {\n  \"default\": function (v) {\n    MoneyInput = v;\n  }\n}, 14);\nvar HtmlPreview;\nmodule.link(\"../HtmlPreview\", {\n  \"default\": function (v) {\n    HtmlPreview = v;\n  }\n}, 15);\nvar ignoreProps;\nmodule.link(\"../../containers/updateForProps\", {\n  ignoreProps: function (v) {\n    ignoreProps = v;\n  }\n}, 16);\nvar container = ignoreProps(FIELDS_TO_IGNORE);\nvar OptimizedMoneyInput = container(MoneyInput);\nvar OptimizedDateField = container(DateField);\nvar OptimizedPercentField = container(PercentField);\nvar OptimizedBoolField = container(BoolField);\n\nvar determineComponentFromProps = function (_ref) {\n  var allowedValues = _ref.allowedValues,\n      customAllowedValues = _ref.customAllowedValues,\n      uniforms = _ref.field.uniforms,\n      fieldType = _ref.fieldType;\n\n  if (allowedValues || customAllowedValues) {\n    return {\n      Component: CustomSelectField,\n      type: COMPONENT_TYPES.SELECT,\n      props: {\n        variant: 'outlined'\n      }\n    };\n  }\n\n  if (uniforms && uniforms.type === CUSTOM_AUTOFIELD_TYPES.DATE) {\n    return {\n      Component: OptimizedDateField,\n      type: COMPONENT_TYPES.DATE,\n      props: {\n        placeholder: null,\n        variant: 'outlined'\n      }\n    };\n  }\n\n  if (uniforms && uniforms.type === CUSTOM_AUTOFIELD_TYPES.PERCENT) {\n    return {\n      Component: OptimizedPercentField,\n      type: COMPONENT_TYPES.PERCENT\n    };\n  }\n\n  if (uniforms && uniforms.type === CUSTOM_AUTOFIELD_TYPES.MONEY) {\n    return {\n      Component: OptimizedMoneyInput,\n      type: COMPONENT_TYPES.MONEY,\n      props: {\n        margin: 'normal',\n        variant: 'outlined'\n      }\n    };\n  }\n\n  if (uniforms && uniforms.type === CUSTOM_AUTOFIELD_TYPES.MONEY_DECIMAL) {\n    return {\n      Component: OptimizedMoneyInput,\n      type: COMPONENT_TYPES.MONEY,\n      props: {\n        margin: 'normal',\n        decimal: true,\n        variant: 'outlined'\n      }\n    };\n  }\n\n  if (uniforms && uniforms.type === CUSTOM_AUTOFIELD_TYPES.HTML_PREVIEW) {\n    return {\n      Component: HtmlPreview,\n      type: COMPONENT_TYPES.HTML_PREVIEW,\n      props: {\n        placeholder: null\n      }\n    };\n  }\n\n  if (fieldType === Array) {\n    return {\n      Component: OptimizedListField,\n      type: COMPONENT_TYPES.ARRAY\n    };\n  }\n\n  if (fieldType === Object) {\n    return {\n      Component: CustomNestField,\n      type: COMPONENT_TYPES.ARRAY\n    };\n  }\n\n  if (fieldType === Boolean) {\n    return {\n      Component: OptimizedBoolField\n    };\n  }\n\n  if (uniforms && uniforms.render) {\n    return {\n      Component: uniforms.render,\n      type: COMPONENT_TYPES.RENDER,\n      props: {\n        placeholder: null\n      }\n    };\n  }\n\n  return {\n    Component: false,\n    type: null,\n    props: {\n      variant: 'outlined'\n    }\n  };\n};\n\nvar makeCustomAutoField = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$labels = _ref2.labels,\n      labels = _ref2$labels === void 0 ? {} : _ref2$labels,\n      intlPrefix = _ref2.intlPrefix;\n\n  var CustomAutoField = function (props, _ref3) {\n    var _ref3$uniforms = _ref3.uniforms,\n        schema = _ref3$uniforms.schema,\n        model = _ref3$uniforms.model,\n        submitting = _ref3$uniforms.state.submitting;\n\n    var _schema$getField = schema.getField(props.name),\n        condition = _schema$getField.condition,\n        customAllowedValues = _schema$getField.customAllowedValues,\n        customAutoValue = _schema$getField.customAutoValue;\n\n    var allowedValues = props.allowedValues,\n        field = props.field,\n        fieldType = props.fieldType,\n        _props$margin = props.margin,\n        margin = _props$margin === void 0 ? 'normal' : _props$margin;\n\n    var _useState = useState(determineComponentFromProps({\n      allowedValues: allowedValues,\n      customAllowedValues: customAllowedValues,\n      field: field,\n      fieldType: fieldType\n    })),\n        _useState2 = (0, _slicedToArray2.default)(_useState, 1),\n        _useState2$ = _useState2[0],\n        Component = _useState2$.Component,\n        type = _useState2$.type,\n        _useState2$$props = _useState2$.props,\n        additionalProps = _useState2$$props === void 0 ? {} : _useState2$$props;\n\n    Component = Component || AutoField;\n    var autoValue;\n\n    if (typeof customAutoValue === 'function') {\n      autoValue = customAutoValue(model);\n    } // Don't recalculate these\n\n\n    var _useState3 = useState(getLabel((0, _objectSpread2.default)({}, props, additionalProps, {\n      intlPrefix: intlPrefix,\n      label: labels[props.name]\n    }))),\n        _useState4 = (0, _slicedToArray2.default)(_useState3, 1),\n        label = _useState4[0];\n\n    var _useState5 = useState(getPlaceholder((0, _objectSpread2.default)({}, props, additionalProps, {\n      intlPrefix: intlPrefix,\n      type: type\n    }))),\n        _useState6 = (0, _slicedToArray2.default)(_useState5, 1),\n        placeholder = _useState6[0];\n\n    if (typeof condition === 'function' && !condition(model, props.parent && Number(props.parent.name.slice(-1)))) {\n      return nothing;\n    }\n\n    return React.createElement(Component, (0, _extends2.default)({}, additionalProps, props, autoValue ? {\n      value: autoValue\n    } : {}, {\n      model: model,\n      submitting: submitting,\n      customAllowedValues: customAllowedValues,\n      label: label,\n      placeholder: placeholder,\n      InputLabelProps: {\n        shrink: true\n      },\n      margin: margin\n    }));\n  };\n\n  CustomAutoField.contextTypes = AutoField.contextTypes;\n  return compose(getContext((0, _objectSpread2.default)({\n    intl: intlShape\n  }, AutoField.contextTypes)), connectField)(CustomAutoField, {\n    includeInChain: false,\n    includeParent: true\n  });\n};\n\nvar CustomAutoField = makeCustomAutoField({});","map":{"version":3,"sources":["imports/core/components/AutoForm2/AutoFormComponents.jsx"],"names":["container","ignoreProps","OptimizedMoneyInput","OptimizedDateField","OptimizedPercentField","OptimizedBoolField","determineComponentFromProps","field","uniforms","fieldType","allowedValues","Component","type","COMPONENT_TYPES","props","variant","CUSTOM_AUTOFIELD_TYPES","placeholder","PERCENT","margin","decimal","ARRAY","makeCustomAutoField","labels","intlPrefix","CustomAutoField","state","submitting","customAutoValue","schema","additionalProps","useState","customAllowedValues","autoValue","getLabel","label","getPlaceholder","condition","Number","value","shrink","AutoField","getContext","intl","contextTypes","includeInChain","includeParent"],"mappings":";;;;;;;;AAAA,MAAA,CAAA,MAAA,CAAA;AAAA,EAAA,mBAAA,EAAA;AAAA,WAAA,mBAAA;AAAA,GAAA;AAAA,EAAA,eAAA,EAAA;AAAA,WAAA,eAAA;AAAA;AAAA,CAAA;AAAA,IAAA,KAAA,EAAA,QAAA;AAAA,MAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AAAA,uBAAA,CAAA,EAAA;AAAA,IAAA,KAAA,GAAA,CAAA;AAAA,GAAA;AAAA,EAAA,QAAA,YAAA,CAAA,EAAA;AAAA,IAAA,QAAA,GAAA,CAAA;AAAA;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,SAAA;AAAA,MAAA,CAAA,IAAA,CAAA,YAAA,EAAA;AAAA,EAAA,SAAA,YAAA,CAAA,EAAA;AAAA,IAAA,SAAA,GAAA,CAAA;AAAA;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,OAAA,EAAA,UAAA;AAAA,MAAA,CAAA,IAAA,CAAA,WAAA,EAAA;AAAA,EAAA,OAAA,YAAA,CAAA,EAAA;AAAA,IAAA,OAAA,GAAA,CAAA;AAAA,GAAA;AAAA,EAAA,UAAA,YAAA,CAAA,EAAA;AAAA,IAAA,UAAA,GAAA,CAAA;AAAA;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,YAAA;AAAA,MAAA,CAAA,IAAA,CAAA,uBAAA,EAAA;AAAA,uBAAA,CAAA,EAAA;AAAA,IAAA,YAAA,GAAA,CAAA;AAAA;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,OAAA;AAAA,MAAA,CAAA,IAAA,CAAA,kBAAA,EAAA;AAAA,uBAAA,CAAA,EAAA;AAAA,IAAA,OAAA,GAAA,CAAA;AAAA;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,SAAA;AAAA,MAAA,CAAA,IAAA,CAAA,6BAAA,EAAA;AAAA,uBAAA,CAAA,EAAA;AAAA,IAAA,SAAA,GAAA,CAAA;AAAA;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,SAAA;AAAA,MAAA,CAAA,IAAA,CAAA,6BAAA,EAAA;AAAA,uBAAA,CAAA,EAAA;AAAA,IAAA,SAAA,GAAA,CAAA;AAAA;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,SAAA;AAAA,MAAA,CAAA,IAAA,CAAA,cAAA,EAAA;AAAA,uBAAA,CAAA,EAAA;AAAA,IAAA,SAAA,GAAA,CAAA;AAAA;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,YAAA;AAAA,MAAA,CAAA,IAAA,CAAA,iBAAA,EAAA;AAAA,EAAA,YAAA,YAAA,CAAA,EAAA;AAAA,IAAA,YAAA,GAAA,CAAA;AAAA;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,sBAAA,EAAA,eAAA,EAAA,gBAAA;AAAA,MAAA,CAAA,IAAA,CAAA,aAAA,EAAA;AAAA,EAAA,sBAAA,YAAA,CAAA,EAAA;AAAA,IAAA,sBAAA,GAAA,CAAA;AAAA,GAAA;AAAA,EAAA,eAAA,YAAA,CAAA,EAAA;AAAA,IAAA,eAAA,GAAA,CAAA;AAAA,GAAA;AAAA,EAAA,gBAAA,YAAA,CAAA,EAAA;AAAA,IAAA,gBAAA,GAAA,CAAA;AAAA;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,iBAAA;AAAA,MAAA,CAAA,IAAA,CAAA,qBAAA,EAAA;AAAA,uBAAA,CAAA,EAAA;AAAA,IAAA,iBAAA,GAAA,CAAA;AAAA;AAAA,CAAA,EAAA,EAAA;AAAA,IAAA,kBAAA;AAAA,MAAA,CAAA,IAAA,CAAA,mBAAA,EAAA;AAAA,EAAA,kBAAA,YAAA,CAAA,EAAA;AAAA,IAAA,kBAAA,GAAA,CAAA;AAAA;AAAA,CAAA,EAAA,EAAA;AAAA,IAAA,eAAA;AAAA,MAAA,CAAA,IAAA,CAAA,mBAAA,EAAA;AAAA,uBAAA,CAAA,EAAA;AAAA,IAAA,eAAA,GAAA,CAAA;AAAA;AAAA,CAAA,EAAA,EAAA;AAAA,IAAA,QAAA,EAAA,cAAA;AAAA,MAAA,CAAA,IAAA,CAAA,mBAAA,EAAA;AAAA,EAAA,QAAA,YAAA,CAAA,EAAA;AAAA,IAAA,QAAA,GAAA,CAAA;AAAA,GAAA;AAAA,EAAA,cAAA,YAAA,CAAA,EAAA;AAAA,IAAA,cAAA,GAAA,CAAA;AAAA;AAAA,CAAA,EAAA,EAAA;AAAA,IAAA,UAAA;AAAA,MAAA,CAAA,IAAA,CAAA,eAAA,EAAA;AAAA,uBAAA,CAAA,EAAA;AAAA,IAAA,UAAA,GAAA,CAAA;AAAA;AAAA,CAAA,EAAA,EAAA;AAAA,IAAA,WAAA;AAAA,MAAA,CAAA,IAAA,CAAA,gBAAA,EAAA;AAAA,uBAAA,CAAA,EAAA;AAAA,IAAA,WAAA,GAAA,CAAA;AAAA;AAAA,CAAA,EAAA,EAAA;AAAA,IAAA,WAAA;AAAA,MAAA,CAAA,IAAA,CAAA,iCAAA,EAAA;AAAA,EAAA,WAAA,YAAA,CAAA,EAAA;AAAA,IAAA,WAAA,GAAA,CAAA;AAAA;AAAA,CAAA,EAAA,EAAA;AAwBA,IAAMA,SAAS,GAAGC,WAAW,CAA7B,gBAA6B,CAA7B;AAEA,IAAMC,mBAAmB,GAAGF,SAAS,CAArC,UAAqC,CAArC;AACA,IAAMG,kBAAkB,GAAGH,SAAS,CAApC,SAAoC,CAApC;AACA,IAAMI,qBAAqB,GAAGJ,SAAS,CAAvC,YAAuC,CAAvC;AACA,IAAMK,kBAAkB,GAAGL,SAAS,CAApC,SAAoC,CAApC;;AAEA,IAAMM,2BAA2B,GAAG,gBAK9B;AAAA,MAL+B,aAK/B,QAL+B,aAK/B;AAAA,MAL+B,mBAK/B,QAL+B,mBAK/B;AAAA,MAFKE,QAEL,QAFJD,KAEI,CAFKC,QAEL;AAAA,MADJC,SACI,QADJA,SACI;;AACJ,MAAIC,aAAa,IAAjB,mBAAA,EAA0C;AACxC,WAAO;AACLC,MAAAA,SAAS,EADJ,iBAAA;AAELC,MAAAA,IAAI,EAAEC,eAAe,CAFhB,MAAA;AAGLC,MAAAA,KAAK,EAAE;AAAEC,QAAAA,OAAO,EAAE;AAAX;AAHF,KAAP;AAKD;;AAED,MAAIP,QAAQ,IAAIA,QAAQ,CAARA,IAAAA,KAAkBQ,sBAAsB,CAAxD,IAAA,EAA+D;AAC7D,WAAO;AACLL,MAAAA,SAAS,EADJ,kBAAA;AAELC,MAAAA,IAAI,EAAEC,eAAe,CAFhB,IAAA;AAGLC,MAAAA,KAAK,EAAE;AAAEG,QAAAA,WAAW,EAAb,IAAA;AAAqBF,QAAAA,OAAO,EAAE;AAA9B;AAHF,KAAP;AAKD;;AAED,MAAIP,QAAQ,IAAIA,QAAQ,CAARA,IAAAA,KAAkBQ,sBAAsB,CAAxD,OAAA,EAAkE;AAChE,WAAO;AAAEL,MAAAA,SAAS,EAAX,qBAAA;AAAoCC,MAAAA,IAAI,EAAEC,eAAe,CAACK;AAA1D,KAAP;AACD;;AAED,MAAIV,QAAQ,IAAIA,QAAQ,CAARA,IAAAA,KAAkBQ,sBAAsB,CAAxD,KAAA,EAAgE;AAC9D,WAAO;AACLL,MAAAA,SAAS,EADJ,mBAAA;AAELC,MAAAA,IAAI,EAAEC,eAAe,CAFhB,KAAA;AAGLC,MAAAA,KAAK,EAAE;AAAEK,QAAAA,MAAM,EAAR,QAAA;AAAoBJ,QAAAA,OAAO,EAAE;AAA7B;AAHF,KAAP;AAKD;;AAED,MAAIP,QAAQ,IAAIA,QAAQ,CAARA,IAAAA,KAAkBQ,sBAAsB,CAAxD,aAAA,EAAwE;AACtE,WAAO;AACLL,MAAAA,SAAS,EADJ,mBAAA;AAELC,MAAAA,IAAI,EAAEC,eAAe,CAFhB,KAAA;AAGLC,MAAAA,KAAK,EAAE;AAAEK,QAAAA,MAAM,EAAR,QAAA;AAAoBC,QAAAA,OAAO,EAA3B,IAAA;AAAmCL,QAAAA,OAAO,EAAE;AAA5C;AAHF,KAAP;AAKD;;AAED,MAAIP,QAAQ,IAAIA,QAAQ,CAARA,IAAAA,KAAkBQ,sBAAsB,CAAxD,YAAA,EAAuE;AACrE,WAAO;AACLL,MAAAA,SAAS,EADJ,WAAA;AAELC,MAAAA,IAAI,EAAEC,eAAe,CAFhB,YAAA;AAGLC,MAAAA,KAAK,EAAE;AAAEG,QAAAA,WAAW,EAAE;AAAf;AAHF,KAAP;AAKD;;AAED,MAAIR,SAAS,KAAb,KAAA,EAAyB;AACvB,WAAO;AAAEE,MAAAA,SAAS,EAAX,kBAAA;AAAiCC,MAAAA,IAAI,EAAEC,eAAe,CAACQ;AAAvD,KAAP;AACD;;AAED,MAAIZ,SAAS,KAAb,MAAA,EAA0B;AACxB,WAAO;AAAEE,MAAAA,SAAS,EAAX,eAAA;AAA8BC,MAAAA,IAAI,EAAEC,eAAe,CAACQ;AAApD,KAAP;AACD;;AAED,MAAIZ,SAAS,KAAb,OAAA,EAA2B;AACzB,WAAO;AAAEE,MAAAA,SAAS,EAAEN;AAAb,KAAP;AACD;;AAED,MAAIG,QAAQ,IAAIA,QAAQ,CAAxB,MAAA,EAAiC;AAC/B,WAAO;AACLG,MAAAA,SAAS,EAAEH,QAAQ,CADd,MAAA;AAELI,MAAAA,IAAI,EAAEC,eAAe,CAFhB,MAAA;AAGLC,MAAAA,KAAK,EAAE;AAAEG,QAAAA,WAAW,EAAE;AAAf;AAHF,KAAP;AAKD;;AAED,SAAO;AAAEN,IAAAA,SAAS,EAAX,KAAA;AAAoBC,IAAAA,IAAI,EAAxB,IAAA;AAAgCE,IAAAA,KAAK,EAAE;AAAEC,MAAAA,OAAO,EAAE;AAAX;AAAvC,GAAP;AAtEF,CAAA;;AAyEO,IAAMO,mBAAmB,GAAG,YAAsC;AAAA,kFAAtC,EAAsC;AAAA,2BAAnCC,MAAmC;AAAA,MAAnCA,MAAmC,6BAArC,EAAqC;AAAA,MAAtBC,UAAsB,SAAtBA,UAAsB;;AACvE,MAAMC,eAAe,GAAG,UAAA,KAAA,SASnB;AAAA,+BANDjB,QAMC;AAAA,QANS,MAMT,kBANS,MAMT;AAAA,QANS,KAMT,kBANS,KAMT;AAAA,QAHUmB,UAGV,kBAHCD,KAGD,CAHUC,UAGV;;AAAA,2BACyDE,MAAM,CAANA,QAAAA,CAAgBf,KAAK,CAAjF,IAA4De,CADzD;AAAA,QACG,SADH,oBACG,SADH;AAAA,QACG,mBADH,oBACG,mBADH;AAAA,QACqCD,eADrC,oBACqCA,eADrC;;AAAA,QAEG,aAFH,GAEH,KAFG,CAEG,aAFH;AAAA,QAEG,KAFH,GAEH,KAFG,CAEG,KAFH;AAAA,QAEG,SAFH,GAEH,KAFG,CAEG,SAFH;AAAA,wBAEH,KAFG,CAEsCT,MAFtC;AAAA,QAEsCA,MAFtC,8BAE+C,QAF/C;;AAAA,oBAGsDY,QAAQ,CAACzB,2BAA2B,CAAC;AAC5FI,MAAAA,aAD4F,EAC5FA,aAD4F;AAE5FsB,MAAAA,mBAF4F,EAE5FA,mBAF4F;AAG5FzB,MAAAA,KAH4F,EAG5FA,KAH4F;AAI5FE,MAAAA,SAAAA,EAAAA;AAJ4F,KAAD,CAA5B,CAH9D;AAAA;AAAA;AAAA,QAGE,SAHF,eAGE,SAHF;AAAA,QAGE,IAHF,eAGE,IAHF;AAAA,wCAGqBK,KAHrB;AAAA,QAG4BgB,eAH5B,kCAG8C,EAH9C;;AAUHnB,IAAAA,SAAS,GAAGA,SAAS,IAArBA,SAAAA;AAEA,QAAA,SAAA;;AAEA,QAAI,OAAA,eAAA,KAAJ,UAAA,EAA2C;AACzCsB,MAAAA,SAAS,GAAGL,eAAe,CAA3BK,KAA2B,CAA3BA;AAfC,KAAA,CAkBH;;;AAlBG,qBAmBaF,QAAQ,CAACG,QAAQ,iCAAC,KAAD,EAAC,eAAD;AAG/BV,MAAAA,UAHgC,EAGhCA,UAH+B;AAI/BW,MAAAA,KAAK,EAAEZ,MAAM,CAACT,KAAK,CAAN,IAAA;AAJkB,OAAT,CAnBrB;AAAA;AAAA,QAmBG,KAnBH;;AAAA,qBAyBmBiB,QAAQ,CAACK,cAAc,iCAAC,KAAD,EAAC,eAAD;AAAiCZ,MAAAA,UAAhC,EAAgCA,UAAjC;AAA6CZ,MAAAA,IAAAA,EAAAA;AAA7C,OAAf,CAzB3B;AAAA;AAAA,QAyBG,WAzBH;;AA2BH,QACE,OAAA,SAAA,KAAA,UAAA,IACG,CAACyB,SAAS,CAAA,KAAA,EAAQvB,KAAK,CAALA,MAAAA,IAAgBwB,MAAM,CAACxB,KAAK,CAALA,MAAAA,CAAAA,IAAAA,CAAAA,KAAAA,CAAwB,CAFtE,CAE8CA,CAAD,CAA9B,CAFf,EAGE;AACA,aAAA,OAAA;AACD;;AAED,WACE,oBAAA,SAAA,6BAAA,eAAA,EAAA,KAAA,EAGOmB,SAAS,GAAG;AAAEM,MAAAA,KAAK,EAAEN;AAAT,KAAH,GAHhB,EAAA;AAIE,MAAA,KAAA,EAJF,KAAA;AAKE,MAAA,UAAA,EALF,UAAA;AAME,MAAA,mBAAA,EANF,mBAAA;AAOE,MAAA,KAAA,EAPF,KAAA;AAQE,MAAA,WAAA,EARF,WAAA;AASE,MAAA,eAAA,EAAiB;AAAEO,QAAAA,MAAM,EAAE;AAAV,OATnB;AAUE,MAAA,MAAA,EAXJ;AACE,OADF;AA3CF,GAAA;;AA2DAf,EAAAA,eAAe,CAAfA,YAAAA,GAA+BgB,SAAS,CAAxChB,YAAAA;AAEA,SAAO,OAAO,CACZiB,UAAU;AAAGC,IAAAA,IAAI,EAAN;AAAD,KAAuBF,SAAS,CAACG,YAAjC,EADE,EAAP,YAAO,CAAP,CAAA,eAAA,EAGY;AAAEC,IAAAA,cAAc,EAAhB,KAAA;AAAyBC,IAAAA,aAAa,EAAE;AAAxC,GAHZ,CAAP;AA9DK,CAAA;;AAoEA,IAAMrB,eAAe,GAAGH,mBAAmB,CAA3C,EAA2C,CAA3C","sourcesContent":["// @flow\nimport React, { useState } from 'react';\nimport { intlShape } from 'react-intl';\nimport { compose, getContext } from 'recompose';\nimport connectField from 'uniforms/connectField';\nimport nothing from 'uniforms/nothing';\nimport AutoField from 'uniforms-material/AutoField';\nimport BoolField from 'uniforms-material/BoolField';\n\nimport DateField from '../DateField';\nimport { PercentField } from '../PercentInput';\nimport {\n  CUSTOM_AUTOFIELD_TYPES,\n  COMPONENT_TYPES,\n  FIELDS_TO_IGNORE,\n} from './constants';\nimport CustomSelectField from './CustomSelectField';\nimport { OptimizedListField } from './CustomListField';\nimport CustomNestField from './CustomNestField';\nimport { getLabel, getPlaceholder } from './autoFormHelpers';\nimport MoneyInput from '../MoneyInput';\nimport HtmlPreview from '../HtmlPreview';\nimport { ignoreProps } from '../../containers/updateForProps';\n\nconst container = ignoreProps(FIELDS_TO_IGNORE);\n\nconst OptimizedMoneyInput = container(MoneyInput);\nconst OptimizedDateField = container(DateField);\nconst OptimizedPercentField = container(PercentField);\nconst OptimizedBoolField = container(BoolField);\n\nconst determineComponentFromProps = ({\n  allowedValues,\n  customAllowedValues,\n  field: { uniforms },\n  fieldType,\n}) => {\n  if (allowedValues || customAllowedValues) {\n    return {\n      Component: CustomSelectField,\n      type: COMPONENT_TYPES.SELECT,\n      props: { variant: 'outlined' },\n    };\n  }\n\n  if (uniforms && uniforms.type === CUSTOM_AUTOFIELD_TYPES.DATE) {\n    return {\n      Component: OptimizedDateField,\n      type: COMPONENT_TYPES.DATE,\n      props: { placeholder: null, variant: 'outlined' },\n    };\n  }\n\n  if (uniforms && uniforms.type === CUSTOM_AUTOFIELD_TYPES.PERCENT) {\n    return { Component: OptimizedPercentField, type: COMPONENT_TYPES.PERCENT };\n  }\n\n  if (uniforms && uniforms.type === CUSTOM_AUTOFIELD_TYPES.MONEY) {\n    return {\n      Component: OptimizedMoneyInput,\n      type: COMPONENT_TYPES.MONEY,\n      props: { margin: 'normal', variant: 'outlined' },\n    };\n  }\n\n  if (uniforms && uniforms.type === CUSTOM_AUTOFIELD_TYPES.MONEY_DECIMAL) {\n    return {\n      Component: OptimizedMoneyInput,\n      type: COMPONENT_TYPES.MONEY,\n      props: { margin: 'normal', decimal: true, variant: 'outlined' },\n    };\n  }\n\n  if (uniforms && uniforms.type === CUSTOM_AUTOFIELD_TYPES.HTML_PREVIEW) {\n    return {\n      Component: HtmlPreview,\n      type: COMPONENT_TYPES.HTML_PREVIEW,\n      props: { placeholder: null },\n    };\n  }\n\n  if (fieldType === Array) {\n    return { Component: OptimizedListField, type: COMPONENT_TYPES.ARRAY };\n  }\n\n  if (fieldType === Object) {\n    return { Component: CustomNestField, type: COMPONENT_TYPES.ARRAY };\n  }\n\n  if (fieldType === Boolean) {\n    return { Component: OptimizedBoolField };\n  }\n\n  if (uniforms && uniforms.render) {\n    return {\n      Component: uniforms.render,\n      type: COMPONENT_TYPES.RENDER,\n      props: { placeholder: null },\n    };\n  }\n\n  return { Component: false, type: null, props: { variant: 'outlined' } };\n};\n\nexport const makeCustomAutoField = ({ labels = {}, intlPrefix } = {}) => {\n  const CustomAutoField = (\n    props,\n    {\n      uniforms: {\n        schema,\n        model,\n        state: { submitting },\n      },\n    },\n  ) => {\n    const { condition, customAllowedValues, customAutoValue } = schema.getField(props.name);\n    const { allowedValues, field, fieldType, margin = 'normal' } = props;\n    let [{ Component, type, props: additionalProps = {} }] = useState(determineComponentFromProps({\n      allowedValues,\n      customAllowedValues,\n      field,\n      fieldType,\n    }));\n\n    Component = Component || AutoField;\n\n    let autoValue;\n\n    if (typeof customAutoValue === 'function') {\n      autoValue = customAutoValue(model);\n    }\n\n    // Don't recalculate these\n    const [label] = useState(getLabel({\n      ...props,\n      ...additionalProps,\n      intlPrefix,\n      label: labels[props.name],\n    }));\n    const [placeholder] = useState(getPlaceholder({ ...props, ...additionalProps, intlPrefix, type }));\n\n    if (\n      typeof condition === 'function'\n      && !condition(model, props.parent && Number(props.parent.name.slice(-1)))\n    ) {\n      return nothing;\n    }\n\n    return (\n      <Component\n        {...additionalProps}\n        {...props}\n        {...(autoValue ? { value: autoValue } : {})}\n        model={model}\n        submitting={submitting}\n        customAllowedValues={customAllowedValues}\n        label={label}\n        placeholder={placeholder}\n        InputLabelProps={{ shrink: true }}\n        margin={margin}\n      />\n    );\n  };\n\n  CustomAutoField.contextTypes = AutoField.contextTypes;\n\n  return compose(\n    getContext({ intl: intlShape, ...AutoField.contextTypes }),\n    connectField,\n  )(CustomAutoField, { includeInChain: false, includeParent: true });\n};\n\nexport const CustomAutoField = makeCustomAutoField({});\n"]},"sourceType":"script","hash":"d1061b2822d6bb728c08d7ef7b5f0313b6267991"}
