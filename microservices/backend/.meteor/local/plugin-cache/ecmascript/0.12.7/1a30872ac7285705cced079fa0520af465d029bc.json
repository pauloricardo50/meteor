{"metadata":{},"options":{"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/Florian/dev/epotek/microservices/backend/imports/core/utils/notaryFees/cantonConfigs.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties",["flow",{}],"jsx",["flow",{}],["flow",{}],"objectRestSpread","objectRestSpread","dynamicImport","asyncGenerators","classProperties","classPrivateProperties"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"caller":{"name":"meteor","arch":"os.osx.x86_64"},"sourceFileName":"imports/core/utils/notaryFees/cantonConfigs.js","filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/utils/notaryFees/cantonConfigs.js","inputSourceMap":{"version":3,"sources":["imports/core/utils/notaryFees/cantonConfigs.js"],"names":["RESIDENCE_TYPE","degressive","cantons","VAT","isCasatax","residenceType","propertyValue","MAIN_RESIDENCE","GE","CASATAX_CUTOFF","notaryIncomeFromProperty","amount","brackets","NOTARY_PROPERTY_BRACKETS","minTax","NOTARY_PROPERTY_BRACKETS_MIN","notaryIncomeFromMortgageNote","mortgageNoteIncrease","NOTARY_NOTE_BRACKETS","propertyConstructionTax","constructionValue","PROPERTY_CONSTRUCTION_TAX","propertyRegistrationTax","PROPERTY_REGISTRATION_TAX","landRegistryPropertyTax","LAND_REGISTRY_PROPERTY_TAX","mortgageNoteRegistrationTax","MORTGAGE_NOTE_REGISTRATION_TAX","landRegistryMortgageNoteTax","LAND_REGISTRY_MORTGAGE_NOTE_TAX","buyersContractDeductions","transferTax","Math","min","CASATAX_PROPERTY_DEDUCTION","additionalFees","ADDITIONAL_FEES","mortgageNoteDeductions","MORTGAGE_NOTE_CASATAX_DEDUCTION","VD"],"mappings":"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","sourcesContent":["import { RESIDENCE_TYPE } from 'core/api/constants';\nimport degressive from './degressive';\nimport * as cantons from './cantonConstants';\nimport { VAT } from '../../config/financeConstants';\n\nconst isCasatax = ({ residenceType, propertyValue }) =>\n  residenceType === RESIDENCE_TYPE.MAIN_RESIDENCE\n  && propertyValue <= cantons.GE.CASATAX_CUTOFF;\n\nexport const GE = {\n  notaryIncomeFromProperty: ({ propertyValue }) =>\n    degressive({\n      amount: propertyValue,\n      brackets: cantons.GE.NOTARY_PROPERTY_BRACKETS,\n      minTax: cantons.GE.NOTARY_PROPERTY_BRACKETS_MIN,\n    })\n    * (1 + VAT),\n  notaryIncomeFromMortgageNote: ({ mortgageNoteIncrease }) =>\n    degressive({\n      amount: mortgageNoteIncrease,\n      brackets: cantons.GE.NOTARY_NOTE_BRACKETS,\n    })\n    * (1 + VAT),\n  propertyConstructionTax: ({ constructionValue }) =>\n    constructionValue * cantons.GE.PROPERTY_CONSTRUCTION_TAX,\n  propertyRegistrationTax: ({ propertyValue }) =>\n    propertyValue * cantons.GE.PROPERTY_REGISTRATION_TAX,\n  landRegistryPropertyTax: ({ propertyValue }) =>\n    propertyValue * cantons.GE.LAND_REGISTRY_PROPERTY_TAX,\n  mortgageNoteRegistrationTax: ({ mortgageNoteIncrease }) =>\n    mortgageNoteIncrease * cantons.GE.MORTGAGE_NOTE_REGISTRATION_TAX,\n  landRegistryMortgageNoteTax: ({ mortgageNoteIncrease }) =>\n    mortgageNoteIncrease * cantons.GE.LAND_REGISTRY_MORTGAGE_NOTE_TAX,\n  buyersContractDeductions: ({ residenceType, propertyValue, transferTax }) =>\n    (isCasatax({ residenceType, propertyValue })\n      ? Math.min(cantons.GE.CASATAX_PROPERTY_DEDUCTION, transferTax)\n      : 0),\n  additionalFees: () => cantons.GE.ADDITIONAL_FEES,\n  mortgageNoteDeductions: ({\n    residenceType,\n    propertyValue,\n    mortgageNoteRegistrationTax,\n  }) =>\n    (isCasatax({ residenceType, propertyValue })\n      ? mortgageNoteRegistrationTax * cantons.GE.MORTGAGE_NOTE_CASATAX_DEDUCTION\n      : 0),\n};\n\nexport const VD = {\n  notaryIncomeFromProperty: ({ propertyValue }) =>\n    degressive({\n      amount: propertyValue,\n      brackets: cantons.VD.NOTARY_PROPERTY_BRACKETS,\n      minTax: cantons.VD.NOTARY_PROPERTY_BRACKETS_MIN,\n    })\n    * (1 + VAT),\n  propertyConstructionTax: () => 0, // TODO\n  notaryIncomeFromMortgageNote: ({ mortgageNoteIncrease }) =>\n    degressive({\n      amount: mortgageNoteIncrease,\n      brackets: cantons.VD.NOTARY_NOTE_BRACKETS,\n    })\n    * (1 + VAT),\n  propertyRegistrationTax: ({ propertyValue }) =>\n    propertyValue * cantons.VD.PROPERTY_REGISTRATION_TAX,\n  landRegistryPropertyTax: ({ propertyValue }) =>\n    propertyValue * cantons.VD.LAND_REGISTRY_PROPERTY_TAX,\n  mortgageNoteRegistrationTax: ({ mortgageNoteIncrease }) => 0,\n  landRegistryMortgageNoteTax: ({ mortgageNoteIncrease }) =>\n    mortgageNoteIncrease * cantons.VD.LAND_REGISTRY_MORTGAGE_NOTE_TAX,\n  additionalFees: () => cantons.VD.ADDITIONAL_FEES,\n};\n"]},"passPerPreset":false,"envName":"development","cwd":"/Users/Florian/dev/epotek/microservices/backend","root":"/Users/Florian/dev/epotek/microservices/backend","plugins":[{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"syntax-flow","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-runtime","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-meteor-async-await","visitor":{"AwaitExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]},"ClassPrivateMethod":{"exit":[null]}},"options":{"useNativeAsyncAwait":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"transform-modules-commonjs","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}}],"presets":[],"generatorOpts":{"filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/utils/notaryFees/cantonConfigs.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/core/utils/notaryFees/cantonConfigs.js"}},"code":"module.export({\n  GE: () => GE,\n  VD: () => VD\n});\nlet RESIDENCE_TYPE;\nmodule.link(\"../../api/constants\", {\n  RESIDENCE_TYPE(v) {\n    RESIDENCE_TYPE = v;\n  }\n\n}, 0);\nlet degressive;\nmodule.link(\"./degressive\", {\n  default(v) {\n    degressive = v;\n  }\n\n}, 1);\nlet cantons;\nmodule.link(\"./cantonConstants\", {\n  \"*\"(v) {\n    cantons = v;\n  }\n\n}, 2);\nlet VAT;\nmodule.link(\"../../config/financeConstants\", {\n  VAT(v) {\n    VAT = v;\n  }\n\n}, 3);\n\nconst isCasatax = ({\n  residenceType,\n  propertyValue\n}) => residenceType === RESIDENCE_TYPE.MAIN_RESIDENCE && propertyValue <= cantons.GE.CASATAX_CUTOFF;\n\nconst GE = {\n  notaryIncomeFromProperty: ({\n    propertyValue\n  }) => degressive({\n    amount: propertyValue,\n    brackets: cantons.GE.NOTARY_PROPERTY_BRACKETS,\n    minTax: cantons.GE.NOTARY_PROPERTY_BRACKETS_MIN\n  }) * (1 + VAT),\n  notaryIncomeFromMortgageNote: ({\n    mortgageNoteIncrease\n  }) => degressive({\n    amount: mortgageNoteIncrease,\n    brackets: cantons.GE.NOTARY_NOTE_BRACKETS\n  }) * (1 + VAT),\n  propertyConstructionTax: ({\n    constructionValue\n  }) => constructionValue * cantons.GE.PROPERTY_CONSTRUCTION_TAX,\n  propertyRegistrationTax: ({\n    propertyValue\n  }) => propertyValue * cantons.GE.PROPERTY_REGISTRATION_TAX,\n  landRegistryPropertyTax: ({\n    propertyValue\n  }) => propertyValue * cantons.GE.LAND_REGISTRY_PROPERTY_TAX,\n  mortgageNoteRegistrationTax: ({\n    mortgageNoteIncrease\n  }) => mortgageNoteIncrease * cantons.GE.MORTGAGE_NOTE_REGISTRATION_TAX,\n  landRegistryMortgageNoteTax: ({\n    mortgageNoteIncrease\n  }) => mortgageNoteIncrease * cantons.GE.LAND_REGISTRY_MORTGAGE_NOTE_TAX,\n  buyersContractDeductions: ({\n    residenceType,\n    propertyValue,\n    transferTax\n  }) => isCasatax({\n    residenceType,\n    propertyValue\n  }) ? Math.min(cantons.GE.CASATAX_PROPERTY_DEDUCTION, transferTax) : 0,\n  additionalFees: () => cantons.GE.ADDITIONAL_FEES,\n  mortgageNoteDeductions: ({\n    residenceType,\n    propertyValue,\n    mortgageNoteRegistrationTax\n  }) => isCasatax({\n    residenceType,\n    propertyValue\n  }) ? mortgageNoteRegistrationTax * cantons.GE.MORTGAGE_NOTE_CASATAX_DEDUCTION : 0\n};\nconst VD = {\n  notaryIncomeFromProperty: ({\n    propertyValue\n  }) => degressive({\n    amount: propertyValue,\n    brackets: cantons.VD.NOTARY_PROPERTY_BRACKETS,\n    minTax: cantons.VD.NOTARY_PROPERTY_BRACKETS_MIN\n  }) * (1 + VAT),\n  propertyConstructionTax: () => 0,\n  // TODO\n  notaryIncomeFromMortgageNote: ({\n    mortgageNoteIncrease\n  }) => degressive({\n    amount: mortgageNoteIncrease,\n    brackets: cantons.VD.NOTARY_NOTE_BRACKETS\n  }) * (1 + VAT),\n  propertyRegistrationTax: ({\n    propertyValue\n  }) => propertyValue * cantons.VD.PROPERTY_REGISTRATION_TAX,\n  landRegistryPropertyTax: ({\n    propertyValue\n  }) => propertyValue * cantons.VD.LAND_REGISTRY_PROPERTY_TAX,\n  mortgageNoteRegistrationTax: ({\n    mortgageNoteIncrease\n  }) => 0,\n  landRegistryMortgageNoteTax: ({\n    mortgageNoteIncrease\n  }) => mortgageNoteIncrease * cantons.VD.LAND_REGISTRY_MORTGAGE_NOTE_TAX,\n  additionalFees: () => cantons.VD.ADDITIONAL_FEES\n};","map":{"version":3,"sources":["imports/core/utils/notaryFees/cantonConfigs.js"],"names":["RESIDENCE_TYPE","isCasatax","propertyValue","residenceType","cantons","GE","notaryIncomeFromProperty","amount","brackets","minTax","NOTARY_PROPERTY_BRACKETS_MIN","notaryIncomeFromMortgageNote","mortgageNoteIncrease","NOTARY_NOTE_BRACKETS","propertyConstructionTax","constructionValue","propertyRegistrationTax","landRegistryPropertyTax","mortgageNoteRegistrationTax","landRegistryMortgageNoteTax","buyersContractDeductions","transferTax","Math","additionalFees","mortgageNoteDeductions","VD","ADDITIONAL_FEES"],"mappings":"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","sourcesContent":["import { RESIDENCE_TYPE } from 'core/api/constants';\nimport degressive from './degressive';\nimport * as cantons from './cantonConstants';\nimport { VAT } from '../../config/financeConstants';\n\nconst isCasatax = ({ residenceType, propertyValue }) =>\n  residenceType === RESIDENCE_TYPE.MAIN_RESIDENCE\n  && propertyValue <= cantons.GE.CASATAX_CUTOFF;\n\nexport const GE = {\n  notaryIncomeFromProperty: ({ propertyValue }) =>\n    degressive({\n      amount: propertyValue,\n      brackets: cantons.GE.NOTARY_PROPERTY_BRACKETS,\n      minTax: cantons.GE.NOTARY_PROPERTY_BRACKETS_MIN,\n    })\n    * (1 + VAT),\n  notaryIncomeFromMortgageNote: ({ mortgageNoteIncrease }) =>\n    degressive({\n      amount: mortgageNoteIncrease,\n      brackets: cantons.GE.NOTARY_NOTE_BRACKETS,\n    })\n    * (1 + VAT),\n  propertyConstructionTax: ({ constructionValue }) =>\n    constructionValue * cantons.GE.PROPERTY_CONSTRUCTION_TAX,\n  propertyRegistrationTax: ({ propertyValue }) =>\n    propertyValue * cantons.GE.PROPERTY_REGISTRATION_TAX,\n  landRegistryPropertyTax: ({ propertyValue }) =>\n    propertyValue * cantons.GE.LAND_REGISTRY_PROPERTY_TAX,\n  mortgageNoteRegistrationTax: ({ mortgageNoteIncrease }) =>\n    mortgageNoteIncrease * cantons.GE.MORTGAGE_NOTE_REGISTRATION_TAX,\n  landRegistryMortgageNoteTax: ({ mortgageNoteIncrease }) =>\n    mortgageNoteIncrease * cantons.GE.LAND_REGISTRY_MORTGAGE_NOTE_TAX,\n  buyersContractDeductions: ({ residenceType, propertyValue, transferTax }) =>\n    (isCasatax({ residenceType, propertyValue })\n      ? Math.min(cantons.GE.CASATAX_PROPERTY_DEDUCTION, transferTax)\n      : 0),\n  additionalFees: () => cantons.GE.ADDITIONAL_FEES,\n  mortgageNoteDeductions: ({\n    residenceType,\n    propertyValue,\n    mortgageNoteRegistrationTax,\n  }) =>\n    (isCasatax({ residenceType, propertyValue })\n      ? mortgageNoteRegistrationTax * cantons.GE.MORTGAGE_NOTE_CASATAX_DEDUCTION\n      : 0),\n};\n\nexport const VD = {\n  notaryIncomeFromProperty: ({ propertyValue }) =>\n    degressive({\n      amount: propertyValue,\n      brackets: cantons.VD.NOTARY_PROPERTY_BRACKETS,\n      minTax: cantons.VD.NOTARY_PROPERTY_BRACKETS_MIN,\n    })\n    * (1 + VAT),\n  propertyConstructionTax: () => 0, // TODO\n  notaryIncomeFromMortgageNote: ({ mortgageNoteIncrease }) =>\n    degressive({\n      amount: mortgageNoteIncrease,\n      brackets: cantons.VD.NOTARY_NOTE_BRACKETS,\n    })\n    * (1 + VAT),\n  propertyRegistrationTax: ({ propertyValue }) =>\n    propertyValue * cantons.VD.PROPERTY_REGISTRATION_TAX,\n  landRegistryPropertyTax: ({ propertyValue }) =>\n    propertyValue * cantons.VD.LAND_REGISTRY_PROPERTY_TAX,\n  mortgageNoteRegistrationTax: ({ mortgageNoteIncrease }) => 0,\n  landRegistryMortgageNoteTax: ({ mortgageNoteIncrease }) =>\n    mortgageNoteIncrease * cantons.VD.LAND_REGISTRY_MORTGAGE_NOTE_TAX,\n  additionalFees: () => cantons.VD.ADDITIONAL_FEES,\n};\n"]},"sourceType":"script","hash":"1a30872ac7285705cced079fa0520af465d029bc"}
