{"metadata":{},"options":{"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/Florian/dev/epotek/microservices/backend/imports/core/components/maps/GoogleMapContainer.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties",["flow",{}],"dynamicImport","classProperties","classPrivateProperties","jsx",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"imports/core/components/maps/GoogleMapContainer.jsx","filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/components/maps/GoogleMapContainer.jsx","inputSourceMap":{"version":3,"sources":["imports/core/components/maps/GoogleMapContainer.jsx"],"names":["Meteor","GoogleMaps","Tracker","React","Component","PropTypes","classnames","Loading","googleMapContainer","WrappedComponent","GoogleMapContainer","constructor","props","tracker","autorun","isLoaded","loaded","setState","state","componentDidMount","load","v","key","settings","public","google_maps_key","libraries","setTimeout","trackIsLoading","componentWillUnmount","stop","render","className","mapIsLoaded","window","google","maps","c","container","propTypes","string","defaultProps"],"mappings":";;AAAA,SAASA,MAAT,QAAuB,eAAvB;AACA,SAASC,UAAT,QAA2B,2BAA3B;AACA,SAASC,OAAT,QAAwB,gBAAxB;AAEA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AAEA,OAAOC,OAAP;;AAEA,MAAMC,kBAAkB,GAAIC,gBAAD,IAAsB;AAC/C,QAAMC,kBAAN,SAAiCN,SAAjC,CAA2C;AACzCO,IAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,YAAMA,KAAN;;AADiB,8CAuBF,MAAM;AACrB,aAAKC,OAAL,GAAeX,OAAO,CAACY,OAAR,CAAgB,MAAM;AACnC,gBAAMC,QAAQ,GAAGd,UAAU,CAACe,MAAX,EAAjB;AAEA,eAAKC,QAAL,CAAc;AAAEF,YAAAA;AAAF,WAAd;AACD,SAJc,CAAf;AAKD,OA7BkB;;AAEjB,WAAKG,KAAL,GAAa;AAAEH,QAAAA,QAAQ,EAAE;AAAZ,OAAb;AACD;;AAEDI,IAAAA,iBAAiB,GAAG;AAClBlB,MAAAA,UAAU,CAACmB,IAAX,CAAgB;AACdC,QAAAA,CAAC,EAAE,GADW;AAEdC,QAAAA,GAAG,EAAEtB,MAAM,CAACuB,QAAP,CAAgBC,MAAhB,CAAuBC,eAFd;AAGdC,QAAAA,SAAS,EAAE;AAHG,OAAhB,EADkB,CAOlB;AACA;;AACAC,MAAAA,UAAU,CAAC,KAAKC,cAAN,EAAsB,CAAtB,CAAV;AACD;;AAEDC,IAAAA,oBAAoB,GAAG;AACrB,UAAI,KAAKhB,OAAT,EAAkB;AAChB,aAAKA,OAAL,CAAaiB,IAAb;AACD;AACF;;AAUDC,IAAAA,MAAM,GAAG;AACP,YAAM;AAAEhB,QAAAA;AAAF,UAAe,KAAKG,KAA1B;AACA,YAAM;AAAEc,QAAAA;AAAF,UAAgB,KAAKpB,KAA3B;AACA,YAAMqB,WAAW,GAAGlB,QAAQ,IAAI,CAAC,CAACmB,MAAM,CAACC,MAArB,IAA+B,CAAC,CAACD,MAAM,CAACC,MAAP,CAAcC,IAAnE;;AAEA,UAAIH,WAAJ,EAAiB;AACf,eACE,CAAC,GAAD,CACE,UAAU,CAAC3B,UAAU,CAAC;AAAE,2BAAiB,IAAnB;AAAyB,WAAC0B,SAAD,GAAa;AAAtC,SAAD,CAAX,CADZ,CAEE,IAAI,CAAEK,CAAD,IAAO;AACV,eAAKC,SAAL,GAAiBD,CAAjB;AACD,SAFG,CAFN;YAME,CAAC,gBAAD,CAAkB,IAAI,KAAKzB,KAAT,CAAlB;UACF,EAAE,GAAF,CARF;AAUD;;AAED,aAAO,CAAC,OAAD,GAAP;AACD;;AAnDwC;;AAsD3CF,EAAAA,kBAAkB,CAAC6B,SAAnB,GAA+B;AAC7BP,IAAAA,SAAS,EAAE3B,SAAS,CAACmC;AADQ,GAA/B;AAIA9B,EAAAA,kBAAkB,CAAC+B,YAAnB,GAAkC;AAChCT,IAAAA,SAAS,EAAE;AADqB,GAAlC;AAIA,SAAOtB,kBAAP;AACD,CAhED;;AAkEA,eAAeF,kBAAf","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport { GoogleMaps } from 'meteor/epotek:google-maps';\nimport { Tracker } from 'meteor/tracker';\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Loading from '../Loading';\n\nconst googleMapContainer = (WrappedComponent) => {\n  class GoogleMapContainer extends Component {\n    constructor(props) {\n      super(props);\n      this.state = { isLoaded: false };\n    }\n\n    componentDidMount() {\n      GoogleMaps.load({\n        v: '3',\n        key: Meteor.settings.public.google_maps_key,\n        libraries: 'places',\n      });\n\n      // Fuck this, it works for an obscure reason\n      // https://github.com/meteor/react-packages/issues/99#issuecomment-168772806\n      setTimeout(this.trackIsLoading, 0);\n    }\n\n    componentWillUnmount() {\n      if (this.tracker) {\n        this.tracker.stop();\n      }\n    }\n\n    trackIsLoading = () => {\n      this.tracker = Tracker.autorun(() => {\n        const isLoaded = GoogleMaps.loaded();\n\n        this.setState({ isLoaded });\n      });\n    };\n\n    render() {\n      const { isLoaded } = this.state;\n      const { className } = this.props;\n      const mapIsLoaded = isLoaded && !!window.google && !!window.google.maps;\n\n      if (mapIsLoaded) {\n        return (\n          <div\n            className={classnames({ 'map-container': true, [className]: true })}\n            ref={(c) => {\n              this.container = c;\n            }}\n          >\n            <WrappedComponent {...this.props} />\n          </div>\n        );\n      }\n\n      return <Loading />;\n    }\n  }\n\n  GoogleMapContainer.propTypes = {\n    className: PropTypes.string,\n  };\n\n  GoogleMapContainer.defaultProps = {\n    className: '',\n  };\n\n  return GoogleMapContainer;\n};\n\nexport default googleMapContainer;\n"]},"passPerPreset":false,"envName":"development","cwd":"/Users/Florian/dev/epotek/microservices/backend","root":"/Users/Florian/dev/epotek/microservices/backend","plugins":[{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"transform-runtime","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-modules-commonjs","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-flow","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/components/maps/GoogleMapContainer.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/core/components/maps/GoogleMapContainer.jsx"}},"code":"let Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet GoogleMaps;\nmodule.link(\"meteor/epotek:google-maps\", {\n  GoogleMaps(v) {\n    GoogleMaps = v;\n  }\n\n}, 1);\nlet Tracker;\nmodule.link(\"meteor/tracker\", {\n  Tracker(v) {\n    Tracker = v;\n  }\n\n}, 2);\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 3);\nlet PropTypes;\nmodule.link(\"prop-types\", {\n  default(v) {\n    PropTypes = v;\n  }\n\n}, 4);\nlet classnames;\nmodule.link(\"classnames\", {\n  default(v) {\n    classnames = v;\n  }\n\n}, 5);\nlet Loading;\nmodule.link(\"../Loading\", {\n  default(v) {\n    Loading = v;\n  }\n\n}, 6);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nconst googleMapContainer = WrappedComponent => {\n  class GoogleMapContainer extends Component {\n    constructor(props) {\n      super(props);\n\n      _defineProperty(this, \"trackIsLoading\", () => {\n        this.tracker = Tracker.autorun(() => {\n          const isLoaded = GoogleMaps.loaded();\n          this.setState({\n            isLoaded\n          });\n        });\n      });\n\n      this.state = {\n        isLoaded: false\n      };\n    }\n\n    componentDidMount() {\n      GoogleMaps.load({\n        v: '3',\n        key: Meteor.settings.public.google_maps_key,\n        libraries: 'places'\n      }); // Fuck this, it works for an obscure reason\n      // https://github.com/meteor/react-packages/issues/99#issuecomment-168772806\n\n      setTimeout(this.trackIsLoading, 0);\n    }\n\n    componentWillUnmount() {\n      if (this.tracker) {\n        this.tracker.stop();\n      }\n    }\n\n    render() {\n      const {\n        isLoaded\n      } = this.state;\n      const {\n        className\n      } = this.props;\n      const mapIsLoaded = isLoaded && !!window.google && !!window.google.maps;\n\n      if (mapIsLoaded) {\n        return React.createElement(\"div\", {\n          className: classnames({\n            'map-container': true,\n            [className]: true\n          }),\n          ref: c => {\n            this.container = c;\n          }\n        }, React.createElement(WrappedComponent, this.props));\n      }\n\n      return React.createElement(Loading, null);\n    }\n\n  }\n\n  GoogleMapContainer.propTypes = {\n    className: PropTypes.string\n  };\n  GoogleMapContainer.defaultProps = {\n    className: ''\n  };\n  return GoogleMapContainer;\n};\n\nmodule.exportDefault(googleMapContainer);","map":{"version":3,"sources":["imports/core/components/maps/GoogleMapContainer.jsx"],"names":["googleMapContainer","WrappedComponent","constructor","isLoaded","componentDidMount","GoogleMaps","v","key","Meteor","libraries","setTimeout","componentWillUnmount","render","className","mapIsLoaded","window","classnames","c","GoogleMapContainer","PropTypes","string"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUA,MAAMA,kBAAkB,GAAIC,gBAAD,IAAsB;AAC/C,QAAA,kBAAA,SAAA,SAAA,CAA2C;AACzCC,IAAAA,WAAW,CAAA,KAAA,EAAQ;AACjB,YAAA,KAAA;;AADiB,MAAA,eAAA,CAAA,IAAA,EAAA,gBAAA,EAuBF,MAAM;AACrB,aAAA,OAAA,GAAe,OAAO,CAAP,OAAA,CAAgB,MAAM;AACnC,gBAAMC,QAAQ,GAAGE,UAAU,CAA3B,MAAiBA,EAAjB;AAEA,eAAA,QAAA,CAAc;AAAEF,YAAAA;AAAF,WAAd;AAHF,SAAe,CAAf;AAxBiB,OAAA,CAAA;;AAEjB,WAAA,KAAA,GAAa;AAAEA,QAAAA,QAAQ,EAAE;AAAZ,OAAb;AACD;;AAEDC,IAAAA,iBAAiB,GAAG;AAClBC,MAAAA,UAAU,CAAVA,IAAAA,CAAgB;AACdC,QAAAA,CAAC,EADa,GAAA;AAEdC,QAAAA,GAAG,EAAEC,MAAM,CAANA,QAAAA,CAAAA,MAAAA,CAFS,eAAA;AAGdC,QAAAA,SAAS,EAAE;AAHG,OAAhBJ,EADkB,CAOlB;AACA;;AACAK,MAAAA,UAAU,CAAC,KAAD,cAAA,EAAVA,CAAU,CAAVA;AACD;;AAEDC,IAAAA,oBAAoB,GAAG;AACrB,UAAI,KAAJ,OAAA,EAAkB;AAChB,aAAA,OAAA,CAAA,IAAA;AACD;AACF;;AAUDC,IAAAA,MAAM,GAAG;AACP,YAAM;AAAET,QAAAA;AAAF,UAAe,KAArB,KAAA;AACA,YAAM;AAAEU,QAAAA;AAAF,UAAgB,KAAtB,KAAA;AACA,YAAMC,WAAW,GAAGX,QAAQ,IAAI,CAAC,CAACY,MAAM,CAApBZ,MAAAA,IAA+B,CAAC,CAACY,MAAM,CAANA,MAAAA,CAArD,IAAA;;AAEA,UAAA,WAAA,EAAiB;AACf,eACE;AACE,UAAA,SAAA,EAAWC,UAAU,CAAC;AAAE,6BAAF,IAAA;AAAyB,aAAA,SAAA,GAAa;AAAtC,WAAD,CADvB;AAEE,UAAA,GAAA,EAAMC,CAAD,IAAO;AACV,iBAAA,SAAA,GAAA,CAAA;AAHJ;AAAA,WAME,oBAAA,gBAAA,EAAsB,KAAtB,KAAA,CANF,CADF;AAUD;;AAED,aAAO,oBAAP,OAAO,OAAP;AACD;;AAnDwC;;AAsD3CC,EAAAA,kBAAkB,CAAlBA,SAAAA,GAA+B;AAC7BL,IAAAA,SAAS,EAAEM,SAAS,CAACC;AADQ,GAA/BF;AAIAA,EAAAA,kBAAkB,CAAlBA,YAAAA,GAAkC;AAChCL,IAAAA,SAAS,EAAE;AADqB,GAAlCK;AAIA,SAAA,kBAAA;AA/DF,CAAA;;qBAkEA,kB","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport { GoogleMaps } from 'meteor/epotek:google-maps';\nimport { Tracker } from 'meteor/tracker';\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Loading from '../Loading';\n\nconst googleMapContainer = (WrappedComponent) => {\n  class GoogleMapContainer extends Component {\n    constructor(props) {\n      super(props);\n      this.state = { isLoaded: false };\n    }\n\n    componentDidMount() {\n      GoogleMaps.load({\n        v: '3',\n        key: Meteor.settings.public.google_maps_key,\n        libraries: 'places',\n      });\n\n      // Fuck this, it works for an obscure reason\n      // https://github.com/meteor/react-packages/issues/99#issuecomment-168772806\n      setTimeout(this.trackIsLoading, 0);\n    }\n\n    componentWillUnmount() {\n      if (this.tracker) {\n        this.tracker.stop();\n      }\n    }\n\n    trackIsLoading = () => {\n      this.tracker = Tracker.autorun(() => {\n        const isLoaded = GoogleMaps.loaded();\n\n        this.setState({ isLoaded });\n      });\n    };\n\n    render() {\n      const { isLoaded } = this.state;\n      const { className } = this.props;\n      const mapIsLoaded = isLoaded && !!window.google && !!window.google.maps;\n\n      if (mapIsLoaded) {\n        return (\n          <div\n            className={classnames({ 'map-container': true, [className]: true })}\n            ref={(c) => {\n              this.container = c;\n            }}\n          >\n            <WrappedComponent {...this.props} />\n          </div>\n        );\n      }\n\n      return <Loading />;\n    }\n  }\n\n  GoogleMapContainer.propTypes = {\n    className: PropTypes.string,\n  };\n\n  GoogleMapContainer.defaultProps = {\n    className: '',\n  };\n\n  return GoogleMapContainer;\n};\n\nexport default googleMapContainer;\n"]},"sourceType":"script","hash":"fa54014b309e1817e3d8351152cffee32097d1ed"}
