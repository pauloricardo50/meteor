{"metadata":{},"options":{"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/Florian/dev/epotek/microservices/backend/imports/core/components/ModalManager/test/ModalManager.spec.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties",["flow",{}],"jsx",["flow",{}],["flow",{}],"objectRestSpread","objectRestSpread","dynamicImport","asyncGenerators","classProperties","classPrivateProperties"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"caller":{"name":"meteor","arch":"os.osx.x86_64"},"sourceFileName":"imports/core/components/ModalManager/test/ModalManager.spec.jsx","filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/components/ModalManager/test/ModalManager.spec.jsx","inputSourceMap":{"version":3,"sources":["imports/core/components/ModalManager/test/ModalManager.spec.jsx"],"names":["React","useContext","expect","Dialog","getMountedComponent","ModalManager","ModalManagerContext","TestComp","openModal","content","actions","closeModal","Promise","res","then","returnValue","describe","component","Component","props","closeDialog","find","first","simulate","beforeEach","reset","after","it","length","to","equal","text","last","prop","done","setTimeout","update"],"mappings":"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","sourcesContent":["// @flow\n/* eslint-env mocha */\nimport React, { useContext } from 'react';\nimport { expect } from 'chai';\nimport Dialog from '@material-ui/core/Dialog';\n\nimport getMountedComponent from 'core/utils/testHelpers/getMountedComponent';\n\nimport ModalManager from '../ModalManager';\nimport ModalManagerContext from '../ModalManagerContext';\n\nconst TestComp = () => {\n  const { openModal } = useContext(ModalManagerContext);\n  return (\n    <div>\n      <button\n        id=\"btn1\"\n        type=\"button\"\n        onClick={() =>\n          openModal({\n            content: <div className=\"dialog-1-content\">Hello world</div>,\n          })\n        }\n      >\n        Click me\n      </button>\n      <button\n        id=\"btn2\"\n        type=\"button\"\n        onClick={() =>\n          openModal({\n            content: <div className=\"dialog-2-content\">Hello world</div>,\n          })\n        }\n      >\n        Click me\n      </button>\n      <button\n        id=\"btn3\"\n        type=\"button\"\n        onClick={() =>\n          openModal([\n            { content: <div className=\"dialog-3-content\">Hello world</div> },\n            { content: <div className=\"dialog-4-content\">Hello world</div> },\n            { content: <div className=\"dialog-5-content\">Hello world</div> },\n          ])\n        }\n      >\n        Click me\n      </button>\n      <button\n        id=\"btn4\"\n        type=\"button\"\n        onClick={() =>\n          openModal([\n            {\n              content: <div className=\"dialog-6-content\">Hello world</div>,\n              actions: ({ closeModal }) => (\n                <button\n                  type=\"button\"\n                  className=\"dialog-close\"\n                  onClick={() =>\n                    new Promise((res) => {\n                      res('Promise worked!');\n                    }).then(closeModal)\n                  }\n                >\n                  Close me\n                </button>\n              ),\n            },\n            {\n              content: ({ returnValue }) => (\n                <div className=\"dialog-7-content\">{returnValue}</div>\n              ),\n            },\n          ])\n        }\n      >\n        Click me\n      </button>\n    </div>\n  );\n};\n\ndescribe('ModalManager', () => {\n  const component = () =>\n    getMountedComponent({\n      Component: props => (\n        <ModalManager>\n          <TestComp {...props} />\n        </ModalManager>\n      ),\n    });\n\n  const closeDialog = () =>\n    component()\n      .find('.dialog-close')\n      .first()\n      .simulate('click');\n\n  beforeEach(() => {\n    getMountedComponent.reset();\n  });\n\n  after(() => {\n    // Avoid polluting test reporting UI with an open Modal\n    closeDialog();\n  });\n\n  it('opens a modal', () => {\n    component()\n      .find('button')\n      .first()\n      .simulate('click');\n\n    expect(component().find('.dialog-1-content').length).to.equal(1);\n    expect(component()\n      .find('.dialog-1-content')\n      .text()).to.equal('Hello world');\n  });\n\n  it('closes a modal', () => {\n    component()\n      .find('button')\n      .first()\n      .simulate('click');\n\n    expect(component().find('.dialog-1-content').length).to.equal(1);\n    closeDialog();\n\n    expect(component().find('.dialog-1-content').length).to.equal(0);\n  });\n\n  it('opens 2 modals one after the other', () => {\n    component()\n      .find('#btn1')\n      .first()\n      .simulate('click');\n\n    component()\n      .find('#btn2')\n      .last()\n      .simulate('click');\n\n    expect(component().find('.dialog-1-content').length).to.equal(1);\n\n    closeDialog();\n\n    expect(component().find('.dialog-2-content').length).to.equal(1);\n\n    closeDialog();\n\n    expect(component()\n      .find(Dialog)\n      .prop('open')).to.equal(false);\n  });\n\n  it('allows passing an array of modals', () => {\n    component()\n      .find('#btn3')\n      .first()\n      .simulate('click');\n\n    expect(component().find('.dialog-3-content').length).to.equal(1);\n\n    closeDialog();\n\n    expect(component().find('.dialog-4-content').length).to.equal(1);\n\n    closeDialog();\n\n    expect(component().find('.dialog-5-content').length).to.equal(1);\n\n    closeDialog();\n\n    expect(component()\n      .find(Dialog)\n      .prop('open')).to.equal(false);\n  });\n\n  it('can pass values between modals', (done) => {\n    component()\n      .find('#btn4')\n      .first()\n      .simulate('click');\n\n    expect(component().find('.dialog-6-content').length).to.equal(1);\n\n    closeDialog();\n\n    // Wait for the promise to resolve\n    setTimeout(() => {\n      component().update();\n\n      expect(component().find('.dialog-7-content').length).to.equal(1);\n      expect(component()\n        .find('.dialog-7-content')\n        .text()).to.equal('Promise worked!');\n\n      closeDialog();\n\n      expect(component()\n        .find(Dialog)\n        .prop('open')).to.equal(false);\n\n      done();\n    }, 0);\n  });\n});\n"]},"passPerPreset":false,"envName":"development","cwd":"/Users/Florian/dev/epotek/microservices/backend","root":"/Users/Florian/dev/epotek/microservices/backend","plugins":[{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"syntax-flow","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-runtime","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-meteor-async-await","visitor":{"AwaitExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]},"ClassPrivateMethod":{"exit":[null]}},"options":{"useNativeAsyncAwait":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"transform-modules-commonjs","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}}],"presets":[],"generatorOpts":{"filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/components/ModalManager/test/ModalManager.spec.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/core/components/ModalManager/test/ModalManager.spec.jsx"}},"code":"let React, useContext;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  useContext(v) {\n    useContext = v;\n  }\n\n}, 0);\nlet expect;\nmodule.link(\"chai\", {\n  expect(v) {\n    expect = v;\n  }\n\n}, 1);\nlet Dialog;\nmodule.link(\"@material-ui/core/Dialog\", {\n  default(v) {\n    Dialog = v;\n  }\n\n}, 2);\nlet getMountedComponent;\nmodule.link(\"../../../utils/testHelpers/getMountedComponent\", {\n  default(v) {\n    getMountedComponent = v;\n  }\n\n}, 3);\nlet ModalManager;\nmodule.link(\"../ModalManager\", {\n  default(v) {\n    ModalManager = v;\n  }\n\n}, 4);\nlet ModalManagerContext;\nmodule.link(\"../ModalManagerContext\", {\n  default(v) {\n    ModalManagerContext = v;\n  }\n\n}, 5);\n\nconst TestComp = () => {\n  const {\n    openModal\n  } = useContext(ModalManagerContext);\n  return React.createElement(\"div\", null, React.createElement(\"button\", {\n    id: \"btn1\",\n    type: \"button\",\n    onClick: () => openModal({\n      content: React.createElement(\"div\", {\n        className: \"dialog-1-content\"\n      }, \"Hello world\")\n    })\n  }, \"Click me\"), React.createElement(\"button\", {\n    id: \"btn2\",\n    type: \"button\",\n    onClick: () => openModal({\n      content: React.createElement(\"div\", {\n        className: \"dialog-2-content\"\n      }, \"Hello world\")\n    })\n  }, \"Click me\"), React.createElement(\"button\", {\n    id: \"btn3\",\n    type: \"button\",\n    onClick: () => openModal([{\n      content: React.createElement(\"div\", {\n        className: \"dialog-3-content\"\n      }, \"Hello world\")\n    }, {\n      content: React.createElement(\"div\", {\n        className: \"dialog-4-content\"\n      }, \"Hello world\")\n    }, {\n      content: React.createElement(\"div\", {\n        className: \"dialog-5-content\"\n      }, \"Hello world\")\n    }])\n  }, \"Click me\"), React.createElement(\"button\", {\n    id: \"btn4\",\n    type: \"button\",\n    onClick: () => openModal([{\n      content: React.createElement(\"div\", {\n        className: \"dialog-6-content\"\n      }, \"Hello world\"),\n      actions: ({\n        closeModal\n      }) => React.createElement(\"button\", {\n        type: \"button\",\n        className: \"dialog-close\",\n        onClick: () => new Promise(res => {\n          res('Promise worked!');\n        }).then(closeModal)\n      }, \"Close me\")\n    }, {\n      content: ({\n        returnValue\n      }) => React.createElement(\"div\", {\n        className: \"dialog-7-content\"\n      }, returnValue)\n    }])\n  }, \"Click me\"));\n};\n\ndescribe('ModalManager', () => {\n  const component = () => getMountedComponent({\n    Component: props => React.createElement(ModalManager, null, React.createElement(TestComp, props))\n  });\n\n  const closeDialog = () => component().find('.dialog-close').first().simulate('click');\n\n  beforeEach(() => {\n    getMountedComponent.reset();\n  });\n  after(() => {\n    // Avoid polluting test reporting UI with an open Modal\n    closeDialog();\n  });\n  it('opens a modal', () => {\n    component().find('button').first().simulate('click');\n    expect(component().find('.dialog-1-content').length).to.equal(1);\n    expect(component().find('.dialog-1-content').text()).to.equal('Hello world');\n  });\n  it('closes a modal', () => {\n    component().find('button').first().simulate('click');\n    expect(component().find('.dialog-1-content').length).to.equal(1);\n    closeDialog();\n    expect(component().find('.dialog-1-content').length).to.equal(0);\n  });\n  it('opens 2 modals one after the other', () => {\n    component().find('#btn1').first().simulate('click');\n    component().find('#btn2').last().simulate('click');\n    expect(component().find('.dialog-1-content').length).to.equal(1);\n    closeDialog();\n    expect(component().find('.dialog-2-content').length).to.equal(1);\n    closeDialog();\n    expect(component().find(Dialog).prop('open')).to.equal(false);\n  });\n  it('allows passing an array of modals', () => {\n    component().find('#btn3').first().simulate('click');\n    expect(component().find('.dialog-3-content').length).to.equal(1);\n    closeDialog();\n    expect(component().find('.dialog-4-content').length).to.equal(1);\n    closeDialog();\n    expect(component().find('.dialog-5-content').length).to.equal(1);\n    closeDialog();\n    expect(component().find(Dialog).prop('open')).to.equal(false);\n  });\n  it('can pass values between modals', done => {\n    component().find('#btn4').first().simulate('click');\n    expect(component().find('.dialog-6-content').length).to.equal(1);\n    closeDialog(); // Wait for the promise to resolve\n\n    setTimeout(() => {\n      component().update();\n      expect(component().find('.dialog-7-content').length).to.equal(1);\n      expect(component().find('.dialog-7-content').text()).to.equal('Promise worked!');\n      closeDialog();\n      expect(component().find(Dialog).prop('open')).to.equal(false);\n      done();\n    }, 0);\n  });\n});","map":{"version":3,"sources":["imports/core/components/ModalManager/test/ModalManager.spec.jsx"],"names":["TestComp","openModal","useContext","content","actions","closeModal","res","returnValue","describe","component","getMountedComponent","Component","props","closeDialog","beforeEach","after","it","expect","done","setTimeout"],"mappings":"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","sourcesContent":["// @flow\n/* eslint-env mocha */\nimport React, { useContext } from 'react';\nimport { expect } from 'chai';\nimport Dialog from '@material-ui/core/Dialog';\n\nimport getMountedComponent from 'core/utils/testHelpers/getMountedComponent';\n\nimport ModalManager from '../ModalManager';\nimport ModalManagerContext from '../ModalManagerContext';\n\nconst TestComp = () => {\n  const { openModal } = useContext(ModalManagerContext);\n  return (\n    <div>\n      <button\n        id=\"btn1\"\n        type=\"button\"\n        onClick={() =>\n          openModal({\n            content: <div className=\"dialog-1-content\">Hello world</div>,\n          })\n        }\n      >\n        Click me\n      </button>\n      <button\n        id=\"btn2\"\n        type=\"button\"\n        onClick={() =>\n          openModal({\n            content: <div className=\"dialog-2-content\">Hello world</div>,\n          })\n        }\n      >\n        Click me\n      </button>\n      <button\n        id=\"btn3\"\n        type=\"button\"\n        onClick={() =>\n          openModal([\n            { content: <div className=\"dialog-3-content\">Hello world</div> },\n            { content: <div className=\"dialog-4-content\">Hello world</div> },\n            { content: <div className=\"dialog-5-content\">Hello world</div> },\n          ])\n        }\n      >\n        Click me\n      </button>\n      <button\n        id=\"btn4\"\n        type=\"button\"\n        onClick={() =>\n          openModal([\n            {\n              content: <div className=\"dialog-6-content\">Hello world</div>,\n              actions: ({ closeModal }) => (\n                <button\n                  type=\"button\"\n                  className=\"dialog-close\"\n                  onClick={() =>\n                    new Promise((res) => {\n                      res('Promise worked!');\n                    }).then(closeModal)\n                  }\n                >\n                  Close me\n                </button>\n              ),\n            },\n            {\n              content: ({ returnValue }) => (\n                <div className=\"dialog-7-content\">{returnValue}</div>\n              ),\n            },\n          ])\n        }\n      >\n        Click me\n      </button>\n    </div>\n  );\n};\n\ndescribe('ModalManager', () => {\n  const component = () =>\n    getMountedComponent({\n      Component: props => (\n        <ModalManager>\n          <TestComp {...props} />\n        </ModalManager>\n      ),\n    });\n\n  const closeDialog = () =>\n    component()\n      .find('.dialog-close')\n      .first()\n      .simulate('click');\n\n  beforeEach(() => {\n    getMountedComponent.reset();\n  });\n\n  after(() => {\n    // Avoid polluting test reporting UI with an open Modal\n    closeDialog();\n  });\n\n  it('opens a modal', () => {\n    component()\n      .find('button')\n      .first()\n      .simulate('click');\n\n    expect(component().find('.dialog-1-content').length).to.equal(1);\n    expect(component()\n      .find('.dialog-1-content')\n      .text()).to.equal('Hello world');\n  });\n\n  it('closes a modal', () => {\n    component()\n      .find('button')\n      .first()\n      .simulate('click');\n\n    expect(component().find('.dialog-1-content').length).to.equal(1);\n    closeDialog();\n\n    expect(component().find('.dialog-1-content').length).to.equal(0);\n  });\n\n  it('opens 2 modals one after the other', () => {\n    component()\n      .find('#btn1')\n      .first()\n      .simulate('click');\n\n    component()\n      .find('#btn2')\n      .last()\n      .simulate('click');\n\n    expect(component().find('.dialog-1-content').length).to.equal(1);\n\n    closeDialog();\n\n    expect(component().find('.dialog-2-content').length).to.equal(1);\n\n    closeDialog();\n\n    expect(component()\n      .find(Dialog)\n      .prop('open')).to.equal(false);\n  });\n\n  it('allows passing an array of modals', () => {\n    component()\n      .find('#btn3')\n      .first()\n      .simulate('click');\n\n    expect(component().find('.dialog-3-content').length).to.equal(1);\n\n    closeDialog();\n\n    expect(component().find('.dialog-4-content').length).to.equal(1);\n\n    closeDialog();\n\n    expect(component().find('.dialog-5-content').length).to.equal(1);\n\n    closeDialog();\n\n    expect(component()\n      .find(Dialog)\n      .prop('open')).to.equal(false);\n  });\n\n  it('can pass values between modals', (done) => {\n    component()\n      .find('#btn4')\n      .first()\n      .simulate('click');\n\n    expect(component().find('.dialog-6-content').length).to.equal(1);\n\n    closeDialog();\n\n    // Wait for the promise to resolve\n    setTimeout(() => {\n      component().update();\n\n      expect(component().find('.dialog-7-content').length).to.equal(1);\n      expect(component()\n        .find('.dialog-7-content')\n        .text()).to.equal('Promise worked!');\n\n      closeDialog();\n\n      expect(component()\n        .find(Dialog)\n        .prop('open')).to.equal(false);\n\n      done();\n    }, 0);\n  });\n});\n"]},"sourceType":"script","hash":"9512cfd8ae320b4249c659eca2c343a169d0c61b"}
