{"metadata":{},"options":{"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/Florian/dev/epotek/microservices/backend/imports/core/components/maps/GoogleMap.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties",["flow",{}],"dynamicImport","classProperties","classPrivateProperties","jsx",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"imports/core/components/maps/GoogleMap.jsx","filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/components/maps/GoogleMap.jsx","inputSourceMap":{"version":3,"sources":["imports/core/components/maps/GoogleMap.jsx"],"names":["Meteor","GoogleMaps","React","Component","PropTypes","merge","defaultOptions","GoogleMap","id","latlng","address","withMarker","props","ready","map","infowindow","window","google","maps","InfoWindow","content","instance","setCenter","marker","Marker","draggable","animation","Animation","DROP","position","addListener","open","setTimeout","componentDidMount","options","combinedOptions","center","create","name","element","addMarker","componentWillUnmount","event","clearInstanceListeners","render","component","propTypes","string","object","isRequired","bool","defaultProps","undefined"],"mappings":"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","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport { GoogleMaps } from 'meteor/epotek:google-maps';\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport merge from 'lodash/merge';\n\nimport defaultOptions from './defaultOptions';\n\nexport default class GoogleMap extends Component {\n  componentDidMount() {\n    const { id, latlng, options } = this.props;\n    const combinedOptions = merge(\n      {},\n      defaultOptions,\n      { center: latlng },\n      options,\n    );\n\n    GoogleMaps.create({\n      name: id,\n      element: this.map,\n      options: combinedOptions,\n    });\n\n    this.addMarker();\n  }\n\n  componentWillUnmount() {\n    const { id } = this.props;\n    if (GoogleMaps.maps[id]) {\n      window.google.maps.event.clearInstanceListeners(GoogleMaps.maps[id].instance);\n      delete GoogleMaps.maps[id];\n    }\n  }\n\n  addMarker = () => {\n    const { id, latlng, address, withMarker } = this.props;\n\n    GoogleMaps.ready(id, (map) => {\n      const infowindow = new window.google.maps.InfoWindow({\n        content: address,\n      });\n\n      map.instance.setCenter(latlng);\n\n      if (withMarker) {\n        const marker = new window.google.maps.Marker({\n          draggable: false,\n          animation: window.google.maps.Animation.DROP,\n          position: latlng,\n          map: map.instance,\n          id: 'propertyMarker',\n        });\n\n        marker.addListener('click', () => {\n          infowindow.open(map.instance, marker);\n        });\n\n        Meteor.setTimeout(() => infowindow.open(map.instance, marker), 1000);\n      }\n    });\n  };\n\n  render() {\n    return (\n      <div\n        className=\"google-map\"\n        id={this.props.id}\n        ref={(component) => {\n          this.map = component;\n        }}\n      />\n    );\n  }\n}\n\nGoogleMap.propTypes = {\n  address: PropTypes.string,\n  id: PropTypes.string,\n  latlng: PropTypes.object.isRequired,\n  options: PropTypes.object,\n  withMarker: PropTypes.bool,\n};\n\nGoogleMap.defaultProps = {\n  id: 'myMap',\n  address: undefined,\n  options: {},\n  withMarker: true,\n};\n"]},"passPerPreset":false,"envName":"development","cwd":"/Users/Florian/dev/epotek/microservices/backend","root":"/Users/Florian/dev/epotek/microservices/backend","plugins":[{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"transform-runtime","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-modules-commonjs","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-flow","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]},"ClassPrivateMethod":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/components/maps/GoogleMap.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/core/components/maps/GoogleMap.jsx"}},"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nmodule.export({\n  \"default\": function () {\n    return GoogleMap;\n  }\n});\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar GoogleMaps;\nmodule.link(\"meteor/epotek:google-maps\", {\n  GoogleMaps: function (v) {\n    GoogleMaps = v;\n  }\n}, 1);\nvar React, Component;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 2);\nvar PropTypes;\nmodule.link(\"prop-types\", {\n  \"default\": function (v) {\n    PropTypes = v;\n  }\n}, 3);\nvar merge;\nmodule.link(\"lodash/merge\", {\n  \"default\": function (v) {\n    merge = v;\n  }\n}, 4);\nvar defaultOptions;\nmodule.link(\"./defaultOptions\", {\n  \"default\": function (v) {\n    defaultOptions = v;\n  }\n}, 5);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar GoogleMap =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inheritsLoose2.default)(GoogleMap, _Component);\n\n  function GoogleMap() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty((0, _assertThisInitialized2.default)(_this), \"addMarker\", function () {\n      var _this$props = _this.props,\n          id = _this$props.id,\n          latlng = _this$props.latlng,\n          address = _this$props.address,\n          withMarker = _this$props.withMarker;\n      GoogleMaps.ready(id, function (map) {\n        var infowindow = new window.google.maps.InfoWindow({\n          content: address\n        });\n        map.instance.setCenter(latlng);\n\n        if (withMarker) {\n          var marker = new window.google.maps.Marker({\n            draggable: false,\n            animation: window.google.maps.Animation.DROP,\n            position: latlng,\n            map: map.instance,\n            id: 'propertyMarker'\n          });\n          marker.addListener('click', function () {\n            infowindow.open(map.instance, marker);\n          });\n          Meteor.setTimeout(function () {\n            return infowindow.open(map.instance, marker);\n          }, 1000);\n        }\n      });\n    });\n\n    return _this;\n  }\n\n  var _proto = GoogleMap.prototype;\n\n  _proto.componentDidMount = function () {\n    function componentDidMount() {\n      var _this$props2 = this.props,\n          id = _this$props2.id,\n          latlng = _this$props2.latlng,\n          options = _this$props2.options;\n      var combinedOptions = merge({}, defaultOptions, {\n        center: latlng\n      }, options);\n      GoogleMaps.create({\n        name: id,\n        element: this.map,\n        options: combinedOptions\n      });\n      this.addMarker();\n    }\n\n    return componentDidMount;\n  }();\n\n  _proto.componentWillUnmount = function () {\n    function componentWillUnmount() {\n      var id = this.props.id;\n\n      if (GoogleMaps.maps[id]) {\n        window.google.maps.event.clearInstanceListeners(GoogleMaps.maps[id].instance);\n        delete GoogleMaps.maps[id];\n      }\n    }\n\n    return componentWillUnmount;\n  }();\n\n  _proto.render = function () {\n    function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"google-map\",\n        id: this.props.id,\n        ref: function (component) {\n          _this2.map = component;\n        }\n      });\n    }\n\n    return render;\n  }();\n\n  return GoogleMap;\n}(Component);\n\nGoogleMap.propTypes = {\n  address: PropTypes.string,\n  id: PropTypes.string,\n  latlng: PropTypes.object.isRequired,\n  options: PropTypes.object,\n  withMarker: PropTypes.bool\n};\nGoogleMap.defaultProps = {\n  id: 'myMap',\n  address: undefined,\n  options: {},\n  withMarker: true\n};","map":{"version":3,"sources":["imports/core/components/maps/GoogleMap.jsx"],"names":["componentDidMount","options","combinedOptions","merge","center","latlng","GoogleMaps","name","element","componentWillUnmount","id","window","withMarker","map","infowindow","content","address","marker","draggable","animation","position","Meteor","render","component","GoogleMap","PropTypes","bool"],"mappings":"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","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport { GoogleMaps } from 'meteor/epotek:google-maps';\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport merge from 'lodash/merge';\n\nimport defaultOptions from './defaultOptions';\n\nexport default class GoogleMap extends Component {\n  componentDidMount() {\n    const { id, latlng, options } = this.props;\n    const combinedOptions = merge(\n      {},\n      defaultOptions,\n      { center: latlng },\n      options,\n    );\n\n    GoogleMaps.create({\n      name: id,\n      element: this.map,\n      options: combinedOptions,\n    });\n\n    this.addMarker();\n  }\n\n  componentWillUnmount() {\n    const { id } = this.props;\n    if (GoogleMaps.maps[id]) {\n      window.google.maps.event.clearInstanceListeners(GoogleMaps.maps[id].instance);\n      delete GoogleMaps.maps[id];\n    }\n  }\n\n  addMarker = () => {\n    const { id, latlng, address, withMarker } = this.props;\n\n    GoogleMaps.ready(id, (map) => {\n      const infowindow = new window.google.maps.InfoWindow({\n        content: address,\n      });\n\n      map.instance.setCenter(latlng);\n\n      if (withMarker) {\n        const marker = new window.google.maps.Marker({\n          draggable: false,\n          animation: window.google.maps.Animation.DROP,\n          position: latlng,\n          map: map.instance,\n          id: 'propertyMarker',\n        });\n\n        marker.addListener('click', () => {\n          infowindow.open(map.instance, marker);\n        });\n\n        Meteor.setTimeout(() => infowindow.open(map.instance, marker), 1000);\n      }\n    });\n  };\n\n  render() {\n    return (\n      <div\n        className=\"google-map\"\n        id={this.props.id}\n        ref={(component) => {\n          this.map = component;\n        }}\n      />\n    );\n  }\n}\n\nGoogleMap.propTypes = {\n  address: PropTypes.string,\n  id: PropTypes.string,\n  latlng: PropTypes.object.isRequired,\n  options: PropTypes.object,\n  withMarker: PropTypes.bool,\n};\n\nGoogleMap.defaultProps = {\n  id: 'myMap',\n  address: undefined,\n  options: {},\n  withMarker: true,\n};\n"]},"sourceType":"script","hash":"c3d614a3f75218fad77fa29dafe1527042a5eb0b"}
