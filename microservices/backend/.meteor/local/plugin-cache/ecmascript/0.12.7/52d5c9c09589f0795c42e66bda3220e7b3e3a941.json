{"metadata":{},"options":{"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/Florian/dev/epotek/microservices/backend/imports/core/components/maps/GoogleMap.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties",["flow",{}],"jsx",["flow",{}],["flow",{}],"objectRestSpread","objectRestSpread","dynamicImport","asyncGenerators","classProperties","classPrivateProperties"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"caller":{"name":"meteor","arch":"os.osx.x86_64"},"sourceFileName":"imports/core/components/maps/GoogleMap.jsx","filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/components/maps/GoogleMap.jsx","inputSourceMap":{"version":3,"sources":["imports/core/components/maps/GoogleMap.jsx"],"names":["Meteor","GoogleMaps","React","Component","PropTypes","merge","defaultOptions","GoogleMap","id","latlng","address","withMarker","props","ready","map","infowindow","window","google","maps","InfoWindow","content","instance","setCenter","marker","Marker","draggable","animation","Animation","DROP","position","addListener","open","setTimeout","componentDidMount","options","combinedOptions","center","create","name","element","addMarker","componentWillUnmount","event","clearInstanceListeners","render","component","propTypes","string","object","isRequired","bool","defaultProps","undefined"],"mappings":"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","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport { GoogleMaps } from 'meteor/epotek:google-maps';\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport merge from 'lodash/merge';\n\nimport defaultOptions from './defaultOptions';\n\nexport default class GoogleMap extends Component {\n  componentDidMount() {\n    const { id, latlng, options } = this.props;\n    const combinedOptions = merge(\n      {},\n      defaultOptions,\n      { center: latlng },\n      options,\n    );\n\n    GoogleMaps.create({\n      name: id,\n      element: this.map,\n      options: combinedOptions,\n    });\n\n    this.addMarker();\n  }\n\n  componentWillUnmount() {\n    const { id } = this.props;\n    if (GoogleMaps.maps[id]) {\n      window.google.maps.event.clearInstanceListeners(GoogleMaps.maps[id].instance);\n      delete GoogleMaps.maps[id];\n    }\n  }\n\n  addMarker = () => {\n    const { id, latlng, address, withMarker } = this.props;\n\n    GoogleMaps.ready(id, (map) => {\n      const infowindow = new window.google.maps.InfoWindow({\n        content: address,\n      });\n\n      map.instance.setCenter(latlng);\n\n      if (withMarker) {\n        const marker = new window.google.maps.Marker({\n          draggable: false,\n          animation: window.google.maps.Animation.DROP,\n          position: latlng,\n          map: map.instance,\n          id: 'propertyMarker',\n        });\n\n        marker.addListener('click', () => {\n          infowindow.open(map.instance, marker);\n        });\n\n        Meteor.setTimeout(() => infowindow.open(map.instance, marker), 1000);\n      }\n    });\n  };\n\n  render() {\n    return (\n      <div\n        className=\"google-map\"\n        id={this.props.id}\n        ref={(component) => {\n          this.map = component;\n        }}\n      />\n    );\n  }\n}\n\nGoogleMap.propTypes = {\n  address: PropTypes.string,\n  id: PropTypes.string,\n  latlng: PropTypes.object.isRequired,\n  options: PropTypes.object,\n  withMarker: PropTypes.bool,\n};\n\nGoogleMap.defaultProps = {\n  id: 'myMap',\n  address: undefined,\n  options: {},\n  withMarker: true,\n};\n"]},"passPerPreset":false,"envName":"development","cwd":"/Users/Florian/dev/epotek/microservices/backend","root":"/Users/Florian/dev/epotek/microservices/backend","plugins":[{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"syntax-flow","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-runtime","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-meteor-async-await","visitor":{"AwaitExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]},"ClassPrivateMethod":{"exit":[null]}},"options":{"useNativeAsyncAwait":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"transform-modules-commonjs","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}}],"presets":[],"generatorOpts":{"filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/components/maps/GoogleMap.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/core/components/maps/GoogleMap.jsx"}},"code":"module.export({\n  default: () => GoogleMap\n});\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet GoogleMaps;\nmodule.link(\"meteor/epotek:google-maps\", {\n  GoogleMaps(v) {\n    GoogleMaps = v;\n  }\n\n}, 1);\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 2);\nlet PropTypes;\nmodule.link(\"prop-types\", {\n  default(v) {\n    PropTypes = v;\n  }\n\n}, 3);\nlet merge;\nmodule.link(\"lodash/merge\", {\n  default(v) {\n    merge = v;\n  }\n\n}, 4);\nlet defaultOptions;\nmodule.link(\"./defaultOptions\", {\n  default(v) {\n    defaultOptions = v;\n  }\n\n}, 5);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nclass GoogleMap extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"addMarker\", () => {\n      const {\n        id,\n        latlng,\n        address,\n        withMarker\n      } = this.props;\n      GoogleMaps.ready(id, map => {\n        const infowindow = new window.google.maps.InfoWindow({\n          content: address\n        });\n        map.instance.setCenter(latlng);\n\n        if (withMarker) {\n          const marker = new window.google.maps.Marker({\n            draggable: false,\n            animation: window.google.maps.Animation.DROP,\n            position: latlng,\n            map: map.instance,\n            id: 'propertyMarker'\n          });\n          marker.addListener('click', () => {\n            infowindow.open(map.instance, marker);\n          });\n          Meteor.setTimeout(() => infowindow.open(map.instance, marker), 1000);\n        }\n      });\n    });\n  }\n\n  componentDidMount() {\n    const {\n      id,\n      latlng,\n      options\n    } = this.props;\n    const combinedOptions = merge({}, defaultOptions, {\n      center: latlng\n    }, options);\n    GoogleMaps.create({\n      name: id,\n      element: this.map,\n      options: combinedOptions\n    });\n    this.addMarker();\n  }\n\n  componentWillUnmount() {\n    const {\n      id\n    } = this.props;\n\n    if (GoogleMaps.maps[id]) {\n      window.google.maps.event.clearInstanceListeners(GoogleMaps.maps[id].instance);\n      delete GoogleMaps.maps[id];\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"google-map\",\n      id: this.props.id,\n      ref: component => {\n        this.map = component;\n      }\n    });\n  }\n\n}\n\nGoogleMap.propTypes = {\n  address: PropTypes.string,\n  id: PropTypes.string,\n  latlng: PropTypes.object.isRequired,\n  options: PropTypes.object,\n  withMarker: PropTypes.bool\n};\nGoogleMap.defaultProps = {\n  id: 'myMap',\n  address: undefined,\n  options: {},\n  withMarker: true\n};","map":{"version":3,"sources":["imports/core/components/maps/GoogleMap.jsx"],"names":["componentDidMount","options","combinedOptions","merge","center","latlng","GoogleMaps","name","element","componentWillUnmount","id","window","withMarker","map","infowindow","content","address","marker","draggable","animation","position","Meteor","render","component","GoogleMap","PropTypes","bool"],"mappings":"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","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport { GoogleMaps } from 'meteor/epotek:google-maps';\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport merge from 'lodash/merge';\n\nimport defaultOptions from './defaultOptions';\n\nexport default class GoogleMap extends Component {\n  componentDidMount() {\n    const { id, latlng, options } = this.props;\n    const combinedOptions = merge(\n      {},\n      defaultOptions,\n      { center: latlng },\n      options,\n    );\n\n    GoogleMaps.create({\n      name: id,\n      element: this.map,\n      options: combinedOptions,\n    });\n\n    this.addMarker();\n  }\n\n  componentWillUnmount() {\n    const { id } = this.props;\n    if (GoogleMaps.maps[id]) {\n      window.google.maps.event.clearInstanceListeners(GoogleMaps.maps[id].instance);\n      delete GoogleMaps.maps[id];\n    }\n  }\n\n  addMarker = () => {\n    const { id, latlng, address, withMarker } = this.props;\n\n    GoogleMaps.ready(id, (map) => {\n      const infowindow = new window.google.maps.InfoWindow({\n        content: address,\n      });\n\n      map.instance.setCenter(latlng);\n\n      if (withMarker) {\n        const marker = new window.google.maps.Marker({\n          draggable: false,\n          animation: window.google.maps.Animation.DROP,\n          position: latlng,\n          map: map.instance,\n          id: 'propertyMarker',\n        });\n\n        marker.addListener('click', () => {\n          infowindow.open(map.instance, marker);\n        });\n\n        Meteor.setTimeout(() => infowindow.open(map.instance, marker), 1000);\n      }\n    });\n  };\n\n  render() {\n    return (\n      <div\n        className=\"google-map\"\n        id={this.props.id}\n        ref={(component) => {\n          this.map = component;\n        }}\n      />\n    );\n  }\n}\n\nGoogleMap.propTypes = {\n  address: PropTypes.string,\n  id: PropTypes.string,\n  latlng: PropTypes.object.isRequired,\n  options: PropTypes.object,\n  withMarker: PropTypes.bool,\n};\n\nGoogleMap.defaultProps = {\n  id: 'myMap',\n  address: undefined,\n  options: {},\n  withMarker: true,\n};\n"]},"sourceType":"script","hash":"52d5c9c09589f0795c42e66bda3220e7b3e3a941"}
