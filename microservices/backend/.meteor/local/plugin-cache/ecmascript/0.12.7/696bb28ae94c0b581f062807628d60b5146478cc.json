{"metadata":{},"options":{"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/Florian/dev/epotek/microservices/backend/imports/core/api/factories/factories.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties",["flow",{}],"jsx",["flow",{}],["flow",{}],"objectRestSpread","objectRestSpread","dynamicImport","asyncGenerators","classProperties","classPrivateProperties"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"caller":{"name":"meteor","arch":"os.osx.x86_64"},"sourceFileName":"imports/core/api/factories/factories.js","filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/api/factories/factories.js","inputSourceMap":{"version":3,"sources":["imports/core/api/factories/factories.js"],"names":["Factory","faker","LOT_TYPES","ORGANISATION_TYPES","PROMOTION_TYPES","REVENUE_TYPES","ROLES","STEPS","TASK_STATUS","DEFAULT_VALUE_FOR_ALL","DEFAULT_MAIN_RESIDENCE_RULES","DEFAULT_SECONDARY_RESIDENCE_RULES","Borrowers","Contacts","InterestRates","LenderRules","Lenders","Loans","Lots","MortgageNotes","Offers","Organisations","PromotionLots","PromotionOptions","Promotions","Properties","Revenues","Tasks","Users","PROPERTY_CATEGORY","RESIDENCE_TYPE","Notifications","Activities","LOAN_CATEGORIES","TEST_LASTNAME","TEST_FIRSTNAME","TEST_PHONE","getRandomLoanName","Math","floor","random","define","roles","USER","emails","address","internet","email","verified","lastName","firstName","phoneNumbers","DEV","ADMIN","PRO","createdAt","Date","status","ACTIVE","borrowerIds","documents","step","SOLVENCY","name","findOne","propertyIds","category","RETAIL","residenceType","MAIN_RESIDENCE","value","userId","uuid","canton","conditions","maxAmount","amortizationGoal","type","CREDIT","PARKING_CAR","company","companyName","BANK","filter","and","order","amount","MORTGAGE","maxBorrowRatio"],"mappings":"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","sourcesContent":["import { Factory } from 'meteor/dburles:factory';\nimport faker from 'faker';\n\nimport {\n  LOT_TYPES,\n  ORGANISATION_TYPES,\n  PROMOTION_TYPES,\n  REVENUE_TYPES,\n  ROLES,\n  STEPS,\n  TASK_STATUS,\n  DEFAULT_VALUE_FOR_ALL,\n  DEFAULT_MAIN_RESIDENCE_RULES,\n  DEFAULT_SECONDARY_RESIDENCE_RULES,\n} from '../constants';\nimport {\n  Borrowers,\n  Contacts,\n  InterestRates,\n  LenderRules,\n  Lenders,\n  Loans,\n  Lots,\n  MortgageNotes,\n  Offers,\n  Organisations,\n  PromotionLots,\n  PromotionOptions,\n  Promotions,\n  Properties,\n  Revenues,\n  Tasks,\n  Users,\n} from '..';\nimport {\n  PROPERTY_CATEGORY,\n  RESIDENCE_TYPE,\n} from '../properties/propertyConstants';\nimport Notifications from '../notifications/index';\nimport Activities from '../activities/index';\nimport { LOAN_CATEGORIES } from '../loans/loanConstants';\n\nconst TEST_LASTNAME = 'TestLastName';\nconst TEST_FIRSTNAME = 'TestFirstName';\nconst TEST_PHONE = '0123456789';\n\nconst getRandomLoanName = () => `19-0${Math.floor(Math.random() * 899 + 100)}`;\n\nFactory.define('user', Users, {\n  roles: [ROLES.USER],\n  emails: () => [{ address: faker.internet.email(), verified: false }],\n  lastName: TEST_LASTNAME,\n  firstName: TEST_FIRSTNAME,\n  phoneNumbers: [TEST_PHONE],\n});\n\nFactory.define('dev', Users, {\n  roles: [ROLES.DEV],\n  emails: () => [{ address: faker.internet.email(), verified: false }],\n  lastName: TEST_LASTNAME,\n  firstName: TEST_FIRSTNAME,\n  phoneNumbers: [TEST_PHONE],\n});\n\nFactory.define('admin', Users, {\n  roles: [ROLES.ADMIN],\n  emails: () => [{ address: faker.internet.email(), verified: false }],\n  lastName: TEST_LASTNAME,\n  firstName: TEST_FIRSTNAME,\n  phoneNumbers: [TEST_PHONE],\n});\n\nFactory.define('adminEpotek', Users, {\n  roles: [ROLES.ADMIN],\n  emails: () => [{ address: 'dev@e-potek.ch', verified: true }],\n  lastName: 'e-Potek',\n  firstName: 'Dev',\n  phoneNumbers: [TEST_PHONE],\n});\n\nFactory.define('pro', Users, {\n  roles: [ROLES.PRO],\n  emails: () => [{ address: faker.internet.email(), verified: false }],\n  lastName: TEST_LASTNAME,\n  firstName: TEST_FIRSTNAME,\n  phoneNumbers: [TEST_PHONE],\n});\n\nFactory.define('borrower', Borrowers);\n\nFactory.define('task', Tasks, {\n  createdAt: () => new Date(),\n  status: TASK_STATUS.ACTIVE,\n});\n\nFactory.define('loan', Loans, {\n  createdAt: () => new Date(),\n  borrowerIds: [],\n  documents: () => ({}),\n  step: STEPS.SOLVENCY,\n  name: () => {\n    // there is a 1/900% chance that 2 loan names collide,\n    // make sure it never happens instead\n    while (true) {\n      const name = getRandomLoanName();\n\n      if (!Loans.findOne({ name })) {\n        return name;\n      }\n    }\n  },\n  emails: () => [],\n  propertyIds: [],\n  category: LOAN_CATEGORIES.RETAIL,\n  residenceType: RESIDENCE_TYPE.MAIN_RESIDENCE,\n});\n\nFactory.define('property', Properties, {\n  value: 1000000,\n  category: PROPERTY_CATEGORY.USER,\n});\n\nFactory.define('offer', Offers, {\n  userId: () => faker.random.uuid(),\n  createdAt: () => new Date(),\n  canton: 'GE',\n  conditions: ['Do something'],\n  maxAmount: 800000,\n  amortizationGoal: 0.65,\n});\n\nFactory.define('promotion', Promotions, {\n  name: 'Test promotion',\n  type: PROMOTION_TYPES.CREDIT,\n});\n\nFactory.define('promotionOption', PromotionOptions, {});\nFactory.define('promotionLot', PromotionLots, {});\n\nFactory.define('lot', Lots, {\n  name: 'test',\n  type: LOT_TYPES.PARKING_CAR,\n  value: 1000,\n});\n\nFactory.define('task', Tasks, {});\n\nFactory.define('mortgageNote', MortgageNotes, {\n  value: 100000,\n  canton: 'GE',\n});\n\nFactory.define('organisation', Organisations, {\n  name: () => {\n    // Make sure organisation names don't collide\n    while (true) {\n      const name = faker.company.companyName();\n\n      if (!Organisations.findOne({ name })) {\n        return name;\n      }\n    }\n  },\n  type: ORGANISATION_TYPES.BANK,\n});\n\nFactory.define('lender', Lenders, {});\n\nFactory.define('interestRates', InterestRates, {});\n\nFactory.define('contact', Contacts, {\n  firstName: 'John',\n  lastName: 'Doe',\n});\n\nFactory.define('lenderRules', LenderRules, {\n  filter: { and: [] },\n  order: 0,\n});\n\nFactory.define('revenues', Revenues, {\n  amount: 1000,\n  type: REVENUE_TYPES.MORTGAGE,\n});\n\nFactory.define('lenderRulesAll', LenderRules, {\n  ...DEFAULT_VALUE_FOR_ALL,\n  order: 0,\n  filter: { and: [true] },\n});\n\nFactory.define('lenderRulesMain', LenderRules, {\n  maxBorrowRatio: 0.8,\n  order: 0,\n  filter: { and: DEFAULT_MAIN_RESIDENCE_RULES },\n});\n\nFactory.define('lenderRulesSecondary', LenderRules, {\n  maxBorrowRatio: 0.7,\n  order: 0,\n  filter: { and: DEFAULT_SECONDARY_RESIDENCE_RULES },\n});\n\nFactory.define('notification', Notifications, {});\n\nFactory.define('activity', Activities, {});\n"]},"passPerPreset":false,"envName":"development","cwd":"/Users/Florian/dev/epotek/microservices/backend","root":"/Users/Florian/dev/epotek/microservices/backend","plugins":[{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"syntax-flow","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-runtime","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-meteor-async-await","visitor":{"AwaitExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]},"ClassPrivateMethod":{"exit":[null]}},"options":{"useNativeAsyncAwait":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"transform-modules-commonjs","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}}],"presets":[],"generatorOpts":{"filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/api/factories/factories.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/core/api/factories/factories.js"}},"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nlet Factory;\nmodule.link(\"meteor/dburles:factory\", {\n  Factory(v) {\n    Factory = v;\n  }\n\n}, 0);\nlet faker;\nmodule.link(\"faker\", {\n  default(v) {\n    faker = v;\n  }\n\n}, 1);\nlet LOT_TYPES, ORGANISATION_TYPES, PROMOTION_TYPES, REVENUE_TYPES, ROLES, STEPS, TASK_STATUS, DEFAULT_VALUE_FOR_ALL, DEFAULT_MAIN_RESIDENCE_RULES, DEFAULT_SECONDARY_RESIDENCE_RULES;\nmodule.link(\"../constants\", {\n  LOT_TYPES(v) {\n    LOT_TYPES = v;\n  },\n\n  ORGANISATION_TYPES(v) {\n    ORGANISATION_TYPES = v;\n  },\n\n  PROMOTION_TYPES(v) {\n    PROMOTION_TYPES = v;\n  },\n\n  REVENUE_TYPES(v) {\n    REVENUE_TYPES = v;\n  },\n\n  ROLES(v) {\n    ROLES = v;\n  },\n\n  STEPS(v) {\n    STEPS = v;\n  },\n\n  TASK_STATUS(v) {\n    TASK_STATUS = v;\n  },\n\n  DEFAULT_VALUE_FOR_ALL(v) {\n    DEFAULT_VALUE_FOR_ALL = v;\n  },\n\n  DEFAULT_MAIN_RESIDENCE_RULES(v) {\n    DEFAULT_MAIN_RESIDENCE_RULES = v;\n  },\n\n  DEFAULT_SECONDARY_RESIDENCE_RULES(v) {\n    DEFAULT_SECONDARY_RESIDENCE_RULES = v;\n  }\n\n}, 2);\nlet Borrowers, Contacts, InterestRates, LenderRules, Lenders, Loans, Lots, MortgageNotes, Offers, Organisations, PromotionLots, PromotionOptions, Promotions, Properties, Revenues, Tasks, Users;\nmodule.link(\"..\", {\n  Borrowers(v) {\n    Borrowers = v;\n  },\n\n  Contacts(v) {\n    Contacts = v;\n  },\n\n  InterestRates(v) {\n    InterestRates = v;\n  },\n\n  LenderRules(v) {\n    LenderRules = v;\n  },\n\n  Lenders(v) {\n    Lenders = v;\n  },\n\n  Loans(v) {\n    Loans = v;\n  },\n\n  Lots(v) {\n    Lots = v;\n  },\n\n  MortgageNotes(v) {\n    MortgageNotes = v;\n  },\n\n  Offers(v) {\n    Offers = v;\n  },\n\n  Organisations(v) {\n    Organisations = v;\n  },\n\n  PromotionLots(v) {\n    PromotionLots = v;\n  },\n\n  PromotionOptions(v) {\n    PromotionOptions = v;\n  },\n\n  Promotions(v) {\n    Promotions = v;\n  },\n\n  Properties(v) {\n    Properties = v;\n  },\n\n  Revenues(v) {\n    Revenues = v;\n  },\n\n  Tasks(v) {\n    Tasks = v;\n  },\n\n  Users(v) {\n    Users = v;\n  }\n\n}, 3);\nlet PROPERTY_CATEGORY, RESIDENCE_TYPE;\nmodule.link(\"../properties/propertyConstants\", {\n  PROPERTY_CATEGORY(v) {\n    PROPERTY_CATEGORY = v;\n  },\n\n  RESIDENCE_TYPE(v) {\n    RESIDENCE_TYPE = v;\n  }\n\n}, 4);\nlet Notifications;\nmodule.link(\"../notifications/index\", {\n  default(v) {\n    Notifications = v;\n  }\n\n}, 5);\nlet Activities;\nmodule.link(\"../activities/index\", {\n  default(v) {\n    Activities = v;\n  }\n\n}, 6);\nlet LOAN_CATEGORIES;\nmodule.link(\"../loans/loanConstants\", {\n  LOAN_CATEGORIES(v) {\n    LOAN_CATEGORIES = v;\n  }\n\n}, 7);\nconst TEST_LASTNAME = 'TestLastName';\nconst TEST_FIRSTNAME = 'TestFirstName';\nconst TEST_PHONE = '0123456789';\n\nconst getRandomLoanName = () => `19-0${Math.floor(Math.random() * 899 + 100)}`;\n\nFactory.define('user', Users, {\n  roles: [ROLES.USER],\n  emails: () => [{\n    address: faker.internet.email(),\n    verified: false\n  }],\n  lastName: TEST_LASTNAME,\n  firstName: TEST_FIRSTNAME,\n  phoneNumbers: [TEST_PHONE]\n});\nFactory.define('dev', Users, {\n  roles: [ROLES.DEV],\n  emails: () => [{\n    address: faker.internet.email(),\n    verified: false\n  }],\n  lastName: TEST_LASTNAME,\n  firstName: TEST_FIRSTNAME,\n  phoneNumbers: [TEST_PHONE]\n});\nFactory.define('admin', Users, {\n  roles: [ROLES.ADMIN],\n  emails: () => [{\n    address: faker.internet.email(),\n    verified: false\n  }],\n  lastName: TEST_LASTNAME,\n  firstName: TEST_FIRSTNAME,\n  phoneNumbers: [TEST_PHONE]\n});\nFactory.define('adminEpotek', Users, {\n  roles: [ROLES.ADMIN],\n  emails: () => [{\n    address: 'dev@e-potek.ch',\n    verified: true\n  }],\n  lastName: 'e-Potek',\n  firstName: 'Dev',\n  phoneNumbers: [TEST_PHONE]\n});\nFactory.define('pro', Users, {\n  roles: [ROLES.PRO],\n  emails: () => [{\n    address: faker.internet.email(),\n    verified: false\n  }],\n  lastName: TEST_LASTNAME,\n  firstName: TEST_FIRSTNAME,\n  phoneNumbers: [TEST_PHONE]\n});\nFactory.define('borrower', Borrowers);\nFactory.define('task', Tasks, {\n  createdAt: () => new Date(),\n  status: TASK_STATUS.ACTIVE\n});\nFactory.define('loan', Loans, {\n  createdAt: () => new Date(),\n  borrowerIds: [],\n  documents: () => ({}),\n  step: STEPS.SOLVENCY,\n  name: () => {\n    // there is a 1/900% chance that 2 loan names collide,\n    // make sure it never happens instead\n    while (true) {\n      const name = getRandomLoanName();\n\n      if (!Loans.findOne({\n        name\n      })) {\n        return name;\n      }\n    }\n  },\n  emails: () => [],\n  propertyIds: [],\n  category: LOAN_CATEGORIES.RETAIL,\n  residenceType: RESIDENCE_TYPE.MAIN_RESIDENCE\n});\nFactory.define('property', Properties, {\n  value: 1000000,\n  category: PROPERTY_CATEGORY.USER\n});\nFactory.define('offer', Offers, {\n  userId: () => faker.random.uuid(),\n  createdAt: () => new Date(),\n  canton: 'GE',\n  conditions: ['Do something'],\n  maxAmount: 800000,\n  amortizationGoal: 0.65\n});\nFactory.define('promotion', Promotions, {\n  name: 'Test promotion',\n  type: PROMOTION_TYPES.CREDIT\n});\nFactory.define('promotionOption', PromotionOptions, {});\nFactory.define('promotionLot', PromotionLots, {});\nFactory.define('lot', Lots, {\n  name: 'test',\n  type: LOT_TYPES.PARKING_CAR,\n  value: 1000\n});\nFactory.define('task', Tasks, {});\nFactory.define('mortgageNote', MortgageNotes, {\n  value: 100000,\n  canton: 'GE'\n});\nFactory.define('organisation', Organisations, {\n  name: () => {\n    // Make sure organisation names don't collide\n    while (true) {\n      const name = faker.company.companyName();\n\n      if (!Organisations.findOne({\n        name\n      })) {\n        return name;\n      }\n    }\n  },\n  type: ORGANISATION_TYPES.BANK\n});\nFactory.define('lender', Lenders, {});\nFactory.define('interestRates', InterestRates, {});\nFactory.define('contact', Contacts, {\n  firstName: 'John',\n  lastName: 'Doe'\n});\nFactory.define('lenderRules', LenderRules, {\n  filter: {\n    and: []\n  },\n  order: 0\n});\nFactory.define('revenues', Revenues, {\n  amount: 1000,\n  type: REVENUE_TYPES.MORTGAGE\n});\nFactory.define('lenderRulesAll', LenderRules, (0, _objectSpread2.default)({}, DEFAULT_VALUE_FOR_ALL, {\n  order: 0,\n  filter: {\n    and: [true]\n  }\n}));\nFactory.define('lenderRulesMain', LenderRules, {\n  maxBorrowRatio: 0.8,\n  order: 0,\n  filter: {\n    and: DEFAULT_MAIN_RESIDENCE_RULES\n  }\n});\nFactory.define('lenderRulesSecondary', LenderRules, {\n  maxBorrowRatio: 0.7,\n  order: 0,\n  filter: {\n    and: DEFAULT_SECONDARY_RESIDENCE_RULES\n  }\n});\nFactory.define('notification', Notifications, {});\nFactory.define('activity', Activities, {});","map":{"version":3,"sources":["imports/core/api/factories/factories.js"],"names":["TEST_LASTNAME","TEST_FIRSTNAME","TEST_PHONE","getRandomLoanName","Math","Factory","roles","ROLES","emails","address","faker","verified","lastName","firstName","phoneNumbers","createdAt","status","TASK_STATUS","ACTIVE","borrowerIds","documents","step","STEPS","name","propertyIds","category","LOAN_CATEGORIES","residenceType","RESIDENCE_TYPE","MAIN_RESIDENCE","value","PROPERTY_CATEGORY","USER","userId","canton","conditions","maxAmount","amortizationGoal","type","PROMOTION_TYPES","CREDIT","LOT_TYPES","ORGANISATION_TYPES","BANK","filter","and","order","amount","REVENUE_TYPES","MORTGAGE","maxBorrowRatio","DEFAULT_MAIN_RESIDENCE_RULES","DEFAULT_SECONDARY_RESIDENCE_RULES"],"mappings":"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","sourcesContent":["import { Factory } from 'meteor/dburles:factory';\nimport faker from 'faker';\n\nimport {\n  LOT_TYPES,\n  ORGANISATION_TYPES,\n  PROMOTION_TYPES,\n  REVENUE_TYPES,\n  ROLES,\n  STEPS,\n  TASK_STATUS,\n  DEFAULT_VALUE_FOR_ALL,\n  DEFAULT_MAIN_RESIDENCE_RULES,\n  DEFAULT_SECONDARY_RESIDENCE_RULES,\n} from '../constants';\nimport {\n  Borrowers,\n  Contacts,\n  InterestRates,\n  LenderRules,\n  Lenders,\n  Loans,\n  Lots,\n  MortgageNotes,\n  Offers,\n  Organisations,\n  PromotionLots,\n  PromotionOptions,\n  Promotions,\n  Properties,\n  Revenues,\n  Tasks,\n  Users,\n} from '..';\nimport {\n  PROPERTY_CATEGORY,\n  RESIDENCE_TYPE,\n} from '../properties/propertyConstants';\nimport Notifications from '../notifications/index';\nimport Activities from '../activities/index';\nimport { LOAN_CATEGORIES } from '../loans/loanConstants';\n\nconst TEST_LASTNAME = 'TestLastName';\nconst TEST_FIRSTNAME = 'TestFirstName';\nconst TEST_PHONE = '0123456789';\n\nconst getRandomLoanName = () => `19-0${Math.floor(Math.random() * 899 + 100)}`;\n\nFactory.define('user', Users, {\n  roles: [ROLES.USER],\n  emails: () => [{ address: faker.internet.email(), verified: false }],\n  lastName: TEST_LASTNAME,\n  firstName: TEST_FIRSTNAME,\n  phoneNumbers: [TEST_PHONE],\n});\n\nFactory.define('dev', Users, {\n  roles: [ROLES.DEV],\n  emails: () => [{ address: faker.internet.email(), verified: false }],\n  lastName: TEST_LASTNAME,\n  firstName: TEST_FIRSTNAME,\n  phoneNumbers: [TEST_PHONE],\n});\n\nFactory.define('admin', Users, {\n  roles: [ROLES.ADMIN],\n  emails: () => [{ address: faker.internet.email(), verified: false }],\n  lastName: TEST_LASTNAME,\n  firstName: TEST_FIRSTNAME,\n  phoneNumbers: [TEST_PHONE],\n});\n\nFactory.define('adminEpotek', Users, {\n  roles: [ROLES.ADMIN],\n  emails: () => [{ address: 'dev@e-potek.ch', verified: true }],\n  lastName: 'e-Potek',\n  firstName: 'Dev',\n  phoneNumbers: [TEST_PHONE],\n});\n\nFactory.define('pro', Users, {\n  roles: [ROLES.PRO],\n  emails: () => [{ address: faker.internet.email(), verified: false }],\n  lastName: TEST_LASTNAME,\n  firstName: TEST_FIRSTNAME,\n  phoneNumbers: [TEST_PHONE],\n});\n\nFactory.define('borrower', Borrowers);\n\nFactory.define('task', Tasks, {\n  createdAt: () => new Date(),\n  status: TASK_STATUS.ACTIVE,\n});\n\nFactory.define('loan', Loans, {\n  createdAt: () => new Date(),\n  borrowerIds: [],\n  documents: () => ({}),\n  step: STEPS.SOLVENCY,\n  name: () => {\n    // there is a 1/900% chance that 2 loan names collide,\n    // make sure it never happens instead\n    while (true) {\n      const name = getRandomLoanName();\n\n      if (!Loans.findOne({ name })) {\n        return name;\n      }\n    }\n  },\n  emails: () => [],\n  propertyIds: [],\n  category: LOAN_CATEGORIES.RETAIL,\n  residenceType: RESIDENCE_TYPE.MAIN_RESIDENCE,\n});\n\nFactory.define('property', Properties, {\n  value: 1000000,\n  category: PROPERTY_CATEGORY.USER,\n});\n\nFactory.define('offer', Offers, {\n  userId: () => faker.random.uuid(),\n  createdAt: () => new Date(),\n  canton: 'GE',\n  conditions: ['Do something'],\n  maxAmount: 800000,\n  amortizationGoal: 0.65,\n});\n\nFactory.define('promotion', Promotions, {\n  name: 'Test promotion',\n  type: PROMOTION_TYPES.CREDIT,\n});\n\nFactory.define('promotionOption', PromotionOptions, {});\nFactory.define('promotionLot', PromotionLots, {});\n\nFactory.define('lot', Lots, {\n  name: 'test',\n  type: LOT_TYPES.PARKING_CAR,\n  value: 1000,\n});\n\nFactory.define('task', Tasks, {});\n\nFactory.define('mortgageNote', MortgageNotes, {\n  value: 100000,\n  canton: 'GE',\n});\n\nFactory.define('organisation', Organisations, {\n  name: () => {\n    // Make sure organisation names don't collide\n    while (true) {\n      const name = faker.company.companyName();\n\n      if (!Organisations.findOne({ name })) {\n        return name;\n      }\n    }\n  },\n  type: ORGANISATION_TYPES.BANK,\n});\n\nFactory.define('lender', Lenders, {});\n\nFactory.define('interestRates', InterestRates, {});\n\nFactory.define('contact', Contacts, {\n  firstName: 'John',\n  lastName: 'Doe',\n});\n\nFactory.define('lenderRules', LenderRules, {\n  filter: { and: [] },\n  order: 0,\n});\n\nFactory.define('revenues', Revenues, {\n  amount: 1000,\n  type: REVENUE_TYPES.MORTGAGE,\n});\n\nFactory.define('lenderRulesAll', LenderRules, {\n  ...DEFAULT_VALUE_FOR_ALL,\n  order: 0,\n  filter: { and: [true] },\n});\n\nFactory.define('lenderRulesMain', LenderRules, {\n  maxBorrowRatio: 0.8,\n  order: 0,\n  filter: { and: DEFAULT_MAIN_RESIDENCE_RULES },\n});\n\nFactory.define('lenderRulesSecondary', LenderRules, {\n  maxBorrowRatio: 0.7,\n  order: 0,\n  filter: { and: DEFAULT_SECONDARY_RESIDENCE_RULES },\n});\n\nFactory.define('notification', Notifications, {});\n\nFactory.define('activity', Activities, {});\n"]},"sourceType":"script","hash":"696bb28ae94c0b581f062807628d60b5146478cc"}
