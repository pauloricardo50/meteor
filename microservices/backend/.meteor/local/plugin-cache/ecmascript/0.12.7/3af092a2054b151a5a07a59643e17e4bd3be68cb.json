{"metadata":{},"options":{"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/Florian/dev/epotek/microservices/backend/imports/core/api/promotions/promotionConstants.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties",["flow",{}],"dynamicImport","classProperties","classPrivateProperties","jsx",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"imports/core/api/promotions/promotionConstants.js","filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/api/promotions/promotionConstants.js","inputSourceMap":{"version":3,"sources":["imports/core/api/promotions/promotionConstants.js"],"names":["merge","PROMOTION_LOT_STATUS","PROMOTIONS_COLLECTION","PROMOTION_TYPES","CREDIT","SHARE","PROMOTION_STATUS","CANCELLED","FINISHED","OPEN","PREPARATION","PROMOTION_QUERIES","ADMIN_PROMOTIONS","APP_PROMOTION","PRO_PROMOTION","PRO_PROMOTIONS","PRO_PROMOTION_USERS","PROMOTION_FILES","PROMOTION_SEARCH","PRO_PROMOTION_SIMPLE","PROMOTION_INVITED_BY_TYPE","ANY","USER","ORGANISATION","PROMOTION_PERMISSIONS","DISPLAY_CUSTOMER_NAMES","FOR_LOT_STATUS","INVITED_BY","PROMOTION_PERMISSIONS_BUNDLES","INVITATION","settings","canInviteCustomers","displayCustomerNames","forLotStatus","Object","values","invitedBy","CONSULTATION","consultation","MODIFICATION","canAddLots","canModifyLots","canRemoveLots","canModifyPromotion","canManageDocuments","BOOKING","canBookLots","SELLING","canSellLots","PROMOTION_PERMISSIONS_FULL_ACCESS","keys","reduce","bundles","bundle"],"mappings":"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","sourcesContent":["import merge from 'lodash/merge';\nimport { PROMOTION_LOT_STATUS } from '../promotionLots/promotionLotConstants';\n\nexport const PROMOTIONS_COLLECTION = 'promotions';\n\nexport const PROMOTION_TYPES = {\n  CREDIT: 'CREDIT',\n  SHARE: 'SHARE',\n};\n\nexport const PROMOTION_STATUS = {\n  CANCELLED: 'CANCELLED',\n  FINISHED: 'FINISHED',\n  OPEN: 'OPEN',\n  PREPARATION: 'PREPARATION',\n};\n\nexport const PROMOTION_QUERIES = {\n  ADMIN_PROMOTIONS: 'ADMIN_PROMOTIONS',\n  APP_PROMOTION: 'APP_PROMOTION',\n  PRO_PROMOTION: 'PRO_PROMOTION',\n  PRO_PROMOTIONS: 'PRO_PROMOTIONS',\n  PRO_PROMOTION_USERS: 'PRO_PROMOTION_USERS',\n  PROMOTION_FILES: 'PROMOTION_FILES',\n  PROMOTION_SEARCH: 'PROMOTION_SEARCH',\n  PRO_PROMOTION_SIMPLE: 'PRO_PROMOTION_SIMPLE',\n};\n\nexport const PROMOTION_INVITED_BY_TYPE = {\n  ANY: 'ANY',\n  USER: 'USER',\n  ORGANISATION: 'ORGANISATION',\n};\n\nexport const PROMOTION_PERMISSIONS = {\n  DISPLAY_CUSTOMER_NAMES: {\n    FOR_LOT_STATUS: { ...PROMOTION_LOT_STATUS },\n    INVITED_BY: { ...PROMOTION_INVITED_BY_TYPE },\n  },\n};\n\nexport const PROMOTION_PERMISSIONS_BUNDLES = {\n  INVITATION: settings => ({\n    canInviteCustomers: true,\n    displayCustomerNames: {\n      forLotStatus: Object.values(PROMOTION_PERMISSIONS.DISPLAY_CUSTOMER_NAMES.FOR_LOT_STATUS),\n      invitedBy:\n        PROMOTION_PERMISSIONS.DISPLAY_CUSTOMER_NAMES.INVITED_BY.ORGANISATION,\n    },\n  }),\n  CONSULTATION: ({ consultation = {} } = {}) => {\n    const {\n      forLotStatus = [],\n      invitedBy = PROMOTION_PERMISSIONS.DISPLAY_CUSTOMER_NAMES.INVITED_BY.ANY,\n    } = consultation;\n    return {\n      displayCustomerNames: { forLotStatus, invitedBy },\n    };\n  },\n  MODIFICATION: settings => ({\n    canAddLots: true,\n    canModifyLots: true,\n    canRemoveLots: true,\n    canModifyPromotion: true,\n    canManageDocuments: true,\n  }),\n  BOOKING: settings => ({ canBookLots: true }),\n  SELLING: settings => ({ canSellLots: true }),\n};\n\nexport const PROMOTION_PERMISSIONS_FULL_ACCESS = () => {\n  const settings = {\n    consultation: {\n      forLotStatus: Object.values(PROMOTION_PERMISSIONS.DISPLAY_CUSTOMER_NAMES.FOR_LOT_STATUS),\n      invitedBy: PROMOTION_PERMISSIONS.DISPLAY_CUSTOMER_NAMES.INVITED_BY.ANY,\n    },\n  };\n\n  return Object.keys(PROMOTION_PERMISSIONS_BUNDLES).reduce(\n    (bundles, bundle) =>\n      merge({}, bundles, PROMOTION_PERMISSIONS_BUNDLES[bundle](settings)),\n    {},\n  );\n};\n"]},"passPerPreset":false,"envName":"development","cwd":"/Users/Florian/dev/epotek/microservices/backend","root":"/Users/Florian/dev/epotek/microservices/backend","plugins":[{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"transform-runtime","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-modules-commonjs","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-flow","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]},"ClassPrivateMethod":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/api/promotions/promotionConstants.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/core/api/promotions/promotionConstants.js"}},"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nmodule.export({\n  PROMOTIONS_COLLECTION: function () {\n    return PROMOTIONS_COLLECTION;\n  },\n  PROMOTION_TYPES: function () {\n    return PROMOTION_TYPES;\n  },\n  PROMOTION_STATUS: function () {\n    return PROMOTION_STATUS;\n  },\n  PROMOTION_QUERIES: function () {\n    return PROMOTION_QUERIES;\n  },\n  PROMOTION_INVITED_BY_TYPE: function () {\n    return PROMOTION_INVITED_BY_TYPE;\n  },\n  PROMOTION_PERMISSIONS: function () {\n    return PROMOTION_PERMISSIONS;\n  },\n  PROMOTION_PERMISSIONS_BUNDLES: function () {\n    return PROMOTION_PERMISSIONS_BUNDLES;\n  },\n  PROMOTION_PERMISSIONS_FULL_ACCESS: function () {\n    return PROMOTION_PERMISSIONS_FULL_ACCESS;\n  }\n});\nvar merge;\nmodule.link(\"lodash/merge\", {\n  \"default\": function (v) {\n    merge = v;\n  }\n}, 0);\nvar PROMOTION_LOT_STATUS;\nmodule.link(\"../promotionLots/promotionLotConstants\", {\n  PROMOTION_LOT_STATUS: function (v) {\n    PROMOTION_LOT_STATUS = v;\n  }\n}, 1);\nvar PROMOTIONS_COLLECTION = 'promotions';\nvar PROMOTION_TYPES = {\n  CREDIT: 'CREDIT',\n  SHARE: 'SHARE'\n};\nvar PROMOTION_STATUS = {\n  CANCELLED: 'CANCELLED',\n  FINISHED: 'FINISHED',\n  OPEN: 'OPEN',\n  PREPARATION: 'PREPARATION'\n};\nvar PROMOTION_QUERIES = {\n  ADMIN_PROMOTIONS: 'ADMIN_PROMOTIONS',\n  APP_PROMOTION: 'APP_PROMOTION',\n  PRO_PROMOTION: 'PRO_PROMOTION',\n  PRO_PROMOTIONS: 'PRO_PROMOTIONS',\n  PRO_PROMOTION_USERS: 'PRO_PROMOTION_USERS',\n  PROMOTION_FILES: 'PROMOTION_FILES',\n  PROMOTION_SEARCH: 'PROMOTION_SEARCH',\n  PRO_PROMOTION_SIMPLE: 'PRO_PROMOTION_SIMPLE'\n};\nvar PROMOTION_INVITED_BY_TYPE = {\n  ANY: 'ANY',\n  USER: 'USER',\n  ORGANISATION: 'ORGANISATION'\n};\nvar PROMOTION_PERMISSIONS = {\n  DISPLAY_CUSTOMER_NAMES: {\n    FOR_LOT_STATUS: (0, _objectSpread2.default)({}, PROMOTION_LOT_STATUS),\n    INVITED_BY: (0, _objectSpread2.default)({}, PROMOTION_INVITED_BY_TYPE)\n  }\n};\nvar PROMOTION_PERMISSIONS_BUNDLES = {\n  INVITATION: function (settings) {\n    return {\n      canInviteCustomers: true,\n      displayCustomerNames: {\n        forLotStatus: Object.values(PROMOTION_PERMISSIONS.DISPLAY_CUSTOMER_NAMES.FOR_LOT_STATUS),\n        invitedBy: PROMOTION_PERMISSIONS.DISPLAY_CUSTOMER_NAMES.INVITED_BY.ORGANISATION\n      }\n    };\n  },\n  CONSULTATION: function () {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$consultation = _ref.consultation,\n        consultation = _ref$consultation === void 0 ? {} : _ref$consultation;\n\n    var _consultation$forLotS = consultation.forLotStatus,\n        forLotStatus = _consultation$forLotS === void 0 ? [] : _consultation$forLotS,\n        _consultation$invited = consultation.invitedBy,\n        invitedBy = _consultation$invited === void 0 ? PROMOTION_PERMISSIONS.DISPLAY_CUSTOMER_NAMES.INVITED_BY.ANY : _consultation$invited;\n    return {\n      displayCustomerNames: {\n        forLotStatus: forLotStatus,\n        invitedBy: invitedBy\n      }\n    };\n  },\n  MODIFICATION: function (settings) {\n    return {\n      canAddLots: true,\n      canModifyLots: true,\n      canRemoveLots: true,\n      canModifyPromotion: true,\n      canManageDocuments: true\n    };\n  },\n  BOOKING: function (settings) {\n    return {\n      canBookLots: true\n    };\n  },\n  SELLING: function (settings) {\n    return {\n      canSellLots: true\n    };\n  }\n};\n\nvar PROMOTION_PERMISSIONS_FULL_ACCESS = function () {\n  var settings = {\n    consultation: {\n      forLotStatus: Object.values(PROMOTION_PERMISSIONS.DISPLAY_CUSTOMER_NAMES.FOR_LOT_STATUS),\n      invitedBy: PROMOTION_PERMISSIONS.DISPLAY_CUSTOMER_NAMES.INVITED_BY.ANY\n    }\n  };\n  return Object.keys(PROMOTION_PERMISSIONS_BUNDLES).reduce(function (bundles, bundle) {\n    return merge({}, bundles, PROMOTION_PERMISSIONS_BUNDLES[bundle](settings));\n  }, {});\n};","map":{"version":3,"sources":["imports/core/api/promotions/promotionConstants.js"],"names":["PROMOTIONS_COLLECTION","PROMOTION_TYPES","CREDIT","SHARE","PROMOTION_STATUS","CANCELLED","FINISHED","OPEN","PREPARATION","PROMOTION_QUERIES","ADMIN_PROMOTIONS","APP_PROMOTION","PRO_PROMOTION","PRO_PROMOTIONS","PRO_PROMOTION_USERS","PROMOTION_FILES","PROMOTION_SEARCH","PRO_PROMOTION_SIMPLE","PROMOTION_INVITED_BY_TYPE","ANY","USER","ORGANISATION","PROMOTION_PERMISSIONS","DISPLAY_CUSTOMER_NAMES","FOR_LOT_STATUS","PROMOTION_LOT_STATUS","INVITED_BY","PROMOTION_PERMISSIONS_BUNDLES","INVITATION","settings","canInviteCustomers","displayCustomerNames","forLotStatus","Object","invitedBy","CONSULTATION","consultation","MODIFICATION","canAddLots","canModifyLots","canRemoveLots","canModifyPromotion","canManageDocuments","BOOKING","canBookLots","SELLING","canSellLots","PROMOTION_PERMISSIONS_FULL_ACCESS","merge"],"mappings":"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","sourcesContent":["import merge from 'lodash/merge';\nimport { PROMOTION_LOT_STATUS } from '../promotionLots/promotionLotConstants';\n\nexport const PROMOTIONS_COLLECTION = 'promotions';\n\nexport const PROMOTION_TYPES = {\n  CREDIT: 'CREDIT',\n  SHARE: 'SHARE',\n};\n\nexport const PROMOTION_STATUS = {\n  CANCELLED: 'CANCELLED',\n  FINISHED: 'FINISHED',\n  OPEN: 'OPEN',\n  PREPARATION: 'PREPARATION',\n};\n\nexport const PROMOTION_QUERIES = {\n  ADMIN_PROMOTIONS: 'ADMIN_PROMOTIONS',\n  APP_PROMOTION: 'APP_PROMOTION',\n  PRO_PROMOTION: 'PRO_PROMOTION',\n  PRO_PROMOTIONS: 'PRO_PROMOTIONS',\n  PRO_PROMOTION_USERS: 'PRO_PROMOTION_USERS',\n  PROMOTION_FILES: 'PROMOTION_FILES',\n  PROMOTION_SEARCH: 'PROMOTION_SEARCH',\n  PRO_PROMOTION_SIMPLE: 'PRO_PROMOTION_SIMPLE',\n};\n\nexport const PROMOTION_INVITED_BY_TYPE = {\n  ANY: 'ANY',\n  USER: 'USER',\n  ORGANISATION: 'ORGANISATION',\n};\n\nexport const PROMOTION_PERMISSIONS = {\n  DISPLAY_CUSTOMER_NAMES: {\n    FOR_LOT_STATUS: { ...PROMOTION_LOT_STATUS },\n    INVITED_BY: { ...PROMOTION_INVITED_BY_TYPE },\n  },\n};\n\nexport const PROMOTION_PERMISSIONS_BUNDLES = {\n  INVITATION: settings => ({\n    canInviteCustomers: true,\n    displayCustomerNames: {\n      forLotStatus: Object.values(PROMOTION_PERMISSIONS.DISPLAY_CUSTOMER_NAMES.FOR_LOT_STATUS),\n      invitedBy:\n        PROMOTION_PERMISSIONS.DISPLAY_CUSTOMER_NAMES.INVITED_BY.ORGANISATION,\n    },\n  }),\n  CONSULTATION: ({ consultation = {} } = {}) => {\n    const {\n      forLotStatus = [],\n      invitedBy = PROMOTION_PERMISSIONS.DISPLAY_CUSTOMER_NAMES.INVITED_BY.ANY,\n    } = consultation;\n    return {\n      displayCustomerNames: { forLotStatus, invitedBy },\n    };\n  },\n  MODIFICATION: settings => ({\n    canAddLots: true,\n    canModifyLots: true,\n    canRemoveLots: true,\n    canModifyPromotion: true,\n    canManageDocuments: true,\n  }),\n  BOOKING: settings => ({ canBookLots: true }),\n  SELLING: settings => ({ canSellLots: true }),\n};\n\nexport const PROMOTION_PERMISSIONS_FULL_ACCESS = () => {\n  const settings = {\n    consultation: {\n      forLotStatus: Object.values(PROMOTION_PERMISSIONS.DISPLAY_CUSTOMER_NAMES.FOR_LOT_STATUS),\n      invitedBy: PROMOTION_PERMISSIONS.DISPLAY_CUSTOMER_NAMES.INVITED_BY.ANY,\n    },\n  };\n\n  return Object.keys(PROMOTION_PERMISSIONS_BUNDLES).reduce(\n    (bundles, bundle) =>\n      merge({}, bundles, PROMOTION_PERMISSIONS_BUNDLES[bundle](settings)),\n    {},\n  );\n};\n"]},"sourceType":"script","hash":"3af092a2054b151a5a07a59643e17e4bd3be68cb"}
