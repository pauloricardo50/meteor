{"metadata":{},"options":{"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/Florian/dev/epotek/microservices/backend/imports/core/components/AutoForm2/AutoFormDialog.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties",["flow",{}],"dynamicImport","classProperties","classPrivateProperties","jsx",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"imports/core/components/AutoForm2/AutoFormDialog.jsx","filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/components/AutoForm2/AutoFormDialog.jsx","inputSourceMap":{"version":3,"sources":["imports/core/components/AutoForm2/AutoFormDialog.jsx"],"names":["React","Component","compose","withProps","withState","pick","MuiDialog","DialogTitle","Button","AutoForm","makeCustomAutoField","CustomAutoField","AutoFormDialogContent","AutoFormDialogActions","AutoFormDialogProps","schema","Object","model","onSubmit","Function","buttonProps","setOpen","description","Node","title","important","Boolean","autoFieldProps","opened","renderAdditionalActions","children","triggerComponent","emptyDialog","noButton","getAutoFormProps","props","AutoFormDialog","constructor","autoField","render","disableActions","layout","maxWidth","otherProps","schemaKeys","_schemaKeys","handleOpen","event","stopPropagation","preventDefault","handleClose","e","onSuccessMessage","args","then","default","message","success"],"mappings":"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","sourcesContent":["// @flow\nimport React, { Component } from 'react';\nimport { compose, withProps, withState } from 'recompose';\nimport pick from 'lodash/pick';\nimport MuiDialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport Button from '../Button';\nimport AutoForm from './AutoForm';\nimport { makeCustomAutoField, CustomAutoField } from './AutoFormComponents';\nimport AutoFormDialogContent from './AutoFormDialogContent';\nimport AutoFormDialogActions from './AutoFormDialogActions';\n\ntype AutoFormDialogProps = {\n  schema: Object,\n  model?: Object,\n  onSubmit: Function,\n  buttonProps: Object,\n  setOpen: Function,\n  description?: React.Node,\n  title?: React.Node,\n  important?: Boolean,\n  autoFieldProps?: Object,\n  opened: Boolean,\n  renderAdditionalActions?: Function,\n  children?: React.Node,\n  triggerComponent?: Function,\n  emptyDialog?: Boolean,\n  noButton?: Boolean,\n};\n\nconst getAutoFormProps = props =>\n  pick(props, [\n    'model',\n    'schema',\n    'onSubmit',\n    'placeholder',\n    'showInlineError',\n  ]);\n\nexport class AutoFormDialog extends Component<AutoFormDialogProps> {\n  constructor(props) {\n    super(props);\n    const { autoFieldProps } = props;\n\n    if (autoFieldProps) {\n      this.autoField = makeCustomAutoField(autoFieldProps);\n    } else {\n      this.autoField = CustomAutoField;\n    }\n  }\n\n  render() {\n    const {\n      autoFieldProps,\n      buttonProps,\n      children,\n      description,\n      emptyDialog,\n      important,\n      noButton,\n      onSubmit,\n      opened,\n      renderAdditionalActions,\n      setOpen,\n      title,\n      triggerComponent,\n      disableActions = false,\n      layout,\n      maxWidth = 'sm',\n      ...otherProps\n    } = this.props;\n    const schemaKeys = this.props.schema._schemaKeys;\n\n    const handleOpen = (event) => {\n      event.stopPropagation();\n      event.preventDefault();\n      setOpen(true);\n    };\n    const handleClose = (event) => {\n      event.stopPropagation();\n      event.preventDefault();\n      setOpen(false);\n    };\n\n    return (\n      <>\n        {triggerComponent\n          ? triggerComponent(handleOpen)\n          : !noButton && <Button {...buttonProps} onClick={handleOpen} />}\n        <MuiDialog\n          disableBackdropClick={important}\n          disableEscapeKeyDown={important}\n          onClose={handleClose}\n          className=\"autoform-dialog\"\n          maxWidth={maxWidth}\n          fullWidth\n          onClick={(e) => {\n            // Clicking on the dialog should not trigger a table row below it..\n            e.stopPropagation();\n          }}\n          {...otherProps}\n        >\n          {title && <DialogTitle>{title}</DialogTitle>}\n          <AutoForm {...getAutoFormProps(this.props)}>\n            <AutoFormDialogContent\n              autoField={this.autoField}\n              description={description}\n              emptyDialog={emptyDialog}\n              handleClose={handleClose}\n              onSubmit={onSubmit}\n              layout={layout}\n              schemaKeys={schemaKeys}\n            >\n              {children}\n            </AutoFormDialogContent>\n            <AutoFormDialogActions\n              handleClose={handleClose}\n              onSubmit={onSubmit}\n              renderAdditionalActions={renderAdditionalActions}\n              disableActions={disableActions}\n            />\n          </AutoForm>\n        </MuiDialog>\n      </>\n    );\n  }\n}\n\nexport default compose(\n  withState('open', 'setOpen', false),\n  withProps(({ onSubmit, setOpen, onSuccessMessage }) => ({\n    onSubmit: (...args) =>\n      onSubmit(...args).then(() => {\n        setOpen(false);\n        import('../../utils/message').then(({ default: message }) => {\n          message.success(\n            onSuccessMessage\n              ? typeof onSuccessMessage === 'function'\n                ? onSuccessMessage(...args)\n                : onSuccessMessage\n              : \"C'est dans la boite !\",\n            5,\n          );\n        });\n      }),\n  })),\n)(AutoFormDialog);\n"]},"passPerPreset":false,"envName":"development","cwd":"/Users/Florian/dev/epotek/microservices/backend","root":"/Users/Florian/dev/epotek/microservices/backend","plugins":[{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"transform-runtime","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-modules-commonjs","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-flow","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]},"ClassPrivateMethod":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/components/AutoForm2/AutoFormDialog.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/core/components/AutoForm2/AutoFormDialog.jsx"}},"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nmodule.export({\n  AutoFormDialog: function () {\n    return AutoFormDialog;\n  }\n});\nvar React, Component;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar compose, withProps, withState;\nmodule.link(\"recompose\", {\n  compose: function (v) {\n    compose = v;\n  },\n  withProps: function (v) {\n    withProps = v;\n  },\n  withState: function (v) {\n    withState = v;\n  }\n}, 1);\nvar pick;\nmodule.link(\"lodash/pick\", {\n  \"default\": function (v) {\n    pick = v;\n  }\n}, 2);\nvar MuiDialog;\nmodule.link(\"@material-ui/core/Dialog\", {\n  \"default\": function (v) {\n    MuiDialog = v;\n  }\n}, 3);\nvar DialogTitle;\nmodule.link(\"@material-ui/core/DialogTitle\", {\n  \"default\": function (v) {\n    DialogTitle = v;\n  }\n}, 4);\nvar Button;\nmodule.link(\"../Button\", {\n  \"default\": function (v) {\n    Button = v;\n  }\n}, 5);\nvar AutoForm;\nmodule.link(\"./AutoForm\", {\n  \"default\": function (v) {\n    AutoForm = v;\n  }\n}, 6);\nvar makeCustomAutoField, CustomAutoField;\nmodule.link(\"./AutoFormComponents\", {\n  makeCustomAutoField: function (v) {\n    makeCustomAutoField = v;\n  },\n  CustomAutoField: function (v) {\n    CustomAutoField = v;\n  }\n}, 7);\nvar AutoFormDialogContent;\nmodule.link(\"./AutoFormDialogContent\", {\n  \"default\": function (v) {\n    AutoFormDialogContent = v;\n  }\n}, 8);\nvar AutoFormDialogActions;\nmodule.link(\"./AutoFormDialogActions\", {\n  \"default\": function (v) {\n    AutoFormDialogActions = v;\n  }\n}, 9);\n\nvar getAutoFormProps = function (props) {\n  return pick(props, ['model', 'schema', 'onSubmit', 'placeholder', 'showInlineError']);\n};\n\nvar AutoFormDialog =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inheritsLoose2.default)(AutoFormDialog, _Component);\n\n  function AutoFormDialog(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n    var autoFieldProps = props.autoFieldProps;\n\n    if (autoFieldProps) {\n      _this.autoField = makeCustomAutoField(autoFieldProps);\n    } else {\n      _this.autoField = CustomAutoField;\n    }\n\n    return _this;\n  }\n\n  var _proto = AutoFormDialog.prototype;\n\n  _proto.render = function () {\n    function render() {\n      var _this$props = this.props,\n          autoFieldProps = _this$props.autoFieldProps,\n          buttonProps = _this$props.buttonProps,\n          children = _this$props.children,\n          description = _this$props.description,\n          emptyDialog = _this$props.emptyDialog,\n          important = _this$props.important,\n          noButton = _this$props.noButton,\n          onSubmit = _this$props.onSubmit,\n          opened = _this$props.opened,\n          renderAdditionalActions = _this$props.renderAdditionalActions,\n          setOpen = _this$props.setOpen,\n          title = _this$props.title,\n          triggerComponent = _this$props.triggerComponent,\n          _this$props$disableAc = _this$props.disableActions,\n          disableActions = _this$props$disableAc === void 0 ? false : _this$props$disableAc,\n          layout = _this$props.layout,\n          _this$props$maxWidth = _this$props.maxWidth,\n          maxWidth = _this$props$maxWidth === void 0 ? 'sm' : _this$props$maxWidth,\n          otherProps = (0, _objectWithoutProperties2.default)(_this$props, [\"autoFieldProps\", \"buttonProps\", \"children\", \"description\", \"emptyDialog\", \"important\", \"noButton\", \"onSubmit\", \"opened\", \"renderAdditionalActions\", \"setOpen\", \"title\", \"triggerComponent\", \"disableActions\", \"layout\", \"maxWidth\"]);\n      var schemaKeys = this.props.schema._schemaKeys;\n\n      var handleOpen = function (event) {\n        event.stopPropagation();\n        event.preventDefault();\n        setOpen(true);\n      };\n\n      var handleClose = function (event) {\n        event.stopPropagation();\n        event.preventDefault();\n        setOpen(false);\n      };\n\n      return React.createElement(React.Fragment, null, triggerComponent ? triggerComponent(handleOpen) : !noButton && React.createElement(Button, (0, _extends2.default)({}, buttonProps, {\n        onClick: handleOpen\n      })), React.createElement(MuiDialog, (0, _extends2.default)({\n        disableBackdropClick: important,\n        disableEscapeKeyDown: important,\n        onClose: handleClose,\n        className: \"autoform-dialog\",\n        maxWidth: maxWidth,\n        fullWidth: true,\n        onClick: function (e) {\n          // Clicking on the dialog should not trigger a table row below it..\n          e.stopPropagation();\n        }\n      }, otherProps), title && React.createElement(DialogTitle, null, title), React.createElement(AutoForm, getAutoFormProps(this.props), React.createElement(AutoFormDialogContent, {\n        autoField: this.autoField,\n        description: description,\n        emptyDialog: emptyDialog,\n        handleClose: handleClose,\n        onSubmit: onSubmit,\n        layout: layout,\n        schemaKeys: schemaKeys\n      }, children), React.createElement(AutoFormDialogActions, {\n        handleClose: handleClose,\n        onSubmit: onSubmit,\n        renderAdditionalActions: renderAdditionalActions,\n        disableActions: disableActions\n      }))));\n    }\n\n    return render;\n  }();\n\n  return AutoFormDialog;\n}(Component);\n\nmodule.exportDefault(compose(withState('open', 'setOpen', false), withProps(function (_ref) {\n  var onSubmit = _ref.onSubmit,\n      setOpen = _ref.setOpen,\n      onSuccessMessage = _ref.onSuccessMessage;\n  return {\n    onSubmit: function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return onSubmit.apply(void 0, args).then(function () {\n        setOpen(false);\n        module.dynamicImport(\"../../utils/message\").then(function (_ref2) {\n          var message = _ref2.default;\n          message.success(onSuccessMessage ? typeof onSuccessMessage === 'function' ? onSuccessMessage.apply(void 0, args) : onSuccessMessage : \"C'est dans la boite !\", 5);\n        });\n      });\n    }\n  };\n}))(AutoFormDialog));","map":{"version":3,"sources":["imports/core/components/AutoForm2/AutoFormDialog.jsx"],"names":["getAutoFormProps","props","pick","constructor","autoFieldProps","makeCustomAutoField","render","disableActions","maxWidth","otherProps","schemaKeys","handleOpen","event","setOpen","handleClose","triggerComponent","e","title","withState","withProps","onSuccessMessage","onSubmit","default","message"],"mappings":"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","sourcesContent":["// @flow\nimport React, { Component } from 'react';\nimport { compose, withProps, withState } from 'recompose';\nimport pick from 'lodash/pick';\nimport MuiDialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport Button from '../Button';\nimport AutoForm from './AutoForm';\nimport { makeCustomAutoField, CustomAutoField } from './AutoFormComponents';\nimport AutoFormDialogContent from './AutoFormDialogContent';\nimport AutoFormDialogActions from './AutoFormDialogActions';\n\ntype AutoFormDialogProps = {\n  schema: Object,\n  model?: Object,\n  onSubmit: Function,\n  buttonProps: Object,\n  setOpen: Function,\n  description?: React.Node,\n  title?: React.Node,\n  important?: Boolean,\n  autoFieldProps?: Object,\n  opened: Boolean,\n  renderAdditionalActions?: Function,\n  children?: React.Node,\n  triggerComponent?: Function,\n  emptyDialog?: Boolean,\n  noButton?: Boolean,\n};\n\nconst getAutoFormProps = props =>\n  pick(props, [\n    'model',\n    'schema',\n    'onSubmit',\n    'placeholder',\n    'showInlineError',\n  ]);\n\nexport class AutoFormDialog extends Component<AutoFormDialogProps> {\n  constructor(props) {\n    super(props);\n    const { autoFieldProps } = props;\n\n    if (autoFieldProps) {\n      this.autoField = makeCustomAutoField(autoFieldProps);\n    } else {\n      this.autoField = CustomAutoField;\n    }\n  }\n\n  render() {\n    const {\n      autoFieldProps,\n      buttonProps,\n      children,\n      description,\n      emptyDialog,\n      important,\n      noButton,\n      onSubmit,\n      opened,\n      renderAdditionalActions,\n      setOpen,\n      title,\n      triggerComponent,\n      disableActions = false,\n      layout,\n      maxWidth = 'sm',\n      ...otherProps\n    } = this.props;\n    const schemaKeys = this.props.schema._schemaKeys;\n\n    const handleOpen = (event) => {\n      event.stopPropagation();\n      event.preventDefault();\n      setOpen(true);\n    };\n    const handleClose = (event) => {\n      event.stopPropagation();\n      event.preventDefault();\n      setOpen(false);\n    };\n\n    return (\n      <>\n        {triggerComponent\n          ? triggerComponent(handleOpen)\n          : !noButton && <Button {...buttonProps} onClick={handleOpen} />}\n        <MuiDialog\n          disableBackdropClick={important}\n          disableEscapeKeyDown={important}\n          onClose={handleClose}\n          className=\"autoform-dialog\"\n          maxWidth={maxWidth}\n          fullWidth\n          onClick={(e) => {\n            // Clicking on the dialog should not trigger a table row below it..\n            e.stopPropagation();\n          }}\n          {...otherProps}\n        >\n          {title && <DialogTitle>{title}</DialogTitle>}\n          <AutoForm {...getAutoFormProps(this.props)}>\n            <AutoFormDialogContent\n              autoField={this.autoField}\n              description={description}\n              emptyDialog={emptyDialog}\n              handleClose={handleClose}\n              onSubmit={onSubmit}\n              layout={layout}\n              schemaKeys={schemaKeys}\n            >\n              {children}\n            </AutoFormDialogContent>\n            <AutoFormDialogActions\n              handleClose={handleClose}\n              onSubmit={onSubmit}\n              renderAdditionalActions={renderAdditionalActions}\n              disableActions={disableActions}\n            />\n          </AutoForm>\n        </MuiDialog>\n      </>\n    );\n  }\n}\n\nexport default compose(\n  withState('open', 'setOpen', false),\n  withProps(({ onSubmit, setOpen, onSuccessMessage }) => ({\n    onSubmit: (...args) =>\n      onSubmit(...args).then(() => {\n        setOpen(false);\n        import('../../utils/message').then(({ default: message }) => {\n          message.success(\n            onSuccessMessage\n              ? typeof onSuccessMessage === 'function'\n                ? onSuccessMessage(...args)\n                : onSuccessMessage\n              : \"C'est dans la boite !\",\n            5,\n          );\n        });\n      }),\n  })),\n)(AutoFormDialog);\n"]},"sourceType":"script","hash":"52abb1b106583ee85b01468b1ebbf3efafcf35ec"}
