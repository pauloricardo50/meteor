{"metadata":{},"options":{"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/Florian/dev/epotek/microservices/backend/imports/core/components/SearchModal/SearchResults.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties",["flow",{}],"dynamicImport","classProperties","classPrivateProperties","jsx",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"imports/core/components/SearchModal/SearchResults.jsx","filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/components/SearchModal/SearchResults.jsx","inputSourceMap":{"version":3,"sources":["imports/core/components/SearchModal/SearchResults.jsx"],"names":["React","Component","PropTypes","JsSearch","injectIntl","List","ListItem","ListItemText","T","generalTooltips","Button","styles","list","width","maxWidth","selected","SearchResults","constructor","props","search","Search","addIndex","tooltips","getTooltips","addDocuments","f","intl","formatMessage","intlValues","verticalSpace","Object","keys","map","match","tooltipId","id","tooltip","tooltipMatch","tooltipValue1","double","tooltipValue2","state","showId","setupSearch","componentWillReceiveProps","nextProps","setState","render","results","selectedResult","filter","result","paddingTop","length","propTypes","object","isRequired","string"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport JsSearch from 'js-search';\nimport { injectIntl } from 'react-intl';\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport T from 'core/components/Translation';\nimport { generalTooltips } from 'core/arrays/tooltips';\nimport Button from 'core/components/Button';\n\nconst styles = {\n  list: {\n    width: '100%',\n    maxWidth: 800,\n  },\n  selected: {\n    width: '100%',\n    maxWidth: 800,\n  },\n};\n\nclass SearchResults extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { showId: '' };\n    this.setupSearch();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // Cancel viewing results if something new is typed/deleted\n    if (nextProps.search !== this.props.search && this.state.showId) {\n      this.setState({ showId: '' });\n    }\n  }\n\n  setupSearch = () => {\n    this.search = new JsSearch.Search('id');\n    this.search.addIndex('tooltipMatch');\n    this.search.addIndex('tooltipValue1');\n    this.search.addIndex('tooltipValue2');\n\n    this.tooltips = this.getTooltips();\n    this.search.addDocuments(this.tooltips);\n  };\n\n  getTooltips = () => {\n    const f = this.props.intl.formatMessage;\n    const intlValues = { verticalSpace: ' ' };\n\n    return Object.keys(generalTooltips).map((match) => {\n      const tooltipId = generalTooltips[match].id;\n      const tooltip = {\n        id: tooltipId,\n        tooltipMatch: match,\n        tooltipValue1: f({ id: `tooltip.${tooltipId}` }, intlValues),\n      };\n      if (generalTooltips[match].double) {\n        tooltip.tooltipValue2 = f({ id: `tooltip2.${tooltipId}` }, intlValues);\n      }\n\n      return tooltip;\n    });\n  };\n\n  render() {\n    const { search } = this.props;\n    const { showId } = this.state;\n    const results = this.search.search(search);\n\n    if (showId) {\n      const selectedResult = this.tooltips.filter(result => result.id === showId)[0];\n      return (\n        <div className=\"flex-col\" style={styles.selected}>\n          <h3>{selectedResult.tooltipMatch}</h3>\n          <p>{selectedResult.tooltipValue1}</p>\n          <p>{selectedResult.tooltipValue2}</p>\n          <div className=\"text-center\" style={{ paddingTop: 16 }}>\n            <Button\n              primary\n              label={<T id=\"general.ok\" />}\n              onClick={() => this.setState({ showId: '' })}\n            />\n          </div>\n        </div>\n      );\n    }\n\n    if (search === '') {\n      return (\n        <List style={styles.list}>\n          {this.tooltips.map(result => (\n            <ListItem\n              button\n              divider\n              onClick={() => this.setState({ showId: result.id })}\n              key={result.id}\n            >\n              <ListItemText\n                primary={result.tooltipMatch}\n                secondary={result.tooltipValue1}\n              />\n            </ListItem>\n          ))}\n        </List>\n      );\n    }\n\n    if (search && results.length === 0) {\n      return (\n        <div className=\"description\">\n          <p>\n            <T id=\"SearchResults.none\" />\n          </p>\n        </div>\n      );\n    }\n\n    return (\n      <List style={styles.list}>\n        {results.map(result => (\n          <ListItem\n            button\n            divider\n            onClick={() => this.setState({ showId: result.id })}\n            key={result.id}\n          >\n            <ListItemText\n              primary={result.tooltipMatch}\n              secondary={result.tooltipValue1}\n            />\n          </ListItem>\n        ))}\n      </List>\n    );\n  }\n}\n\nSearchResults.propTypes = {\n  intl: PropTypes.object.isRequired,\n  search: PropTypes.string.isRequired,\n};\n\nexport default injectIntl(SearchResults);\n"]},"passPerPreset":false,"envName":"development","cwd":"/Users/Florian/dev/epotek/microservices/backend","root":"/Users/Florian/dev/epotek/microservices/backend","plugins":[{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"transform-runtime","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-modules-commonjs","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-flow","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/components/SearchModal/SearchResults.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/core/components/SearchModal/SearchResults.jsx"}},"code":"let React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 0);\nlet PropTypes;\nmodule.link(\"prop-types\", {\n  default(v) {\n    PropTypes = v;\n  }\n\n}, 1);\nlet JsSearch;\nmodule.link(\"js-search\", {\n  default(v) {\n    JsSearch = v;\n  }\n\n}, 2);\nlet injectIntl;\nmodule.link(\"react-intl\", {\n  injectIntl(v) {\n    injectIntl = v;\n  }\n\n}, 3);\nlet List;\nmodule.link(\"@material-ui/core/List\", {\n  default(v) {\n    List = v;\n  }\n\n}, 4);\nlet ListItem;\nmodule.link(\"@material-ui/core/ListItem\", {\n  default(v) {\n    ListItem = v;\n  }\n\n}, 5);\nlet ListItemText;\nmodule.link(\"@material-ui/core/ListItemText\", {\n  default(v) {\n    ListItemText = v;\n  }\n\n}, 6);\nlet T;\nmodule.link(\"../Translation\", {\n  default(v) {\n    T = v;\n  }\n\n}, 7);\nlet generalTooltips;\nmodule.link(\"../../arrays/tooltips\", {\n  generalTooltips(v) {\n    generalTooltips = v;\n  }\n\n}, 8);\nlet Button;\nmodule.link(\"../Button\", {\n  default(v) {\n    Button = v;\n  }\n\n}, 9);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nconst styles = {\n  list: {\n    width: '100%',\n    maxWidth: 800\n  },\n  selected: {\n    width: '100%',\n    maxWidth: 800\n  }\n};\n\nclass SearchResults extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"setupSearch\", () => {\n      this.search = new JsSearch.Search('id');\n      this.search.addIndex('tooltipMatch');\n      this.search.addIndex('tooltipValue1');\n      this.search.addIndex('tooltipValue2');\n      this.tooltips = this.getTooltips();\n      this.search.addDocuments(this.tooltips);\n    });\n\n    _defineProperty(this, \"getTooltips\", () => {\n      const f = this.props.intl.formatMessage;\n      const intlValues = {\n        verticalSpace: ' '\n      };\n      return Object.keys(generalTooltips).map(match => {\n        const tooltipId = generalTooltips[match].id;\n        const tooltip = {\n          id: tooltipId,\n          tooltipMatch: match,\n          tooltipValue1: f({\n            id: \"tooltip.\".concat(tooltipId)\n          }, intlValues)\n        };\n\n        if (generalTooltips[match].double) {\n          tooltip.tooltipValue2 = f({\n            id: \"tooltip2.\".concat(tooltipId)\n          }, intlValues);\n        }\n\n        return tooltip;\n      });\n    });\n\n    this.state = {\n      showId: ''\n    };\n    this.setupSearch();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // Cancel viewing results if something new is typed/deleted\n    if (nextProps.search !== this.props.search && this.state.showId) {\n      this.setState({\n        showId: ''\n      });\n    }\n  }\n\n  render() {\n    const {\n      search\n    } = this.props;\n    const {\n      showId\n    } = this.state;\n    const results = this.search.search(search);\n\n    if (showId) {\n      const selectedResult = this.tooltips.filter(result => result.id === showId)[0];\n      return React.createElement(\"div\", {\n        className: \"flex-col\",\n        style: styles.selected\n      }, React.createElement(\"h3\", null, selectedResult.tooltipMatch), React.createElement(\"p\", null, selectedResult.tooltipValue1), React.createElement(\"p\", null, selectedResult.tooltipValue2), React.createElement(\"div\", {\n        className: \"text-center\",\n        style: {\n          paddingTop: 16\n        }\n      }, React.createElement(Button, {\n        primary: true,\n        label: React.createElement(T, {\n          id: \"general.ok\"\n        }),\n        onClick: () => this.setState({\n          showId: ''\n        })\n      })));\n    }\n\n    if (search === '') {\n      return React.createElement(List, {\n        style: styles.list\n      }, this.tooltips.map(result => React.createElement(ListItem, {\n        button: true,\n        divider: true,\n        onClick: () => this.setState({\n          showId: result.id\n        }),\n        key: result.id\n      }, React.createElement(ListItemText, {\n        primary: result.tooltipMatch,\n        secondary: result.tooltipValue1\n      }))));\n    }\n\n    if (search && results.length === 0) {\n      return React.createElement(\"div\", {\n        className: \"description\"\n      }, React.createElement(\"p\", null, React.createElement(T, {\n        id: \"SearchResults.none\"\n      })));\n    }\n\n    return React.createElement(List, {\n      style: styles.list\n    }, results.map(result => React.createElement(ListItem, {\n      button: true,\n      divider: true,\n      onClick: () => this.setState({\n        showId: result.id\n      }),\n      key: result.id\n    }, React.createElement(ListItemText, {\n      primary: result.tooltipMatch,\n      secondary: result.tooltipValue1\n    }))));\n  }\n\n}\n\nSearchResults.propTypes = {\n  intl: PropTypes.object.isRequired,\n  search: PropTypes.string.isRequired\n};\nmodule.exportDefault(injectIntl(SearchResults));","map":{"version":3,"sources":["imports/core/components/SearchModal/SearchResults.jsx"],"names":["styles","list","width","maxWidth","selected","constructor","showId","componentWillReceiveProps","nextProps","JsSearch","f","intlValues","verticalSpace","match","tooltipId","generalTooltips","tooltip","id","tooltipMatch","tooltipValue1","render","search","results","selectedResult","result","paddingTop","SearchResults","intl","PropTypes","isRequired","injectIntl"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport JsSearch from 'js-search';\nimport { injectIntl } from 'react-intl';\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport T from 'core/components/Translation';\nimport { generalTooltips } from 'core/arrays/tooltips';\nimport Button from 'core/components/Button';\n\nconst styles = {\n  list: {\n    width: '100%',\n    maxWidth: 800,\n  },\n  selected: {\n    width: '100%',\n    maxWidth: 800,\n  },\n};\n\nclass SearchResults extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { showId: '' };\n    this.setupSearch();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // Cancel viewing results if something new is typed/deleted\n    if (nextProps.search !== this.props.search && this.state.showId) {\n      this.setState({ showId: '' });\n    }\n  }\n\n  setupSearch = () => {\n    this.search = new JsSearch.Search('id');\n    this.search.addIndex('tooltipMatch');\n    this.search.addIndex('tooltipValue1');\n    this.search.addIndex('tooltipValue2');\n\n    this.tooltips = this.getTooltips();\n    this.search.addDocuments(this.tooltips);\n  };\n\n  getTooltips = () => {\n    const f = this.props.intl.formatMessage;\n    const intlValues = { verticalSpace: ' ' };\n\n    return Object.keys(generalTooltips).map((match) => {\n      const tooltipId = generalTooltips[match].id;\n      const tooltip = {\n        id: tooltipId,\n        tooltipMatch: match,\n        tooltipValue1: f({ id: `tooltip.${tooltipId}` }, intlValues),\n      };\n      if (generalTooltips[match].double) {\n        tooltip.tooltipValue2 = f({ id: `tooltip2.${tooltipId}` }, intlValues);\n      }\n\n      return tooltip;\n    });\n  };\n\n  render() {\n    const { search } = this.props;\n    const { showId } = this.state;\n    const results = this.search.search(search);\n\n    if (showId) {\n      const selectedResult = this.tooltips.filter(result => result.id === showId)[0];\n      return (\n        <div className=\"flex-col\" style={styles.selected}>\n          <h3>{selectedResult.tooltipMatch}</h3>\n          <p>{selectedResult.tooltipValue1}</p>\n          <p>{selectedResult.tooltipValue2}</p>\n          <div className=\"text-center\" style={{ paddingTop: 16 }}>\n            <Button\n              primary\n              label={<T id=\"general.ok\" />}\n              onClick={() => this.setState({ showId: '' })}\n            />\n          </div>\n        </div>\n      );\n    }\n\n    if (search === '') {\n      return (\n        <List style={styles.list}>\n          {this.tooltips.map(result => (\n            <ListItem\n              button\n              divider\n              onClick={() => this.setState({ showId: result.id })}\n              key={result.id}\n            >\n              <ListItemText\n                primary={result.tooltipMatch}\n                secondary={result.tooltipValue1}\n              />\n            </ListItem>\n          ))}\n        </List>\n      );\n    }\n\n    if (search && results.length === 0) {\n      return (\n        <div className=\"description\">\n          <p>\n            <T id=\"SearchResults.none\" />\n          </p>\n        </div>\n      );\n    }\n\n    return (\n      <List style={styles.list}>\n        {results.map(result => (\n          <ListItem\n            button\n            divider\n            onClick={() => this.setState({ showId: result.id })}\n            key={result.id}\n          >\n            <ListItemText\n              primary={result.tooltipMatch}\n              secondary={result.tooltipValue1}\n            />\n          </ListItem>\n        ))}\n      </List>\n    );\n  }\n}\n\nSearchResults.propTypes = {\n  intl: PropTypes.object.isRequired,\n  search: PropTypes.string.isRequired,\n};\n\nexport default injectIntl(SearchResults);\n"]},"sourceType":"script","hash":"8c80779e77424489961a4f24d83e62ba64394ce2"}
