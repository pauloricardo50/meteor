{"metadata":{},"options":{"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/Florian/dev/epotek/microservices/backend/imports/core/api/promotions/schemas/PromotionSchema.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties",["flow",{}],"dynamicImport","classProperties","classPrivateProperties","jsx",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"imports/core/api/promotions/schemas/PromotionSchema.js","filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/api/promotions/schemas/PromotionSchema.js","inputSourceMap":{"version":3,"sources":["imports/core/api/promotions/schemas/PromotionSchema.js"],"names":["Meteor","SimpleSchema","PROMOTION_TYPES","PROMOTION_STATUS","PROMOTION_PERMISSIONS","address","contactsSchema","userLinksSchema","createdAt","updatedAt","documentsField","percentageField","dateField","SCHEMA_BOOLEAN","type","Boolean","optional","defaultValue","promotionPermissionsSchema","canAddLots","canModifyLots","canRemoveLots","canModifyPromotion","canManageDocuments","displayCustomerNames","oneOf","Object","autoValue","isServer","isSet","value","undefined","keys","length","invitedBy","Array","uniforms","displayEmpty","placeholder","checkboxes","String","allowedValues","values","DISPLAY_CUSTOMER_NAMES","FOR_LOT_STATUS","INVITED_BY","canInviteCustomers","canBookLots","canSellLots","PromotionSchema","name","status","PREPARATION","propertyLinks","lotLinks","promotionLotLinks","assignedEmployeeId","documents","lenderOrganisationLink","constructionTimeline","Number","signingDate","BasePromotionSchema","pick"],"mappings":"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","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport SimpleSchema from 'simpl-schema';\nimport {\n  PROMOTION_TYPES,\n  PROMOTION_STATUS,\n  PROMOTION_PERMISSIONS,\n} from '../promotionConstants';\nimport {\n  address,\n  contactsSchema,\n  userLinksSchema,\n  createdAt,\n  updatedAt,\n  documentsField,\n  percentageField,\n  dateField,\n} from '../../helpers/sharedSchemas';\n\nconst SCHEMA_BOOLEAN = { type: Boolean, optional: true, defaultValue: false };\n\nexport const promotionPermissionsSchema = {\n  canAddLots: SCHEMA_BOOLEAN,\n  canModifyLots: SCHEMA_BOOLEAN,\n  canRemoveLots: SCHEMA_BOOLEAN,\n  canModifyPromotion: SCHEMA_BOOLEAN,\n  canManageDocuments: SCHEMA_BOOLEAN,\n  displayCustomerNames: {\n    type: SimpleSchema.oneOf(Boolean, Object),\n    optional: true,\n    autoValue() {\n      if (Meteor.isServer && this.isSet) {\n        if (this.value === undefined) {\n          return false;\n        }\n\n        if (this.value instanceof Object) {\n          if (!Object.keys(this.value).length) {\n            return false;\n          }\n\n          if (!this.value.invitedBy) {\n            return false;\n          }\n        }\n\n        return this.value;\n      }\n    },\n  },\n  'displayCustomerNames.forLotStatus': {\n    type: Array,\n    optional: true,\n    defaultValue: [],\n    uniforms: { displayEmpty: false, placeholder: '', checkboxes: true },\n  },\n  'displayCustomerNames.forLotStatus.$': {\n    type: String,\n    allowedValues: Object.values(PROMOTION_PERMISSIONS.DISPLAY_CUSTOMER_NAMES.FOR_LOT_STATUS),\n  },\n  'displayCustomerNames.invitedBy': {\n    type: String,\n    optional: true,\n    allowedValues: Object.values(PROMOTION_PERMISSIONS.DISPLAY_CUSTOMER_NAMES.INVITED_BY),\n    uniforms: { displayEmpty: false, placeholder: '' },\n  },\n  canInviteCustomers: SCHEMA_BOOLEAN,\n  canBookLots: SCHEMA_BOOLEAN,\n  // canPreBookLots: SCHEMA_BOOLEAN,\n  canSellLots: SCHEMA_BOOLEAN,\n};\n\nconst PromotionSchema = new SimpleSchema({\n  createdAt,\n  updatedAt,\n  name: { type: String, uniforms: { placeholder: 'Les Terrasses de Versoix' } },\n  type: {\n    type: String,\n    allowedValues: Object.values(PROMOTION_TYPES),\n    uniforms: { displayEmpty: false },\n  },\n  status: {\n    type: String,\n    allowedValues: Object.values(PROMOTION_STATUS),\n    defaultValue: PROMOTION_STATUS.PREPARATION,\n    uniforms: { displayEmpty: false },\n  },\n  ...address,\n  ...contactsSchema,\n  propertyLinks: { type: Array, defaultValue: [] },\n  'propertyLinks.$': Object,\n  'propertyLinks.$._id': { type: String, optional: true },\n  lotLinks: { type: Array, defaultValue: [] },\n  'lotLinks.$': Object,\n  'lotLinks.$._id': { type: String, optional: true },\n  promotionLotLinks: { type: Array, defaultValue: [] },\n  'promotionLotLinks.$': Object,\n  'promotionLotLinks.$._id': { type: String, optional: true },\n  assignedEmployeeId: { type: String, optional: true },\n  ...userLinksSchema(promotionPermissionsSchema),\n  documents: documentsField,\n  lenderOrganisationLink: { type: Object, optional: true },\n  'lenderOrganisationLink._id': { type: String, optional: true },\n  constructionTimeline: { type: Array, defaultValue: [] },\n  'constructionTimeline.$': Object,\n  'constructionTimeline.$.description': String,\n  'constructionTimeline.$.duration': Number,\n  'constructionTimeline.$.percent': { ...percentageField, optional: false },\n  signingDate: dateField,\n});\n\nexport const BasePromotionSchema = PromotionSchema.pick(\n  'name',\n  'type',\n  'address1',\n  'address2',\n  'zipCode',\n  'city',\n  'contacts',\n);\n\nexport default PromotionSchema;\n"]},"passPerPreset":false,"envName":"development","cwd":"/Users/Florian/dev/epotek/microservices/backend","root":"/Users/Florian/dev/epotek/microservices/backend","plugins":[{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"transform-runtime","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-modules-commonjs","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-flow","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/api/promotions/schemas/PromotionSchema.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/core/api/promotions/schemas/PromotionSchema.js"}},"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nmodule.export({\n  promotionPermissionsSchema: () => promotionPermissionsSchema,\n  BasePromotionSchema: () => BasePromotionSchema\n});\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet SimpleSchema;\nmodule.link(\"simpl-schema\", {\n  default(v) {\n    SimpleSchema = v;\n  }\n\n}, 1);\nlet PROMOTION_TYPES, PROMOTION_STATUS, PROMOTION_PERMISSIONS;\nmodule.link(\"../promotionConstants\", {\n  PROMOTION_TYPES(v) {\n    PROMOTION_TYPES = v;\n  },\n\n  PROMOTION_STATUS(v) {\n    PROMOTION_STATUS = v;\n  },\n\n  PROMOTION_PERMISSIONS(v) {\n    PROMOTION_PERMISSIONS = v;\n  }\n\n}, 2);\nlet address, contactsSchema, userLinksSchema, createdAt, updatedAt, documentsField, percentageField, dateField;\nmodule.link(\"../../helpers/sharedSchemas\", {\n  address(v) {\n    address = v;\n  },\n\n  contactsSchema(v) {\n    contactsSchema = v;\n  },\n\n  userLinksSchema(v) {\n    userLinksSchema = v;\n  },\n\n  createdAt(v) {\n    createdAt = v;\n  },\n\n  updatedAt(v) {\n    updatedAt = v;\n  },\n\n  documentsField(v) {\n    documentsField = v;\n  },\n\n  percentageField(v) {\n    percentageField = v;\n  },\n\n  dateField(v) {\n    dateField = v;\n  }\n\n}, 3);\nconst SCHEMA_BOOLEAN = {\n  type: Boolean,\n  optional: true,\n  defaultValue: false\n};\nconst promotionPermissionsSchema = {\n  canAddLots: SCHEMA_BOOLEAN,\n  canModifyLots: SCHEMA_BOOLEAN,\n  canRemoveLots: SCHEMA_BOOLEAN,\n  canModifyPromotion: SCHEMA_BOOLEAN,\n  canManageDocuments: SCHEMA_BOOLEAN,\n  displayCustomerNames: {\n    type: SimpleSchema.oneOf(Boolean, Object),\n    optional: true,\n\n    autoValue() {\n      if (Meteor.isServer && this.isSet) {\n        if (this.value === undefined) {\n          return false;\n        }\n\n        if (this.value instanceof Object) {\n          if (!Object.keys(this.value).length) {\n            return false;\n          }\n\n          if (!this.value.invitedBy) {\n            return false;\n          }\n        }\n\n        return this.value;\n      }\n    }\n\n  },\n  'displayCustomerNames.forLotStatus': {\n    type: Array,\n    optional: true,\n    defaultValue: [],\n    uniforms: {\n      displayEmpty: false,\n      placeholder: '',\n      checkboxes: true\n    }\n  },\n  'displayCustomerNames.forLotStatus.$': {\n    type: String,\n    allowedValues: Object.values(PROMOTION_PERMISSIONS.DISPLAY_CUSTOMER_NAMES.FOR_LOT_STATUS)\n  },\n  'displayCustomerNames.invitedBy': {\n    type: String,\n    optional: true,\n    allowedValues: Object.values(PROMOTION_PERMISSIONS.DISPLAY_CUSTOMER_NAMES.INVITED_BY),\n    uniforms: {\n      displayEmpty: false,\n      placeholder: ''\n    }\n  },\n  canInviteCustomers: SCHEMA_BOOLEAN,\n  canBookLots: SCHEMA_BOOLEAN,\n  // canPreBookLots: SCHEMA_BOOLEAN,\n  canSellLots: SCHEMA_BOOLEAN\n};\nconst PromotionSchema = new SimpleSchema((0, _objectSpread2.default)({\n  createdAt,\n  updatedAt,\n  name: {\n    type: String,\n    uniforms: {\n      placeholder: 'Les Terrasses de Versoix'\n    }\n  },\n  type: {\n    type: String,\n    allowedValues: Object.values(PROMOTION_TYPES),\n    uniforms: {\n      displayEmpty: false\n    }\n  },\n  status: {\n    type: String,\n    allowedValues: Object.values(PROMOTION_STATUS),\n    defaultValue: PROMOTION_STATUS.PREPARATION,\n    uniforms: {\n      displayEmpty: false\n    }\n  }\n}, address, contactsSchema, {\n  propertyLinks: {\n    type: Array,\n    defaultValue: []\n  },\n  'propertyLinks.$': Object,\n  'propertyLinks.$._id': {\n    type: String,\n    optional: true\n  },\n  lotLinks: {\n    type: Array,\n    defaultValue: []\n  },\n  'lotLinks.$': Object,\n  'lotLinks.$._id': {\n    type: String,\n    optional: true\n  },\n  promotionLotLinks: {\n    type: Array,\n    defaultValue: []\n  },\n  'promotionLotLinks.$': Object,\n  'promotionLotLinks.$._id': {\n    type: String,\n    optional: true\n  },\n  assignedEmployeeId: {\n    type: String,\n    optional: true\n  }\n}, userLinksSchema(promotionPermissionsSchema), {\n  documents: documentsField,\n  lenderOrganisationLink: {\n    type: Object,\n    optional: true\n  },\n  'lenderOrganisationLink._id': {\n    type: String,\n    optional: true\n  },\n  constructionTimeline: {\n    type: Array,\n    defaultValue: []\n  },\n  'constructionTimeline.$': Object,\n  'constructionTimeline.$.description': String,\n  'constructionTimeline.$.duration': Number,\n  'constructionTimeline.$.percent': (0, _objectSpread2.default)({}, percentageField, {\n    optional: false\n  }),\n  signingDate: dateField\n}));\nconst BasePromotionSchema = PromotionSchema.pick('name', 'type', 'address1', 'address2', 'zipCode', 'city', 'contacts');\nmodule.exportDefault(PromotionSchema);","map":{"version":3,"sources":["imports/core/api/promotions/schemas/PromotionSchema.js"],"names":["Meteor","SCHEMA_BOOLEAN","type","optional","defaultValue","promotionPermissionsSchema","canAddLots","canModifyLots","canRemoveLots","canModifyPromotion","canManageDocuments","displayCustomerNames","SimpleSchema","autoValue","Object","uniforms","displayEmpty","placeholder","checkboxes","allowedValues","PROMOTION_PERMISSIONS","canInviteCustomers","canBookLots","canSellLots","PromotionSchema","name","status","PROMOTION_STATUS","propertyLinks","lotLinks","promotionLotLinks","assignedEmployeeId","userLinksSchema","documents","lenderOrganisationLink","constructionTimeline","signingDate","dateField","BasePromotionSchema"],"mappings":"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","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport SimpleSchema from 'simpl-schema';\nimport {\n  PROMOTION_TYPES,\n  PROMOTION_STATUS,\n  PROMOTION_PERMISSIONS,\n} from '../promotionConstants';\nimport {\n  address,\n  contactsSchema,\n  userLinksSchema,\n  createdAt,\n  updatedAt,\n  documentsField,\n  percentageField,\n  dateField,\n} from '../../helpers/sharedSchemas';\n\nconst SCHEMA_BOOLEAN = { type: Boolean, optional: true, defaultValue: false };\n\nexport const promotionPermissionsSchema = {\n  canAddLots: SCHEMA_BOOLEAN,\n  canModifyLots: SCHEMA_BOOLEAN,\n  canRemoveLots: SCHEMA_BOOLEAN,\n  canModifyPromotion: SCHEMA_BOOLEAN,\n  canManageDocuments: SCHEMA_BOOLEAN,\n  displayCustomerNames: {\n    type: SimpleSchema.oneOf(Boolean, Object),\n    optional: true,\n    autoValue() {\n      if (Meteor.isServer && this.isSet) {\n        if (this.value === undefined) {\n          return false;\n        }\n\n        if (this.value instanceof Object) {\n          if (!Object.keys(this.value).length) {\n            return false;\n          }\n\n          if (!this.value.invitedBy) {\n            return false;\n          }\n        }\n\n        return this.value;\n      }\n    },\n  },\n  'displayCustomerNames.forLotStatus': {\n    type: Array,\n    optional: true,\n    defaultValue: [],\n    uniforms: { displayEmpty: false, placeholder: '', checkboxes: true },\n  },\n  'displayCustomerNames.forLotStatus.$': {\n    type: String,\n    allowedValues: Object.values(PROMOTION_PERMISSIONS.DISPLAY_CUSTOMER_NAMES.FOR_LOT_STATUS),\n  },\n  'displayCustomerNames.invitedBy': {\n    type: String,\n    optional: true,\n    allowedValues: Object.values(PROMOTION_PERMISSIONS.DISPLAY_CUSTOMER_NAMES.INVITED_BY),\n    uniforms: { displayEmpty: false, placeholder: '' },\n  },\n  canInviteCustomers: SCHEMA_BOOLEAN,\n  canBookLots: SCHEMA_BOOLEAN,\n  // canPreBookLots: SCHEMA_BOOLEAN,\n  canSellLots: SCHEMA_BOOLEAN,\n};\n\nconst PromotionSchema = new SimpleSchema({\n  createdAt,\n  updatedAt,\n  name: { type: String, uniforms: { placeholder: 'Les Terrasses de Versoix' } },\n  type: {\n    type: String,\n    allowedValues: Object.values(PROMOTION_TYPES),\n    uniforms: { displayEmpty: false },\n  },\n  status: {\n    type: String,\n    allowedValues: Object.values(PROMOTION_STATUS),\n    defaultValue: PROMOTION_STATUS.PREPARATION,\n    uniforms: { displayEmpty: false },\n  },\n  ...address,\n  ...contactsSchema,\n  propertyLinks: { type: Array, defaultValue: [] },\n  'propertyLinks.$': Object,\n  'propertyLinks.$._id': { type: String, optional: true },\n  lotLinks: { type: Array, defaultValue: [] },\n  'lotLinks.$': Object,\n  'lotLinks.$._id': { type: String, optional: true },\n  promotionLotLinks: { type: Array, defaultValue: [] },\n  'promotionLotLinks.$': Object,\n  'promotionLotLinks.$._id': { type: String, optional: true },\n  assignedEmployeeId: { type: String, optional: true },\n  ...userLinksSchema(promotionPermissionsSchema),\n  documents: documentsField,\n  lenderOrganisationLink: { type: Object, optional: true },\n  'lenderOrganisationLink._id': { type: String, optional: true },\n  constructionTimeline: { type: Array, defaultValue: [] },\n  'constructionTimeline.$': Object,\n  'constructionTimeline.$.description': String,\n  'constructionTimeline.$.duration': Number,\n  'constructionTimeline.$.percent': { ...percentageField, optional: false },\n  signingDate: dateField,\n});\n\nexport const BasePromotionSchema = PromotionSchema.pick(\n  'name',\n  'type',\n  'address1',\n  'address2',\n  'zipCode',\n  'city',\n  'contacts',\n);\n\nexport default PromotionSchema;\n"]},"sourceType":"script","hash":"010b1ae1a6a0cd75cd0490ba35d0bff96058eb5d"}
