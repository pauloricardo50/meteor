{"metadata":{},"options":{"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/Florian/dev/epotek/microservices/backend/imports/core/components/TextInput/TextInput.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties",["flow",{}],"jsx",["flow",{}],["flow",{}],"objectRestSpread","objectRestSpread","dynamicImport","asyncGenerators","classProperties","classPrivateProperties"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"caller":{"name":"meteor","arch":"os.linux.x86_64"},"sourceFileName":"imports/core/components/TextInput/TextInput.jsx","filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/components/TextInput/TextInput.jsx","inputSourceMap":{"version":3,"sources":["imports/core/components/TextInput/TextInput.jsx"],"names":["React","PropTypes","injectIntl","MaskedInput","moment","classnames","InputAdornment","FormHelperText","InputLabel","useInputLabelWidth","FormControl","Input","swissFrancMask","percentMask","toNumber","getDefaults","type","id","onChange","value","simpleOnChange","onChangeHandler","event","target","showMask","mask","placeholder","Math","round","parseFloat","toFixed","onDateChange","val","date","format","getFinalPlaceholder","noIntl","defaultPlaceholder","intl","finalPlaceholder","formatMessage","TextInput","props","classes","className","error","fullWidth","info","inputComponent","InputProps","inputProps","inputRef","label","labelStyle","style","inputType","inputLabelProps","otherProps","inputLabelRef","labelWidth","Object","values","join","fontSize","undefined","noValidate","pattern","propTypes","bool","string","node","func","object","oneOfType","element","number","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { injectIntl } from 'react-intl';\nimport MaskedInput from 'react-text-mask';\nimport moment from 'moment';\nimport classnames from 'classnames';\n\nimport InputAdornment from '../Material/InputAdornment';\nimport FormHelperText from '../Material/FormHelperText';\nimport InputLabel, { useInputLabelWidth } from '../Material/InputLabel';\nimport FormControl from '../Material/FormControl';\nimport Input from '../Material/Input';\nimport { swissFrancMask, percentMask } from '../../utils/textMasks';\nimport { toNumber } from '../../utils/conversionFunctions';\n\nconst getDefaults = ({ type, id, onChange, value, simpleOnChange }) => {\n  if (simpleOnChange) {\n    return { onChangeHandler: onChange, value };\n  }\n\n  switch (type) {\n  case 'money':\n    return {\n      onChangeHandler: event => onChange(id, toNumber(event.target.value)),\n      showMask: true,\n      mask: swissFrancMask,\n      placeholder: 0,\n      value,\n    };\n  case 'percent':\n    return {\n      onChangeHandler: event =>\n        onChange(\n          id,\n          Math.round(parseFloat(event.target.value) * 100) / 10000,\n        ),\n      showMask: true,\n      mask: percentMask,\n      placeholder: '%',\n      value: (value * 100).toFixed(2),\n    };\n  case 'number':\n    return {\n      onChangeHandler: event => onChange(id, toNumber(event.target.value)),\n      showMask: false,\n      value,\n    };\n  case 'date':\n    return {\n      onChangeHandler: event => onChange(id, event.target.value, event),\n      onDateChange: (val) => {\n        // This specific format should be used for the server to get the\n        // date in the right order\n        const date = moment(val).format('YYYY-MM-DD');\n        // Allow setting a date to null\n        onChange(id, val ? date : null, {});\n      },\n      showMask: false,\n      value: value ? moment(value) : null,\n    };\n  default:\n    return {\n      // Pass event as third argument, for some components which need it\n      // like react-autosuggest\n      onChangeHandler: event => onChange(id, event.target.value, event),\n      showMask: false,\n      value,\n    };\n  }\n};\n\nexport const getFinalPlaceholder = ({\n  noIntl,\n  placeholder,\n  defaultPlaceholder,\n  intl,\n  type,\n}) => {\n  let finalPlaceholder;\n  if (noIntl) {\n    finalPlaceholder = placeholder || defaultPlaceholder;\n  } else {\n    finalPlaceholder = placeholder && typeof placeholder === 'string'\n      ? `${intl.formatMessage({\n        id: 'Forms.textInput.placeholderPrefix',\n      })} ${intl.formatMessage({ id: placeholder })}`\n      : defaultPlaceholder;\n  }\n\n  // Ignore placeholder for money inputs, and just show the currency\n  // Showing an amount is confusing\n  if (type === 'money') {\n    finalPlaceholder = defaultPlaceholder;\n  }\n\n  return finalPlaceholder;\n};\nconst TextInput = (props) => {\n  const {\n    classes,\n    className,\n    error,\n    fullWidth,\n    id,\n    info,\n    inputComponent,\n    InputProps,\n    inputProps,\n    inputRef,\n    intl,\n    label,\n    labelStyle,\n    noIntl,\n    onChange,\n    placeholder,\n    simpleOnChange,\n    style,\n    type,\n    inputType,\n    inputLabelProps,\n    ...otherProps\n  } = props;\n\n  const {\n    onChangeHandler,\n    onDateChange,\n    showMask,\n    mask,\n    placeholder: defaultPlaceholder,\n    value,\n  } = getDefaults(props);\n  const { inputLabelRef, labelWidth } = useInputLabelWidth(!!label);\n\n  return (\n    <FormControl\n      error={error}\n      className={classnames('mui-text-input', className)}\n      style={style}\n      fullWidth={fullWidth}\n    >\n      {label && (\n        <InputLabel\n          ref={inputLabelRef}\n          htmlFor={id}\n          style={labelStyle}\n          {...inputLabelProps}\n        >\n          {label}\n        </InputLabel>\n      )}\n      <Input\n        {...otherProps}\n        labelWidth={labelWidth}\n        className={classes ? Object.values(classes).join(' ') : ''}\n        id={id}\n        onChange={onChangeHandler}\n        type={inputType || 'text'}\n        style={{ fontSize: 'inherit' }}\n        inputComponent={showMask ? MaskedInput : inputComponent || undefined}\n        inputProps={{\n          ...inputProps, // Backwards compatible\n          ...InputProps,\n          value,\n          placeholder: getFinalPlaceholder({\n            noIntl,\n            placeholder,\n            defaultPlaceholder,\n            intl,\n            type,\n          }),\n          noValidate: true,\n          mask: mask || undefined,\n          pattern: mask ? '[0-9]*' : undefined,\n          onDateChange: inputType === 'date' ? onDateChange : undefined,\n        }}\n        startAdornment={\n          props.type === 'money' ? (\n            <InputAdornment position=\"start\">CHF</InputAdornment>\n          ) : null\n        }\n      />\n      {info && <FormHelperText>{info}</FormHelperText>}\n    </FormControl>\n  );\n};\n\nTextInput.propTypes = {\n  error: PropTypes.bool,\n  id: PropTypes.string,\n  info: PropTypes.node,\n  inputComponent: PropTypes.func,\n  inputProps: PropTypes.object,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  noIntl: PropTypes.bool,\n  onChange: PropTypes.func,\n  placeholder: PropTypes.node,\n  simpleOnChange: PropTypes.bool, // Removes all onChange modifications\n  type: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n};\n\nTextInput.defaultProps = {\n  error: false,\n  id: undefined,\n  info: undefined,\n  inputComponent: null,\n  inputProps: undefined,\n  label: '',\n  noIntl: false,\n  onChange: undefined,\n  placeholder: undefined,\n  simpleOnChange: false,\n  type: undefined,\n  value: undefined,\n};\n\nexport default injectIntl(TextInput);\n"]},"passPerPreset":false,"envName":"production","cwd":"/Users/Florian/dev/epotek/microservices/backend","root":"/Users/Florian/dev/epotek/microservices/backend","plugins":[{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"syntax-flow","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-runtime","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-meteor-async-await","visitor":{"AwaitExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]},"ClassPrivateMethod":{"exit":[null]}},"options":{"useNativeAsyncAwait":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"transform-modules-commonjs","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}}],"presets":[],"generatorOpts":{"filename":"/Users/Florian/dev/epotek/microservices/backend/imports/core/components/TextInput/TextInput.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/core/components/TextInput/TextInput.jsx"}},"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nmodule.export({\n  getFinalPlaceholder: () => getFinalPlaceholder\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet PropTypes;\nmodule.link(\"prop-types\", {\n  default(v) {\n    PropTypes = v;\n  }\n\n}, 1);\nlet injectIntl;\nmodule.link(\"react-intl\", {\n  injectIntl(v) {\n    injectIntl = v;\n  }\n\n}, 2);\nlet MaskedInput;\nmodule.link(\"react-text-mask\", {\n  default(v) {\n    MaskedInput = v;\n  }\n\n}, 3);\nlet moment;\nmodule.link(\"moment\", {\n  default(v) {\n    moment = v;\n  }\n\n}, 4);\nlet classnames;\nmodule.link(\"classnames\", {\n  default(v) {\n    classnames = v;\n  }\n\n}, 5);\nlet InputAdornment;\nmodule.link(\"../Material/InputAdornment\", {\n  default(v) {\n    InputAdornment = v;\n  }\n\n}, 6);\nlet FormHelperText;\nmodule.link(\"../Material/FormHelperText\", {\n  default(v) {\n    FormHelperText = v;\n  }\n\n}, 7);\nlet InputLabel, useInputLabelWidth;\nmodule.link(\"../Material/InputLabel\", {\n  default(v) {\n    InputLabel = v;\n  },\n\n  useInputLabelWidth(v) {\n    useInputLabelWidth = v;\n  }\n\n}, 8);\nlet FormControl;\nmodule.link(\"../Material/FormControl\", {\n  default(v) {\n    FormControl = v;\n  }\n\n}, 9);\nlet Input;\nmodule.link(\"../Material/Input\", {\n  default(v) {\n    Input = v;\n  }\n\n}, 10);\nlet swissFrancMask, percentMask;\nmodule.link(\"../../utils/textMasks\", {\n  swissFrancMask(v) {\n    swissFrancMask = v;\n  },\n\n  percentMask(v) {\n    percentMask = v;\n  }\n\n}, 11);\nlet toNumber;\nmodule.link(\"../../utils/conversionFunctions\", {\n  toNumber(v) {\n    toNumber = v;\n  }\n\n}, 12);\n\nconst getDefaults = ({\n  type,\n  id,\n  onChange,\n  value,\n  simpleOnChange\n}) => {\n  if (simpleOnChange) {\n    return {\n      onChangeHandler: onChange,\n      value\n    };\n  }\n\n  switch (type) {\n    case 'money':\n      return {\n        onChangeHandler: event => onChange(id, toNumber(event.target.value)),\n        showMask: true,\n        mask: swissFrancMask,\n        placeholder: 0,\n        value\n      };\n\n    case 'percent':\n      return {\n        onChangeHandler: event => onChange(id, Math.round(parseFloat(event.target.value) * 100) / 10000),\n        showMask: true,\n        mask: percentMask,\n        placeholder: '%',\n        value: (value * 100).toFixed(2)\n      };\n\n    case 'number':\n      return {\n        onChangeHandler: event => onChange(id, toNumber(event.target.value)),\n        showMask: false,\n        value\n      };\n\n    case 'date':\n      return {\n        onChangeHandler: event => onChange(id, event.target.value, event),\n        onDateChange: val => {\n          // This specific format should be used for the server to get the\n          // date in the right order\n          const date = moment(val).format('YYYY-MM-DD'); // Allow setting a date to null\n\n          onChange(id, val ? date : null, {});\n        },\n        showMask: false,\n        value: value ? moment(value) : null\n      };\n\n    default:\n      return {\n        // Pass event as third argument, for some components which need it\n        // like react-autosuggest\n        onChangeHandler: event => onChange(id, event.target.value, event),\n        showMask: false,\n        value\n      };\n  }\n};\n\nconst getFinalPlaceholder = ({\n  noIntl,\n  placeholder,\n  defaultPlaceholder,\n  intl,\n  type\n}) => {\n  let finalPlaceholder;\n\n  if (noIntl) {\n    finalPlaceholder = placeholder || defaultPlaceholder;\n  } else {\n    finalPlaceholder = placeholder && typeof placeholder === 'string' ? `${intl.formatMessage({\n      id: 'Forms.textInput.placeholderPrefix'\n    })} ${intl.formatMessage({\n      id: placeholder\n    })}` : defaultPlaceholder;\n  } // Ignore placeholder for money inputs, and just show the currency\n  // Showing an amount is confusing\n\n\n  if (type === 'money') {\n    finalPlaceholder = defaultPlaceholder;\n  }\n\n  return finalPlaceholder;\n};\n\nconst TextInput = props => {\n  const {\n    classes,\n    className,\n    error,\n    fullWidth,\n    id,\n    info,\n    inputComponent,\n    InputProps,\n    inputProps,\n    inputRef,\n    intl,\n    label,\n    labelStyle,\n    noIntl,\n    onChange,\n    placeholder,\n    simpleOnChange,\n    style,\n    type,\n    inputType,\n    inputLabelProps\n  } = props,\n        otherProps = (0, _objectWithoutProperties2.default)(props, [\"classes\", \"className\", \"error\", \"fullWidth\", \"id\", \"info\", \"inputComponent\", \"InputProps\", \"inputProps\", \"inputRef\", \"intl\", \"label\", \"labelStyle\", \"noIntl\", \"onChange\", \"placeholder\", \"simpleOnChange\", \"style\", \"type\", \"inputType\", \"inputLabelProps\"]);\n  const {\n    onChangeHandler,\n    onDateChange,\n    showMask,\n    mask,\n    placeholder: defaultPlaceholder,\n    value\n  } = getDefaults(props);\n  const {\n    inputLabelRef,\n    labelWidth\n  } = useInputLabelWidth(!!label);\n  return React.createElement(FormControl, {\n    error: error,\n    className: classnames('mui-text-input', className),\n    style: style,\n    fullWidth: fullWidth\n  }, label && React.createElement(InputLabel, (0, _extends2.default)({\n    ref: inputLabelRef,\n    htmlFor: id,\n    style: labelStyle\n  }, inputLabelProps), label), React.createElement(Input, (0, _extends2.default)({}, otherProps, {\n    labelWidth: labelWidth,\n    className: classes ? Object.values(classes).join(' ') : '',\n    id: id,\n    onChange: onChangeHandler,\n    type: inputType || 'text',\n    style: {\n      fontSize: 'inherit'\n    },\n    inputComponent: showMask ? MaskedInput : inputComponent || undefined,\n    inputProps: (0, _objectSpread2.default)({}, inputProps, InputProps, {\n      value,\n      placeholder: getFinalPlaceholder({\n        noIntl,\n        placeholder,\n        defaultPlaceholder,\n        intl,\n        type\n      }),\n      noValidate: true,\n      mask: mask || undefined,\n      pattern: mask ? '[0-9]*' : undefined,\n      onDateChange: inputType === 'date' ? onDateChange : undefined\n    }),\n    startAdornment: props.type === 'money' ? React.createElement(InputAdornment, {\n      position: \"start\"\n    }, \"CHF\") : null\n  })), info && React.createElement(FormHelperText, null, info));\n};\n\nTextInput.propTypes = {\n  error: PropTypes.bool,\n  id: PropTypes.string,\n  info: PropTypes.node,\n  inputComponent: PropTypes.func,\n  inputProps: PropTypes.object,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  noIntl: PropTypes.bool,\n  onChange: PropTypes.func,\n  placeholder: PropTypes.node,\n  simpleOnChange: PropTypes.bool,\n  // Removes all onChange modifications\n  type: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n};\nTextInput.defaultProps = {\n  error: false,\n  id: undefined,\n  info: undefined,\n  inputComponent: null,\n  inputProps: undefined,\n  label: '',\n  noIntl: false,\n  onChange: undefined,\n  placeholder: undefined,\n  simpleOnChange: false,\n  type: undefined,\n  value: undefined\n};\nmodule.exportDefault(injectIntl(TextInput));","map":{"version":3,"sources":["imports/core/components/TextInput/TextInput.jsx"],"names":["getDefaults","simpleOnChange","onChangeHandler","value","event","onChange","toNumber","showMask","mask","placeholder","Math","parseFloat","onDateChange","val","date","moment","getFinalPlaceholder","type","finalPlaceholder","id","TextInput","props","otherProps","labelWidth","useInputLabelWidth","classnames","label","classes","Object","inputType","fontSize","inputComponent","noValidate","pattern","undefined","info","error","PropTypes","inputProps","noIntl","injectIntl"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { injectIntl } from 'react-intl';\nimport MaskedInput from 'react-text-mask';\nimport moment from 'moment';\nimport classnames from 'classnames';\n\nimport InputAdornment from '../Material/InputAdornment';\nimport FormHelperText from '../Material/FormHelperText';\nimport InputLabel, { useInputLabelWidth } from '../Material/InputLabel';\nimport FormControl from '../Material/FormControl';\nimport Input from '../Material/Input';\nimport { swissFrancMask, percentMask } from '../../utils/textMasks';\nimport { toNumber } from '../../utils/conversionFunctions';\n\nconst getDefaults = ({ type, id, onChange, value, simpleOnChange }) => {\n  if (simpleOnChange) {\n    return { onChangeHandler: onChange, value };\n  }\n\n  switch (type) {\n  case 'money':\n    return {\n      onChangeHandler: event => onChange(id, toNumber(event.target.value)),\n      showMask: true,\n      mask: swissFrancMask,\n      placeholder: 0,\n      value,\n    };\n  case 'percent':\n    return {\n      onChangeHandler: event =>\n        onChange(\n          id,\n          Math.round(parseFloat(event.target.value) * 100) / 10000,\n        ),\n      showMask: true,\n      mask: percentMask,\n      placeholder: '%',\n      value: (value * 100).toFixed(2),\n    };\n  case 'number':\n    return {\n      onChangeHandler: event => onChange(id, toNumber(event.target.value)),\n      showMask: false,\n      value,\n    };\n  case 'date':\n    return {\n      onChangeHandler: event => onChange(id, event.target.value, event),\n      onDateChange: (val) => {\n        // This specific format should be used for the server to get the\n        // date in the right order\n        const date = moment(val).format('YYYY-MM-DD');\n        // Allow setting a date to null\n        onChange(id, val ? date : null, {});\n      },\n      showMask: false,\n      value: value ? moment(value) : null,\n    };\n  default:\n    return {\n      // Pass event as third argument, for some components which need it\n      // like react-autosuggest\n      onChangeHandler: event => onChange(id, event.target.value, event),\n      showMask: false,\n      value,\n    };\n  }\n};\n\nexport const getFinalPlaceholder = ({\n  noIntl,\n  placeholder,\n  defaultPlaceholder,\n  intl,\n  type,\n}) => {\n  let finalPlaceholder;\n  if (noIntl) {\n    finalPlaceholder = placeholder || defaultPlaceholder;\n  } else {\n    finalPlaceholder = placeholder && typeof placeholder === 'string'\n      ? `${intl.formatMessage({\n        id: 'Forms.textInput.placeholderPrefix',\n      })} ${intl.formatMessage({ id: placeholder })}`\n      : defaultPlaceholder;\n  }\n\n  // Ignore placeholder for money inputs, and just show the currency\n  // Showing an amount is confusing\n  if (type === 'money') {\n    finalPlaceholder = defaultPlaceholder;\n  }\n\n  return finalPlaceholder;\n};\nconst TextInput = (props) => {\n  const {\n    classes,\n    className,\n    error,\n    fullWidth,\n    id,\n    info,\n    inputComponent,\n    InputProps,\n    inputProps,\n    inputRef,\n    intl,\n    label,\n    labelStyle,\n    noIntl,\n    onChange,\n    placeholder,\n    simpleOnChange,\n    style,\n    type,\n    inputType,\n    inputLabelProps,\n    ...otherProps\n  } = props;\n\n  const {\n    onChangeHandler,\n    onDateChange,\n    showMask,\n    mask,\n    placeholder: defaultPlaceholder,\n    value,\n  } = getDefaults(props);\n  const { inputLabelRef, labelWidth } = useInputLabelWidth(!!label);\n\n  return (\n    <FormControl\n      error={error}\n      className={classnames('mui-text-input', className)}\n      style={style}\n      fullWidth={fullWidth}\n    >\n      {label && (\n        <InputLabel\n          ref={inputLabelRef}\n          htmlFor={id}\n          style={labelStyle}\n          {...inputLabelProps}\n        >\n          {label}\n        </InputLabel>\n      )}\n      <Input\n        {...otherProps}\n        labelWidth={labelWidth}\n        className={classes ? Object.values(classes).join(' ') : ''}\n        id={id}\n        onChange={onChangeHandler}\n        type={inputType || 'text'}\n        style={{ fontSize: 'inherit' }}\n        inputComponent={showMask ? MaskedInput : inputComponent || undefined}\n        inputProps={{\n          ...inputProps, // Backwards compatible\n          ...InputProps,\n          value,\n          placeholder: getFinalPlaceholder({\n            noIntl,\n            placeholder,\n            defaultPlaceholder,\n            intl,\n            type,\n          }),\n          noValidate: true,\n          mask: mask || undefined,\n          pattern: mask ? '[0-9]*' : undefined,\n          onDateChange: inputType === 'date' ? onDateChange : undefined,\n        }}\n        startAdornment={\n          props.type === 'money' ? (\n            <InputAdornment position=\"start\">CHF</InputAdornment>\n          ) : null\n        }\n      />\n      {info && <FormHelperText>{info}</FormHelperText>}\n    </FormControl>\n  );\n};\n\nTextInput.propTypes = {\n  error: PropTypes.bool,\n  id: PropTypes.string,\n  info: PropTypes.node,\n  inputComponent: PropTypes.func,\n  inputProps: PropTypes.object,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  noIntl: PropTypes.bool,\n  onChange: PropTypes.func,\n  placeholder: PropTypes.node,\n  simpleOnChange: PropTypes.bool, // Removes all onChange modifications\n  type: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n};\n\nTextInput.defaultProps = {\n  error: false,\n  id: undefined,\n  info: undefined,\n  inputComponent: null,\n  inputProps: undefined,\n  label: '',\n  noIntl: false,\n  onChange: undefined,\n  placeholder: undefined,\n  simpleOnChange: false,\n  type: undefined,\n  value: undefined,\n};\n\nexport default injectIntl(TextInput);\n"]},"sourceType":"script","hash":"c1ac3ef16c7d58abc2ee7b86246600de9a6b2558"}
